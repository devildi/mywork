{"version":3,"sources":["components/bottomNavigation.js","components/appbar.js","components/fab.js","components/table.js","components/tab.js","tools.js","commonComponents/chart.js","pages/chart.js","commonComponents/DateSelector.jsx","pages/arrange.js","pages/profile.js","store/action.js","pages/index.js","components/date.js","pages/submit.js","pages/submitArrange.js","commonComponents/signin.js","commonComponents/logon.js","commonComponents/photos.js","commonComponents/editinit.js","commonComponents/story.js","commonComponents/photosInput.js","commonComponents/photosEdit.js","commonComponents/totalStorys.js","commonComponents/totalTrips.js","commonComponents/client.js","commonComponents/mapView.js","commonComponents/googleMapView.js","commonComponents/edit.js","commonComponents/preview.js","commonComponents/list.js","commonComponents/gaodeShow.js","commonComponents/googleShow.js","commonComponents/show.js","routers/index.js","store/reducer.js","store/sagas.js","store/store.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","root","width","position","right","bottom","borderTop","Navigation","props","classes","whichPage","onSelect","nextstickerUsersIncreased","BottomNavigation","value","onChange","event","newValue","className","BottomNavigationAction","icon","Badge","badgeContent","color","theme","textAlign","Bar","title","history","AppBar","Toolbar","IconButton","edge","onClick","goBack","margin","spacing","FloatingActionButtons","add","push","clear","arrange","useHistory","Fab","aria-label","table","minWidth","SimpleTable","rows","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","length","Fragment","map","row","index","key","scope","Date","date","getMonth","getDate","shootnums","program","des","TabPanel","children","other","Typography","role","hidden","id","aria-labelledby","Box","p","backgroundColor","palette","background","paper","div","height","FullWidthTabs","useTheme","React","useState","setValue","Tabs","indicatorColor","textColor","variant","scrollButtons","item","Tab","label","whose","name","a11yProps","axis","direction","onChangeIndex","dir","googleMapcontainerStyle","picUrl","googleKey","gaodeKey","vedioUrl","avatarUrl","saveData","str","data","expire","window","localStorage","setItem","JSON","stringify","expires","now","readData","parse","getItem","deleteData","removeItem","h0","timestamp","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","roles","format","workers","filter","i","isChoosed","days","fomatURL","url","includes","split","falmatData","array","colorArray","Math","floor","random","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","getScrollHeight","max","scrollHeight","getOrigiHeight","Promise","resolve","reject","img","Image","src","set","setInterval","clearInterval","getImg","screenWidth","a","outHeight","clientWidth","checkNullInObj","obj","pic","Trip","uid","tripName","designer","domestic","city","country","tags","cover","detail","this","Daytrip","nameOfScence","longitude","latitude","picURL","pointOrNot","contructor","category","done","style","display","flexDirection","flexWrap","padding","borderRadius","tagsArray","filterUser","arr","Object","keys","flex","justifyContent","alignItems","Chart","strokeDasharray","dataKey","type","stroke","Day","day","getDay","dateString","classnames","Week","idx","Month","startingTimeInMonth","block","startDay","currentDay","setDate","Array","fill","concat","weeks","week","slice","colSpan","getFullYear","DateSelector","which","h1","monthSequence","month","paddingBottom","div1","marginBottom","border","chip","top","div2","div3","overflow","Data","toArrange","clearDay","showMessage","setShowMessage","useEffect","Grow","in","timeout","e","stopPropagation","clearThisDay","list","index1","Chip","Arrange","arrangeData","paddingTop","avatar","btn","marginTop","fontSize","container","Profile","user","logout","flag","pushTo","pathname","Avatar","Grid","xs","elevation","Button","startIcon","setTrip","payload","setLoading","loading","setPageIndex","setFenye","page","setUser","setPage","setWorker","whichIsChoosed","setRight","countSaga","newTripSaga","connect","state","dispatch","A","fenye","chartData","tableData","all","tableDataRef","useRef","allRef","fenyeRef","setWidth","current","addEventListener","resize","removeEventListener","scroll","getlength","findIndex","styles","createStyles","withStyles","selectedDate","setSelectedDate","utils","DateFnsUtils","DatePicker","$d","autoOk","inputVariant","form","submit","setShootnums","setProgram","setDes","noValidate","autoComplete","TextField","v","alert","trim","location","dateRef","setListSaga","innerHTML","clickable","disabled","ref","vedioBackground","minHeight","zIndex","backgroundRepeat","backgroundSize","backgroundImage","left","topBlock","avatarContainer","secondary","main","fix","notFix","font","BootstrapInput","input","borderBottom","common","white","InputBase","Copyright","Link","href","setScrollHeight","setName","password","setPassword","Container","maxWidth","CssBaseline","placeholder","fullWidth","onSubmit","proload","autoPlay","loop","muted","getBorderRadius","auth","setAuth","console","log","overFlow","circular","alt","CircularProgress","form1","chipContainer","textField","handleMouseDownPassword","preventDefault","uid1","setUid1","setTripName","setDesigner","setUid","setDomestic","setCity","setCountry","setTags","setCover","setArray","filterTags1","num","numArr","indexOf","FormControl","clsx","InputLabel","htmlFor","Input","endAdornment","InputAdornment","onMouseDown","str1","filterTags","newA","splice","join","handleClick","parseInt","passedData","params","articleName","setArticleName","setPicURL","articleURL","setArticleURL","undefined","setHeight","getWidthAndHeight","axios","get","InputProps","updatedObj","post","then","res","status","catch","err","listContainer","imgContainer","maxHeight","img2","dele","pageIndex","total","setTotal","dataArray","setDataArray","items","previous","next","_id","_jump","ListItem","button","ListItemText","primary","ListItemSecondaryAction","trip","users","setUsers","getdata","destination","wechat","MapComponent","totalData","AddOneItem","changePlan","rePlaceOneItem","mapG","setMapG","pointsG","setPointsG","windowsG","setWindowsG","aMapClass","setAmapClass","result","setResult","open","setOpen","rePlanOpen","setRePlanOpen","dayData","setDayData","cache","setCache","replanIndex","setReplanIndex","infoOpen","setInfoOpen","imgsOpen","setImgsOpen","infoFromGoogle","setInfoFromGoogle","picsFromGoogle","setPicsFromGoogle","errinFo","setErrinFo","loadingPic","setLoadingPic","loadingInfo","setLoadingInfo","searchLoading","setSearchLoading","desRef","picsRef","AMapLoader","load","version","plugins","AMap","Map","viewMode","zoom","center","addControl","Scale","Geolocation","pointsArray","infoWindowsArray","lonLat","forEach","parseFloat","windowConstructor","editItem","imgClick","point","markerConstructor","on","openOrcloseWindow","amapClass","extData","Marker","LngLat","fn","fn1","fn2","InfoWindow","isCustom","content","offset","Pixel","title1","des1","windowContainer","createElement","appendChild","onclick","rePlan","appand","check","getInfo","lng","lat","points","getAllOverlays","getTitle","getPosition","panTo","error","closeModal","changeContent","c","replan","newIndex","removedIndex","addedIndex","indexARRAY","indexArr","j","handleCloseInfo","getInfiOrImg","OutlinedInput","size","remove","clearInfoWindow","PlaceSearch","search","info","poiList","pois","inJectPoint","getIsOpen","choosePoint","Divider","Dialog","onClose","DialogTitle","inputRef","multiline","orientation","groupName","getChildPayload","deleteItem","replanStart","onDrop","item2","index2","GoogleApiWrapper","apiKey","google","activeMarker","setActiveMarker","centerPointObj","setCenterPointObj","titleG","setTitleG","desG","setDesG","imgUrl","setImgUrl","showingInfoWindow","setShowingInfoWindow","placeService","setPlaceService","cacheMarker","setCacheMarker","markersRef","setCenter","geometry","fetchPlaces","mapProps","service","maps","places","PlacesService","setTimeout","marker","onMarkerClick","objArray","onMapClicked","test","handleFocus","closeWindow","containerStyle","onReady","visible","setMap","request","query","fields","findPlaceFromQuery","results","PlacesServiceStatus","OK","infowindow","ariaLabel","addListener","anchor","InfoWindowEx","infoWindowRef","createRef","contentElement","prevProps","ReactDOM","render","Children","only","setContent","Component","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","flexGrow","contentMode","drawerTitle","mapContainer","coverBTN","coverUrlTextContainer","mobileOpen","setMobileOpen","selectedIndex","setSelectedIndex","setData","change","handleDrawerToggle","newData","o","toString","valueURL","ListItemIcon","text","selected","removeDay","noWrap","checkInArray","innerArray","Hidden","smUp","implementation","Drawer","ModalProps","keepMounted","xsDown","square","cursor","transform","transition","image","objectFit","emptyMessage","dialogImage","inputContainer","gap","divContainer","Preview","pics","setPics","selectedImage","setSelectedImage","imageUrl","setImageUrl","setNameOfScence","isCover","setIsCover","handleImageError","handleClose","handleGetImage","getIMG","handleImageClick","onError","DialogContent","newUrl","prevPics","trips","setTrips","setError","pre","setPre","handleScroll","useCallback","fetchTrips","fetch","response","ok","Error","json","message","fontWeight","textShadow","Gaode","forwardRef","pointIndex","openAPP","isIOS","navigator","userAgent","isAndroid","navUrl","close","useImperativeHandle","memo","Google","GoogleWithRef","Wrapped","MemoizedGaode","MemoizedGoogle","gaodeRef","googleRef","dayIndex","ExpandLess","ExpandMore","Collapse","unmountOnExit","disablePadding","itemIndex","sx","pl","flat","Infinity","item1","clickPoint","mapData","useMemo","InjectedRoute","withRouter","path","rest","to","InjectedEditRoute","Index","exact","Submit","SubmitArrange","Signin","Logon","Photos","PhotosInput","PhotosEdit","Story","TotalStorys","Client","EditInit","TotalTrips","Edit","List","Show","action","newList1","sort","b","arr2","arr1","getArrangeData","getUserData","loginSaga","registerSaga","logoutSaga","submitSaga","countSage","photosSage","newTripSage","saveTripSage","newItemSage","mySaga","put","token","headers","work","output","arrWork","prevLeft","prevRight","newTrip","takeEvery","createBrowserHistory","routeMiddleware","routerMiddleware","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","reducer","router","connectRouter","applyMiddleware","run","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","getElementById","URL","process","origin","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.19ef6278.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ProfileIcon from '@material-ui/icons/AccountCircle';\nimport Badge from '@material-ui/core/Badge'\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    borderTop:'1px solid #A9A9A9',\n  },\n});\n\nexport default function Navigation(props) {\n  const classes = useStyles();\n\n  const { \n    whichPage,\n    onSelect,\n    nextstickerUsersIncreased\n   } = props\n\n  return (\n    <BottomNavigation\n      value={whichPage}\n      onChange={(event, newValue) => {\n        onSelect(newValue)\n      }}\n      className={classes.root}\n    >\n      <BottomNavigationAction icon={\n        <Badge badgeContent={nextstickerUsersIncreased} color=\"secondary\">\n          <ProfileIcon />\n        </Badge>\n      } \n      />\n      <BottomNavigationAction icon={<FavoriteIcon />} />\n      <BottomNavigationAction icon={<RestoreIcon />} />\n    </BottomNavigation>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/ArrowBackIos';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n  },\n}));\n\nexport default function Bar ({title, history}) {\n\tconst classes = useStyles();\n\tconst back = () => {\n\t\t//history.push('/')\n\t\thistory.goBack()\n\t}\n\treturn (\n\t<AppBar>\n\t\t<Toolbar>\n\t\t\t{\n\t\t\t\thistory \n\t\t\t\t? <IconButton edge=\"start\" color=\"inherit\" onClick={back}>\n\t\t\t\t\t<MenuIcon />\n\t\t\t\t</IconButton> \n\t\t\t\t: null\n\t\t\t}\n\t\t\t<div className={classes.root}>\n\t\t\t\t<p>{title}</p>\n\t\t\t</div>\n\t\t</Toolbar>\n    </AppBar>\n\t)\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\n\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      position: 'fixed',\n      right: theme.spacing(1),\n      bottom: theme.spacing(8),\n    },\n  },\n}));\n\nexport default function FloatingActionButtons({add, push, clear, arrange}) {\n  const classes = useStyles();\n  let history = useHistory();\n\n  const click = () => {\n    history.push('./submit')\n  }\n\n  const back = () => {\n    history.goBack()\n    if(arrange) { clear() }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Fab \n        color=\"primary\" \n        aria-label=\"add\"\n        onClick={push ? click : back}\n      >\n        {\n          add \n          ? <AddIcon /> \n          : <ArrowBack />\n        }\n      </Fab>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: '650',\n  },\n});\n\nexport default function SimpleTable({rows}) {\n  const classes = useStyles();\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple dense table\">\n        <TableHead>\n          <TableRow>\n            <TableCell></TableCell>\n            <TableCell align=\"right\"></TableCell>\n            <TableCell align=\"right\"></TableCell>\n            <TableCell align=\"right\"></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n        {\n          rows && rows.length > 0\n        ?<React.Fragment>\n          {rows.map((row, index) => (\n            <TableRow key={index}>\n              <TableCell component=\"th\" scope=\"row\">\n                {`${new Date(row.date).getMonth()+1}${new Date(row.date).getDate()}`}\n              </TableCell>\n              <TableCell align=\"right\">{row.shootnums}</TableCell>\n              <TableCell align=\"right\">{row.program}</TableCell>\n              <TableCell align=\"right\">{row.des}</TableCell>\n            </TableRow>\n          ))}\n        </React.Fragment>\n        :null\n        }\n          \n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Table from './table'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  div: {\n    height: theme.spacing(7)\n  }\n}));\n\nexport default function FullWidthTabs({rows}) {\n  //console.log('rows', rows)\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = index => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      {\n        rows && rows.length\n      ?<React.Fragment>\n        <AppBar position=\"static\" color=\"default\">\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n            scrollButtons=\"auto\"\n            aria-label=\"scrollable auto tabs example\"\n          >\n          {\n            rows.map((item, index) => (\n              <Tab key={index}label={item[0].whose.name} {...a11yProps(index)} />\n            ))\n          }\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n        {\n          rows.map((item, index) => (\n              <TabPanel key={index}value={value} index={index} dir={theme.direction}>\n                <Table rows={item}/>\n              </TabPanel>\n            )\n          )\n        }\n        </SwipeableViews>\n        <div className={classes.div}></div>\n      </React.Fragment>\n      :null\n      } \n    </div>\n  );\n}","export const authority = 'wudi'\nexport const googleMapcontainerStyle = {\n\tposition: 'relative',  \n\twidth: '100%',\n\theight: '100%'\n}\nexport const picUrl = [\n'https://cn.bing.com/th?id=OIP.WMpknoaU9SsncVEW7W6SzAHaLH&pid=Api&rs=1',\n'http://youimg1.c-ctrip.com/target/fd/tg/g4/M0A/CA/30/CggYHlbEXmaAYGfJAAnFAUl5-Pk911.jpg'\n]\nconst vedioUrlArray = [\n\t'https://cdn.moji.com/websrc/video/video621.mp4',\n\t'https://res.cloudinary.com/dnfhsjz8u/video/upload/v1584691245/DJI_20191006_114520_418_fl2drt.mp4'\n]\nexport const googleKeyWudi = 'AIzaSyAJHnZaO6czTIkkftjQNdtNcjL52pMxsIY'\nexport const googleKey = 'AIzaSyB5LS2bbGE_Iw1e7Dc3_al7glDliILip_c'\nexport const gaodeKey = 'fbe59813637de60223e3d22805a2486c'\nexport const vedioUrl = vedioUrlArray[0]\nexport const avatarUrl=\"https://res.cloudinary.com/dnfhsjz8u/image/upload/v1620372687/u_4168080911_4188088242_fm_15_gp_0_qfgrpg.jpg\"\n//localStorage\nexport const ATTANGEDATA = 'ARRANGEDATA'\nexport const USER = 'USER'\nexport const TOKEN = 'TOKEN'\nexport const expire = 3000//S\n\nexport const isVedio = true\nexport const whichPage = 0\n\nexport function saveData(str, data, expire){\n\twindow.localStorage.setItem(\n    str,\n    JSON.stringify({\n    \texpires: Date.now() + expire * 1000,\n      \tdata: data,\n    })\n  );\n}\n\nexport function readData(str){\n\tconst cache = JSON.parse(\n    window.localStorage.getItem(str) || '{}'\n  );\n  return cache\n}\n\nexport function deleteData(str){\n\twindow.localStorage.removeItem(str);\n}\n\nexport function h0(timestamp = Date.now()) {\n  const target = new Date(timestamp);\n  target.setHours(0);\n  target.setMinutes(0);\n  target.setSeconds(0);\n  target.setMilliseconds(0);\n  return target.getTime();\n}\n\nexport function h1(date , which){\n\tlet day = null\n\tlet block = null\n\tif(which === 0 && date > 6){\n\t\tday = date - 6\n\t}\n\t else if(which === 0 && date <= 6) {\n\t\tday = 1\n\t} else {\n\t\tday = date + 1 - which\n\t}\n\n\tif(day === 1 && which !== 1){\n\t\tblock = which - 1\n\t} else {\n\t\tblock = 0\n\t}\n\treturn{day, block}\n}\n\nexport function flatten(arr) {  \n  return arr.reduce((result, item) => {\n    return result.concat(Array.isArray(item) ? flatten(item) : item);\n  }, []);\n}\n\nconst roles = ['', '', '', '']\n\nexport function format(workers){\n\treturn [ \n\t\tworkers.filter((i) => i.role === ''),\n\t\tworkers.filter((i) => i.role === ''),\n\t\tworkers.filter((i) => i.role === ''),\n\t\tworkers.filter((i) => i.role === ''),\n\t]\n}\n\nexport const workers = [\n\t{\n\t\tname: '',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '',\n\t\trole: roles[1],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '',\n\t\trole: roles[2],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '44',\n\t\trole: roles[3],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '66',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n]\nexport function fomatURL(url){\n\tif(url.includes('src=\"')){\n\t\tlet array =  url.split('src=\"')\n\t\tlet array1 = array[1].split('\"')\n\t\t//console.log(array1[0])\n\t\treturn array1[0]\n\t}else {\n\t\treturn url\n\t}\n} \n\nexport function falmatData(array){\n\tif(array && array.length > 0){\n\t\t\tfor(let i=0; i < array.length; i++){\n\t\t\tarray[i].name = (new Date(array[i].name).getMonth()+1) +'/' + (new Date(array[i].name).getDate())\n\t\t}\n\t\treturn array\n\t} else {\n\t\treturn array\n\t}\n}\n\nexport function color(){\n\tlet colorValue=\"0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f\";\n\tlet colorArray = colorValue.split(\",\");\n\tlet color=\"#\"\n\tfor(var i=0;i<6;i++){\n\t\tcolor+=colorArray[Math.floor(Math.random()*16)];\n\t}\n\tif(color === '#ffffff'){\n\t\tcolor()\n\t} else return color\n}\n\nexport function getScrollTop(){\n\tlet scrollTop=0\n\tif(document.documentElement&&document.documentElement.scrollTop)\n\t{\n\t\tscrollTop=document.documentElement.scrollTop\n\t}\n\telse if(document.body)\n\t{\n\t\tscrollTop=document.body.scrollTop\n\t}\n\treturn scrollTop\n}\n//\nexport function getClientHeight(){    \n  let clientHeight=0\n  if(document.body.clientHeight&&document.documentElement.clientHeight){    \n      clientHeight=(document.body.clientHeight<document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight            \n  }else{    \n      clientHeight=(document.body.clientHeight>document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight       \n  }    \n  return clientHeight\n}\n//\nexport function getScrollHeight(){    \n  return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);   \n}\n\nexport const getOrigiHeight = (url) => new Promise((resolve, reject) => {\n\tlet img = new Image()\n\timg.src = url;\n\tlet check = function(){\n  \tif(img.width>0 || img.height>0) {\n\t    \tclearInterval(set);\n\t\t\tresolve(img)\n  \t\t}\n\t}\n\tlet set = setInterval(check,10)\n})\n\nexport const getImg = async (url, screenWidth) => {\n\tlet img = await getOrigiHeight(url)\n\tlet outHeight = Math.floor(img.height * screenWidth / img.width)\n\timg.height = outHeight\n\timg.width = screenWidth\n\treturn img\n}\n\nexport const width = Math.floor(document.body.clientWidth / 2)\n\nexport const checkNullInObj = (obj) => {\n\tfor (let key in obj){\n\t\tif(obj[key] === ''){\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const checkInArray = (arr) => {\n\tfor (let i = 0; i < arr.length; i++){\n\t\tif(arr[i].length === 0){\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const pic = [\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.RiVuBdPbyZfUqwaC_rMgaAHaFj?w=200&h=189&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.PjwD3caT4zGrmyx5OSmsXQHaE7?w=285&h=185&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse4-mm.cn.bing.net/th/id/OIP.D9KCoJ2Szl3p8iiUt1XQ7wHaJQ?w=166&h=198&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP.SAwRQOIAiwRcVE35WAu3lgHaEK?w=293&h=164&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP.kzjuEOfhlRGHlAU7XTcRtgHaNJ?w=115&h=184&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.rb333I9ISUGd2y2bjn-qiQAAAA?w=299&h=194&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.qEiMn_h7rMBHf9QlQw8k2QHaEo?w=260&h=162&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP._-DDuCgiElSuM37yuL-x9wHaE4?w=275&h=177&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.s_SXVVhK1MZhrGXQjWdOUAHaFm?w=212&h=160&c=7&o=5&dpr=2&pid=1.7'\n]\n\nexport class Trip {\n\tconstructor(\n\t\tuid: '',\n\t\ttripName: '',\n\t\tdesigner: '',\n\t\tdomestic: 1,\n\t\tcity: '',\n\t\tcountry: '',\n\t\ttags: '',\n\t\tcover: '',\n\t\tdetail: [],\n\t\t) {\n\t\tthis.uid = uid;\n\t\tthis.tripName = tripName\n\t\tthis.designer = designer\n\t\tthis.domestic = domestic\n\t\tthis.city = city;\n\t\tthis.country = country;\n\t\tthis.tags = tags;\n\t\tthis.cover = cover;\n\t\tthis.detail = detail\n\t}\n}\n\nexport class Daytrip{\n\tconstructor(\n\t\tnameOfScence = '', \n\t\tlongitude = '', \n\t\tlatitude = '',\n\t\tdes = '',\n\t\tpicURL = '',\n\t\tpointOrNot = true,\n\t\tcontructor = 'contructor',\n\t\tcategory = 0,\n\t\tdone = false\n\t\t) {\n\t  this.nameOfScence = nameOfScence;\n\t  this.longitude = longitude\n\t  this.latitude = latitude\n\t  this.des = des\n\t  this.picURL = picURL\n\t  this.pointOrNot = pointOrNot\n\t  this.contructor = contructor\n\t  this.category = category\n\t  this.done = done\n\t}\n}\n\nexport const style = {\n    width: '400px',\n    margin: '5px',\n    height: '120px',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: '5px',\n    backgroundColor: '#f0f0f0',\n    borderRadius: '5px',\n}\n\nexport const tagsArray = ['', '', '', '', '', '', '','', '', '','','','','','','']","import React from 'react';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { color } from '../tools'\n\nconst filterUser = (arr) => {\n  if(arr){\n    let arr1 = Object.keys(arr[0])\n    let arr2 = arr1.filter(i => i !== 'name')\n    return arr2\n  } else return null\n}\n\nconst useStyles = makeStyles(theme => ({\n  root:{\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n}));\n\nexport default function Chart ({data, width}) {\n  //console.log(data)\n  const classes = useStyles();\n  return (\n    <React.Fragment>\n    {\n      filterUser(data)\n      ?<LineChart\n        width={width}\n        height={200}\n        data={data}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        {\n          filterUser(data).map((i) => {\n            return (\n              <Line \n                type=\"monotone\" \n                key={i}\n                dataKey={i} \n                stroke={color()}\n              />\n            )\n          })\n        }\n      </LineChart>\n      :<div className={classes.root}>\n        \n      </div>\n    }\n    </React.Fragment>\n  )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Fab from '../components/fab'\nimport Tab from '../components/tab'\nimport Chart from '../commonComponents/chart'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height:'100%',\n  },\n}));\n\nexport default function ({data, rows, width}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Chart data={data} width={width}/>\n      <Tab rows={rows}/>\n      <Fab add push/>\n    </div>\n  )\n}","import React from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { h0, h1} from '../tools';\n\nimport './DateSelector.css';\n\nfunction Day(props) {\n  const { day, onSelect } = props;\n\n  if (!day) {\n    return <td className=\"null\"></td>;\n  }\n\n  const classes = [];\n\n  const now = h0();\n\n  if (day < now) {\n    classes.push('disabled');\n  }\n\n  if ([6, 0].includes(new Date(day).getDay())) {\n    classes.push('weekend');\n  }\n\n  const dateString = now === day ? '' : new Date(day).getDate();\n\n  return (\n    <td \n      className={classnames(classes)} \n      onClick={() => onSelect(day)}\n    >\n      {dateString}\n    </td>\n  );\n}\n\nDay.propTypes = {\n  day: PropTypes.number,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Week(props) {\n  const { days, onSelect } = props;\n\n  return (\n    <tr className=\"date-table-days\">\n      {days.map((day, idx) => {\n          return <Day key={idx} day={day} onSelect={onSelect} />;\n      })}\n    </tr>\n  );\n}\n\nWeek.propTypes = {\n  days: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Month(props) {\n  const { startingTimeInMonth, onSelect, block } = props;\n  const startDay = new Date(startingTimeInMonth);\n  const currentDay = new Date(startingTimeInMonth);\n  let days = [];\n//currentDay.getMonth() === startDay.getMonth()\n  while (days.length !== (21 - block)) {\n    days.push(currentDay.getTime());\n    currentDay.setDate(currentDay.getDate() + 1);\n      //console.log(currentDay.getMonth())\n  }\n  days = new Array(startDay.getDay() ? startDay.getDay() - 1 : 6)\n      .fill(null)\n      .concat(days);\n\n  //const lastDay = new Date(days[days.length - 1]);\n\n  // days = days.concat(\n  //     new Array(lastDay.getDay() ? 7 - lastDay.getDay() : 0).fill(null)\n  // );\n\n  const weeks = [];\n\n  for (let row = 0; row < days.length / 7; ++row) {\n    const week = days.slice(row * 7, (row + 1) * 7);\n    weeks.push(week);\n  }\n\n  return (\n    <table className=\"date-table\">\n      <thead>\n        <tr>\n          <td colSpan=\"7\">\n            <h5>\n              {new Date().getFullYear()}{new Date().getMonth() + 1}\n            </h5>\n          </td>\n        </tr>\n      </thead>\n        <tbody>\n          <tr className=\"data-table-weeks\">\n            <th className=\"date-table-th\"></th>\n            <th className=\"date-table-th\"></th>\n            <th className=\"date-table-th\"></th>\n            <th className=\"date-table-th\"></th>\n            <th className=\"date-table-th\"></th>\n            <th className=\"weekend\"></th>\n            <th className=\"weekend\"></th>\n          </tr>\n          {weeks.map((week, idx) => {\n            return <Week \n              key={idx} \n              days={week} \n              onSelect={onSelect} \n            />;\n          })}\n        </tbody>\n    </table>\n  );\n}\n\nMonth.propTypes = {\n  startingTimeInMonth: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default function DateSelector(props) {\n  const { onSelect } = props;\n\n  const now = new Date();\n  const date = new Date().getDate();\n  const which = new Date().getDay();\n\n  now.setHours(0);\n  now.setMinutes(0);\n  now.setSeconds(0);\n  now.setMilliseconds(0);\n\n  const {day, block} = h1(date, which)\n\n  now.setDate(day);\n\n  const monthSequence = [now.getTime()];\n\n  // now.setMonth(now.getMonth() + 1);\n  // monthSequence.push(now.getTime());\n\n  // now.setMonth(now.getMonth() + 1);\n  // monthSequence.push(now.getTime());\n\n  return (\n    <div className={classnames('date-selector')}>\n      <div className=\"date-selector-tables\">\n        {monthSequence.map(month => {\n          return (\n            <Month\n              key={month}\n              onSelect={ onSelect }\n              startingTimeInMonth={month}\n              block={block}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nDateSelector.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n};","import React, { useState, useEffect} from 'react';\nimport Days from '../commonComponents/DateSelector'\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RemoveIcon from '@material-ui/icons/Clear';\nimport Typography from '@material-ui/core/Typography';\nimport Grow from '@material-ui/core/Grow';\nimport '../css/index.css';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    paddingBottom: theme.spacing(7)\n  },\n  div1: {\n  \tpadding: theme.spacing(0.5),\n  \tmarginBottom: theme.spacing(2),\n  \tborder:'1px solid #f0f0f0',\n    borderRadius: theme.spacing(1),\n    backgroundColor: '#f0f0f0'\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.5, 0.5 ,0),\n  },\n  title: {\n    position: 'relative',\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    right: 0\n  },\n  div2: {\n    display: 'flex',\n    justifyContent: \"center\",\n    //alignItems: 'center',\n    height:'100%'\n  },\n  div3: {\n    height: '100%',\n    overflow: 'hidden'\n  }\n}));\n\nfunction Data ({arr, toArrange, clearDay}){\n  const [showMessage, setShowMessage] = useState(false);\n\tconst classes = useStyles();\n\n  const clearThisDay = (e, index) => {\n    e.stopPropagation()\n    clearDay(index)\n  }\n\n  useEffect(()=>{\n    if(arr.length !== 0){\n      setShowMessage(true)\n    }\n  }, [arr.length])\n\n\treturn (\n\t\t<div className={classes.div}>\n  \t{\n  \t\tarr.map((i,index) => {\n  \t\t\treturn(\n          <Grow\n            in={showMessage}\n            key={index}\n            {...(showMessage ? { timeout: 500 * index } : {})}\n          >\n    \t\t\t\t<div \n              className={classes.div1} \n              key={i.date}\n              onClick={() => toArrange(index)}\n            > \n              <div className={classes.title}>\n      \t\t\t\t\t<Typography \n      \t\t\t\t\t\tvariant=\"h6\" \n      \t\t\t\t\t\tcomponent=\"h2\"\n      \t\t\t\t\t>\n                  {`${new Date(i.date).getMonth() + 1}${new Date(i.date).getDate()}`}\n                </Typography>\n                <RemoveIcon \n                  className={classes.icon}\n                  onClick={(e) => clearThisDay(e,index)}\n                />\n              </div>\n  \t\t      \t<div>\n  \t\t      \t\t{\n  \t\t      \t\t\ti.list.map((row,index1) => (\n  \t\t      \t\t\t\t<Chip \n  \t\t                color=\"primary\"\n  \t\t                key={row}\n  \t\t                label={row} \n  \t\t                className={classes.chip}\n  \t\t                variant={'outlined'}\n  \t\t              />\n  \t\t      \t\t\t))\n  \t\t      \t\t}\n  \t\t      \t</div>\n  \t      \t</div>\n          </Grow>\n  \t\t\t)\n  \t\t})\n  \t}\n  \t</div>\n\t)\n}\n\nfunction Arrange({onSelect, arrangeData, toArrange, clearDay}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.div3}>\n      <Days onSelect={onSelect}/>\n      {\n      \tarrangeData && arrangeData.length > 0 \n        ? <Data \n            arr={arrangeData}\n            toArrange={toArrange}\n            clearDay={clearDay}\n          /> \n        : <div className={classes.div2}>\n            \n          </div>\n      }\n    </div>\n  );\n}\n\nexport default Arrange;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport { authority, avatarUrl } from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    height: '100%',\n    overflow: 'hidden'\n  },\n  avatar: {\n  \twidth: theme.spacing(13),\n    height: theme.spacing(13),\n  },\n  btn: {\n  \tmarginTop: theme.spacing(4),\n  \twidth: theme.spacing(20),\n  },\n  paper: {\n    height: theme.spacing(10),\n    fontSize: 20,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  container: {\n    padding: theme.spacing(5,1,0,1)\n  },\n  div: {\n    height: theme.spacing(9)\n  }\n}));\n\nexport default function Profile ({user, logout, history, flag}) {\n\tconst classes = useStyles();\n  const logon = () => {\n    if(user === authority){\n      history.push('/logon')\n    }\n  }\n\n  const pushTo = (str) => {\n    history.push({pathname: str});\n  }\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Avatar \n        className={classes.avatar}\n        onClick={logon}\n        src={avatarUrl}\n      >\n        {user}\n      </Avatar>\n      <Grid container spacing={1} className={classes.container}>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/photosInput')}></Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/photosEdit')}></Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/client')}>{flag ? '' : ''}</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/story')}></Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/totalStorys')}></Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/editinit')}></Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/totalTrips')}></Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/preview')}></Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/list')}>{''}</Paper>\n        </Grid>\n      </Grid>\n\t\t\t<Button\n        variant=\"contained\"\n        color=\"secondary\"\n        startIcon={<ExitToApp />}\n        className={classes.btn}\n        onClick={() => logout()}\n      >\n        \n      </Button>\n      <div className={classes.div}></div>\n\t\t</div>\n\t)\n}","export const SET_ALL = 'SET_ALL';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SET_FENYE = 'SET_FENYE'\nexport const SET_USER = 'SET_USER';\nexport const SET_PAGE = 'SET_PAGE';\nexport const SET_WORKERS = 'SET_WORKERS';\nexport const SET_LIST = 'SET_LIST';\nexport const SET_POINT_INDEX = 'SET_POINT_INDEX';\nexport const SET_ARRANGEDATA = 'SET_ARRANGEDATA';\nexport const SET_ARRANGEDATA_ARRAY = 'SET_ARRANGEDATA_ARRAY';\nexport const SET_ARRANGEDATA_DELETE = 'SET_ARRANGEDATA_DELETE';\nexport const SET_CHART_DATA = 'SET_CHART_DATA'\nexport const SET_TABLE_DATA = 'SET_TABLE_DATA'\nexport const SET_LEFT = 'SET_LEFT';\nexport const SET_RIGHT = 'SET_RIGHT';\nexport const SET_TRIP = 'SET_TRIP';\nexport const SET_ITEM = 'SET_ITEM';\nexport const SET_PAGEINDEX = 'SET_PAGEINDEX';\nexport const SET_NEXTSTICKERUSERSINCREASED = 'SET_NEXTSTICKERUSERSINCREASED'\nexport const SET_LIST_SAGA = 'SET_LIST_SAGA';\nexport const GET_ARRANGEDATA_SAGA = 'GET_ARRANGEDATA_SAGA';\nexport const GET_USER_SAGA = 'GET_USE_SAGA';\nexport const LOGIN_SAGA = 'LOGIN_SAGA';\nexport const REGISTER_SAGA = 'REGISTER_SAGA_SAGA';\nexport const LOGOUT_SAGA = 'LOGOUT_SAGA';\nexport const SUBMIT_SAGA = 'SUBMIT_SAGA';\nexport const COUNT_SAGA = 'COUNT_SAGA';\nexport const PHOTOS_SAGA = 'PHOTOS_SAGA';\nexport const NEWTRIP_SAGA = 'NEWTRIP_SAGA';\nexport const NEWITEM_SAGA = 'NEWITEM_SAGA';\nexport const SAVETRIP_SAGA = 'SAVETRIP_SAGA';\n\nexport function setPointIndex(index) {\n  return {\n    type: SET_POINT_INDEX,\n    payload: index,\n  };\n}\n\nexport function setTrip(data) {\n  return {\n    type: SET_TRIP,\n    payload: data,\n  };\n}\n\nexport function setItem(data) {\n  return {\n    type: SET_ITEM,\n    payload: data,\n  };\n}\n\nexport function setAll(all) {\n  return {\n    type: SET_ALL,\n    payload: all,\n  };\n}\n\nexport function setLoading(loading) {\n  return {\n    type: SET_LOADING,\n    payload: loading,\n  };\n}\n\nexport function setPageIndex(index) {\n  return {\n    type: SET_PAGEINDEX,\n    payload: index,\n  };\n}\n\nexport function setChartData(chartData) {\n  return {\n    type: SET_CHART_DATA,\n    payload: chartData,\n  };\n}\n\nexport function setTableData(tableData) {\n  return {\n    type: SET_TABLE_DATA,\n    payload: tableData,\n  };\n}\n\nexport function setFenye(page) {\n  return {\n    type: SET_FENYE,\n    payload: page,\n  };\n}\n\nexport function setNextstickerusersincreaesd(num) {\n  return {\n    type: SET_NEXTSTICKERUSERSINCREASED,\n    payload: num,\n  };\n}\n\nexport function setUser(user) {\n  return {\n    type: SET_USER,\n    payload: user,\n  };\n}\n\nexport function setPage(whichPage) {\n  return {\n    type: SET_PAGE,\n    payload: whichPage,\n  };\n}\n\nexport function setWorker(whichIsChoosed) {\n  return {\n    type: SET_WORKERS,\n    payload: whichIsChoosed,\n  };\n}\n\nexport function setList(list) {\n  return {\n    type: SET_LIST,\n    payload: list,\n  };\n}\n\nexport function setLeft(list) {\n  return {\n    type: SET_LEFT,\n    payload: list,\n  };\n}\n\nexport function setRight(list) {\n  return {\n    type: SET_RIGHT,\n    payload: list,\n  };\n}\n\nexport function setArrangeData(arrangeData){\n  return {\n    type: SET_ARRANGEDATA,\n    payload: arrangeData,\n  };\n}\n\nexport function setArrangeDataArray(arrangeDataArray){\n  return {\n    type: SET_ARRANGEDATA_ARRAY,\n    payload: arrangeDataArray,\n  };\n}\n\nexport function setArrangeDataDelete(index){\n  return {\n    type: SET_ARRANGEDATA_DELETE,\n    payload: index,\n  };\n}\n\nexport function setListSaga(list) {\n  return {\n    type: SET_LIST_SAGA,\n    payload: list,\n  };\n}\n\nexport function getArrangeDataSaga() {\n  return {\n    type: GET_ARRANGEDATA_SAGA\n  };\n}\n\nexport function getUserDataSaga() {\n  return {\n    type: GET_USER_SAGA\n  };\n}\n\nexport function loginSaga(payload) {\n  return {\n    type: LOGIN_SAGA,\n    payload: payload,\n  };\n}\n\nexport function registerSaga(payload) {\n  return {\n    type: REGISTER_SAGA,\n    payload: payload,\n  };\n}\n\nexport function logoutSaga() {\n  return {\n    type: LOGOUT_SAGA\n  };\n}\n\nexport function submitSaga(payload) {\n  return {\n    type: SUBMIT_SAGA,\n    payload: payload,\n  };\n}\n\nexport function countSaga(payload) {\n  return {\n    type: COUNT_SAGA,\n    payload: payload,\n  };\n}\n\nexport function photosSaga(payload) {\n  return {\n    type: PHOTOS_SAGA,\n    payload: payload,\n  };\n}\n\nexport function newTripSaga(payload) {\n  return {\n    type: NEWTRIP_SAGA,\n    payload: payload,\n  };\n}\n\nexport function newItemSaga(payload) {\n  return {\n    type: NEWITEM_SAGA,\n    payload: payload,\n  };\n}\n\nexport function saveTripSaga(payload) {\n  return {\n    type: SAVETRIP_SAGA,\n    payload: payload,\n  };\n}","import React, {useState, useEffect, useRef} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n//import io from 'socket.io-client'\n\nimport { connect } from 'react-redux'\n\nimport BottomNavigation from '../components/bottomNavigation'\nimport Bar from '../components/appbar'\n\nimport Chart from './chart'\nimport Arrange from './arrange'\nimport Profile from './profile'\nimport '../css/index.css'\nimport {\n  setPage,\n  setWorker,\n  setArrangeDataDelete,\n  getArrangeDataSaga,\n  logoutSaga,\n  countSaga,\n  //setNextstickerusersincreaesd\n} from '../store/action'\n\nimport { \n  h0, \n  falmatData,\n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(8, 0, 0, 0),\n    height: '100%'\n  },\n}));\n\nfunction getlength(arr){\n  let length = 0\n  if(arr){\n    for(let i = 0; i < arr.length; i++){\n      length = length + arr[i].length\n    }\n    return length\n  }else return length\n}\n//\nfunction Index(props) {\n  const A = ['', '', '']\n  const {\n    user,\n    whichPage,\n    fenye,\n    history,\n    arrangeData,\n    chartData,\n    tableData,\n    all,\n    loading,\n    nextstickerUsersIncreased,\n    dispatch\n  } = props\n\n\tconst classes = useStyles()\n  \n\n  const tableDataRef = useRef();\n  const allRef = useRef();\n  const fenyeRef = useRef();\n\n  const [width, setWidth] = useState(document.body.clientWidth)\n\n  // useEffect(() => {\n  //   const socket = io(\"ws://localhost:3000\");\n  //   socket.on('init', (data) => {\n  //     console.log(data);\n  //   })\n  // }, [])\n\n  useEffect(() => {\n    tableDataRef.current = tableData\n    allRef.current = all\n    fenyeRef.current = fenye\n  });\n\n  useEffect(()=>{\n    window.addEventListener('resize', resize)\n    return () => {\n      window.removeEventListener('resize', () => {})\n    }\n  }, [])\n\n  const resize = () => {\n    setWidth(document.body.clientWidth)\n  }\n\n  useEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20&& !loading){\n      if(getlength(tableDataRef.current) < allRef.current){\n        dispatch(countSaga(fenyeRef.current))\n      } else {\n        return \n      }\n    }\n  }\n  //SSE===========================\n  // useEffect(() => {\n  //   const socket = io()\n  //   console.log('Socket')\n  //   socket.on('addClient', msg => {\n  //     let num = nextstickerUsersIncreased\n  //     num++\n  //     dispatch(setNextstickerusersincreaesd(num))\n  //   })\n  // }, [dispatch, nextstickerUsersIncreased])\n\n  useEffect(() => {\n    dispatch(countSaga(1))\n    dispatch(getArrangeDataSaga())\n  }, [dispatch])\n\n  const onSelect = (p) => {dispatch(setPage(p))}\n\n  const onSelect1 = (day) => {\n    const now = h0();\n    if(day < now){\n      return\n    }\n\n    if(arrangeData && arrangeData.length > 0){\n\n      let index = arrangeData.findIndex(i => i.date === day)\n      if(index > -1){\n        let array = arrangeData[index].list\n        for(let index = 0; index < array.length; index++){\n          dispatch(setWorker(array[index]))\n        }\n      }\n    }\n\n    history.push({pathname: '/submitArrange',payload: { date: day }});\n  }\n\n  const toArrange = (i) => {\n    let array = arrangeData[i].list\n    for(let index = 0; index < array.length; index++){\n      dispatch(setWorker(array[index]))\n    }\n    history.push({pathname: '/submitArrange',payload: { date: arrangeData[i].date }});\n  }\n\n  const clearDay = (i) => {\n    dispatch(setArrangeDataDelete(i))\n  }\n\n  const logout = () => {\n    dispatch(logoutSaga())\n  }\n\n  return (\n\t\t<div className={classes.root}>\n    {\n      whichPage === 0\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Profile \n          user={user} \n          logout={logout}  \n          history={history}\n          flag={nextstickerUsersIncreased > 0} \n        />\n      </React.Fragment>\n    }\n    {\n      whichPage === 1\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Arrange \n          history={history} \n          onSelect={onSelect1} \n          arrangeData={arrangeData}\n          toArrange={toArrange}\n          clearDay={clearDay}\n        />\n      </React.Fragment>\n    }\n    {\n      whichPage === 2\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Chart data={falmatData(chartData)} rows={tableData} width={width}/>\n      </React.Fragment>\n    }\n    \t<BottomNavigation \n        onSelect={onSelect} \n        whichPage={whichPage}\n        nextstickerUsersIncreased={nextstickerUsersIncreased}\n      />\n    </div>\n  )\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Index);","import React from 'react';\nimport DateFnsUtils from '@date-io/dayjs';\nimport {\n  MuiPickersUtilsProvider,\n  DatePicker,\n} from '@material-ui/pickers';\n\nimport { createStyles, withStyles, makeStyles } from '@material-ui/core/styles';\nimport { h0 } from '../tools'\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n}));\n\nfunction MaterialUIPickers({getDate}) {\n  const classes = useStyles();\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n\n  const handleDateChange = date => {\n    setSelectedDate(date);\n    getDate(h0(date.$d))\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <DatePicker\n        value={selectedDate} \n        onChange={handleDateChange}\n        autoOk\n        variant=\"inline\"\n        inputVariant=\"outlined\"\n        format=\"YYYY/MM/DD\"\n        className={classes.root}\n      />\n    </MuiPickersUtilsProvider>\n  );\n}\n\nconst styles = createStyles(theme => ({\n  \n}));\n\nexport default withStyles(styles)(MaterialUIPickers);","import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\nimport { connect } from 'react-redux';\nimport Fab from '../components/fab'\nimport DateC from '../components/date'\n\nimport { h0 } from '../tools'\n\nimport{\n  submitSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  }\n}));\n\nfunction BasicTextFields({dispatch}) {\n  const classes = useStyles();\n\n  const [shootnums, setShootnums] = useState(0)\n  const [program, setProgram] = useState('')\n  const [des, setDes] = useState('')\n  const [date, setDate] = useState(h0())\n\n  const onSubmit = () => {\n    if(!shootnums || !program){\n      return alert('')\n    }\n    const obj = {\n      shootnums: shootnums.trim(),\n      program: program.trim(),\n      des: des ? des.trim() : des,\n      date: date\n    }\n    dispatch(submitSaga(obj))\n  }\n\n  const getDate = (v) => {\n    setDate(v)\n  }\n\n  return (\n    <div className={classes.root}>\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField \n          className={classes.submit} \n          id=\"number\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setShootnums(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"name\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setProgram(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"sth\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setDes(e.target.value)}}\n        />\n        <div className={classes.submit}>\n          <DateC getDate={getDate}/>\n        </div>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          startIcon={<SubdirectoryArrowRightIcon />}\n          onClick={onSubmit}\n        >\n          \n        </Button>\n      </form>\n      <Fab />\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(BasicTextFields);","import React, {useRef} from 'react';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\n\nimport Fab from '../components/fab'\n\nimport {\n  setWorker,\n  setListSaga,\n  setArrangeData,\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    border:'1px solid #f0f0f0',\n    borderRadius: theme.spacing(1),\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.5, 0.5 ,0),\n  }\n}));\n\nfunction SubmitArrange(props) {\n  const classes = useStyles();\n  const { \n    workers,\n    dispatch,\n    list,\n    location,\n    history\n   } = props\n\n  const dateRef = useRef()\n  if(!location.payload){\n    history.push('/')\n    return null\n  }\n  dateRef.current = location.payload.date\n  let day = dateRef.current\n\n  const onSelect = (e) => {\n    dispatch(setListSaga(e.target.innerHTML))\n  }\n\n  const submitArrange = () => {\n    dispatch(setArrangeData({date: day, list: list}))\n    dispatch(setWorker())\n    \n    history.goBack()\n  }\n\n  const clear = () => {\n    dispatch(setWorker())\n  }\n\n  return (\n    <div className={classes.root}>\n      {\n        workers.map((row, index) => (\n          <div className={classes.div} key={index}>\n            <Typography variant=\"h6\" component=\"h2\">\n              {row[0].role}\n            </Typography>\n            <div>\n              {\n                row.map(item => (\n                  <Chip \n                    color=\"primary\"\n                    key={item.name}\n                    label={item.name} \n                    variant={item.isChoosed ? \"default\" : 'outlined'}\n                    className={classes.chip}\n                    clickable\n                    onClick={onSelect}\n                  />\n                ))\n              }\n            </div>\n          </div>\n        ))\n      }\n      <Button \n        variant=\"contained\" \n        color=\"primary\" \n        className={classes.submit}\n        startIcon={<SubdirectoryArrowRightIcon />}\n        onClick={submitArrange}\n        disabled={list.length > 0 ? false : true}\n        ref={dateRef}\n      >\n        {`${new Date(day).getMonth() + 1}${new Date(day).getDate()}`}\n      </Button>\n      <Fab arrange clear={clear}/>\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n      return state;\n  },\n  function mapDispatchToProps(dispatch) {\n      return { dispatch };\n  }\n)(SubmitArrange);","import React , {useState, useEffect} from 'react';\nimport Link from '@material-ui/core/Link';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport InputBase from '@material-ui/core/InputBase';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  withStyles,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport { connect } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport{\n  loginSaga,\n  getUserDataSaga,\n} from '../store/action'\n\nimport { \n  picUrl,\n  vedioUrl,\n  isVedio,\n  avatarUrl,\n  getClientHeight,\n  getScrollHeight\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  container:{\n    overflow: 'hidden'\n  },\n  vedioBackground: {\n    position: 'fixed',//\n    right: 0,\n    bottom: 0,//\n    minWidth: '100%',\n    minHeight: '100%', //\n    width: 'auto',\n    height: 'auto', //\n    zIndex: -10,//z0\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  background: {\n    backgroundImage: `url(${picUrl[0]})`,\n    position:'fixed',\n    top: 0,\n    left: 0,\n    width:'100%',\n    height:'100%',\n    zIndex:-10,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  topBlock: {\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  block: {\n    height: '45px',\n  },\n  avatarContainer: {\n    margin: theme.spacing(1),\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: '45px'\n  },\n  fix: {\n    position: 'absolute',\n    textAlign: 'center',\n    bottom: 0,\n    right: 0,\n    left: 0,\n    color: '#fff'\n  },\n  notFix: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  font: {\n    color: '#fff'\n  }\n}));\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderTop: props =>\n      props.top === 'true'\n        ? ''\n        : 'none',\n    borderBottom: props =>\n      props.top === 'ture'\n        ? 'none'\n        : '',\n    borderRadius: props =>\n      props.top === 'true'\n        ? '5px 5px 0 0'\n        : '0 0 5px 5px',\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #fff',\n    fontSize: 16,\n    width: '100%',\n    height: '24px',\n    padding: '10px 12px',\n  },\n\n}))(InputBase);\n\nfunction Copyright({height, scrollHeight}) {\n  const classes = useStyles();\n  return (\n    <Typography \n      variant=\"body2\" \n      color=\"textSecondary\" \n      className={height === scrollHeight ? classes.fix : classes.notFix}\n    >\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"/logon\">\n        DevilDI\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nfunction SignIn({user, dispatch}) {\n  const classes = useStyles();\n  let history = useHistory();\n  const [height] = useState(getClientHeight())\n  const [scrollHeight, setScrollHeight] = useState(getScrollHeight())\n  const [name, setName] = useState('')\n  const [password, setPassword] = useState('');\n\n  const onSubmit = () => {\n    if(name.trim() && password.trim()){\n      dispatch(loginSaga({name: name.trim(), password: password.trim()}))\n    } else {\n      return alert('')\n    } \n  }\n\n  useEffect(() => {\n    //console.log(getClientHeight(), getScrollHeight())\n    setScrollHeight(getScrollHeight())\n  }, [scrollHeight])\n\n  useEffect(() => {\n    dispatch(getUserDataSaga())\n  }, [dispatch])\n\n  useEffect(()=>{\n    if(user){ \n      history.push('/') \n    } \n  }, [user, history])\n\n  // useEffect(()=> {\n  //   video = document.querySelector('video')\n  //   video.oncanplay = ()=>{\n  //     console.log('can play')\n  //   }\n  // }, [])\n  \n  return (\n    <Container component=\"main\" className={classes.container} maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <div className={classes.topBlock}>\n          <Avatar className={classes.avatarContainer} src={avatarUrl}>\n            <LockOutlinedIcon className={classes.avatar}/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h3\" className={classes.font}>\n            Sign In\n          </Typography>\n        </div>\n        <div className={classes.form} noValidate>\n          <BootstrapInput \n            id=\"\"\n            placeholder=\"\"\n            type=\"text\"\n            style={{width:'100%'}}\n            top=\"true\"\n            onChange={(e) => {setName(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"\"\n            placeholder=\"\"\n            type=\"password\"\n            style={{width:'100%'}}\n            onChange={(e) => {setPassword(e.target.value)}}\n          />\n          <div className={classes.block}></div>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            startIcon={<LockOpen />}\n            onClick={() => onSubmit()}\n          >\n            \n          </Button>\n        </div>\n      </div>\n      <Copyright height={height} scrollHeight={scrollHeight}/>\n      {\n        isVedio\n        ?<video\n          proload='auto'\n          autoPlay\n          loop\n          muted\n          className={classes.vedioBackground}\n         >\n          <source src={vedioUrl} type=\"video/mp4\"/>\n         </video>\n         :<div className={classes.background}></div>\n      }\n    </Container>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(SignIn);","import React , {useState, useEffect} from 'react';\nimport Link from '@material-ui/core/Link';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport InputBase from '@material-ui/core/InputBase';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  withStyles,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport { connect } from 'react-redux';\nimport{\n  registerSaga,\n} from '../store/action'\n\nimport { \n  picUrl,\n  vedioUrl,\n  isVedio,\n  avatarUrl,\n  getClientHeight,\n  getScrollHeight\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  container:{\n    overflow: 'hidden'\n  },\n  vedioBackground: {\n    position: 'fixed',//\n    right: 0,\n    bottom: 0,//\n    minWidth: '100%',\n    minHeight: '100%', //\n    width: 'auto',\n    height: 'auto', //\n    zIndex: -10,//z0\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  background: {\n    backgroundImage: `url(${picUrl[1]})`,\n    position:'fixed',\n    top: 0,\n    left: 0,\n    width:'100%',\n    height:'100%',\n    zIndex:-10,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  topBlock: {\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  block: {\n    height: '45px',\n  },\n  avatarContainer: {\n    margin: theme.spacing(1),\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: '45px'\n  },\n  fix: {\n    position: 'absolute',\n    textAlign: 'center',\n    bottom: 0,\n    right: 0,\n    left: 0,\n    color: '#fff'\n  },\n  notFix: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  font: {\n    color: '#fff'\n  }\n}));\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderTop: props =>\n      props.top === 'true'\n        ? ''\n        : 'none',\n    borderBottom: props =>\n      props.top === 'ture'\n        ? 'none'\n        : '',\n    borderRadius: props => getBorderRadius(props),\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #fff',\n    fontSize: 16,\n    width: '100%',\n    height: '24px',\n    padding: '10px 12px',\n  },\n\n}))(InputBase);\n\nfunction getBorderRadius(props){\n  if(props.position === 'top'){\n    return '5px 5px 0 0'\n  } else if(props.position === 'bottom'){\n    return '0 0 5px 5px'\n  } else {\n    return '0 0 0 0';\n  }\n}\n\nfunction Copyright({height, scrollHeight}) {\n  const classes = useStyles();\n  return (\n    <Typography \n      variant=\"body2\" \n      color=\"textSecondary\" \n      className={height === scrollHeight ? classes.fix : classes.notFix}\n    >\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"/signin\">\n        DevilDI\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nfunction LogOn({dispatch}) {\n  const classes = useStyles();\n  const [height] = useState(getClientHeight())\n  const [scrollHeight, setScrollHeight] = useState(getScrollHeight())\n  const [name, setName] = useState('')\n  const [password, setPassword] = useState('');\n  const [auth, setAuth] = useState('');\n\n  useEffect(() => {\n    console.log(getClientHeight(), getScrollHeight())\n    setScrollHeight(getScrollHeight())\n  }, [scrollHeight])\n\n\n  const onSubmit = () => {\n    if(name.trim() && password.trim() && auth.trim()){\n      dispatch(registerSaga({\n        name: name.trim(), \n        password: password.trim(),\n        auth: auth.trim()\n      }))\n    } else {\n      return alert('')\n    } \n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <div className={classes.topBlock}>\n          <Avatar className={classes.avatarContainer} src={avatarUrl}>\n            <LockOutlinedIcon className={classes.avatar}/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h3\" className={classes.font}>\n            Log On\n          </Typography>\n        </div>\n        <div className={classes.form} noValidate>\n          <BootstrapInput \n            id=\"\"\n            placeholder=\"\"\n            type=\"text\"\n            style={{width:'100%'}}\n            position=\"top\"\n            onChange={(e) => {setName(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"\"\n            placeholder=\"\"\n            type=\"text\"\n            style={{width:'100%'}}\n            position=\"middle\"\n            onChange={(e) => {setPassword(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"\"\n            placeholder=\"\"\n            type=\"password\"\n            style={{width:'100%'}}\n            position=\"bottom\"\n            onChange={(e) => {setAuth(e.target.value)}}\n          />\n          <div className={classes.block}></div>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            startIcon={<LockOpen />}\n            onClick={() => onSubmit()}\n          >\n            \n          </Button>\n        </div>\n      </div>\n      <Copyright height={height} scrollHeight={scrollHeight}/>\n      {\n        !isVedio\n        ?<div className={classes.background}></div>\n        :<video\n          autoPlay\n          loop\n          muted\n          className={classes.vedioBackground}\n         >\n           <source src={vedioUrl} type=\"video/mp4\"  />\n         </video>\n      }\n    </Container>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(LogOn);","import React, {useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport Grid from '@material-ui/core/Grid';\nimport LazyLoad from 'react-lazyload';\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport Bar from '../components/appbar'\n\nimport { \n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\n\nimport {\n  photosSaga,\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot:{\n\t\twidth: '100%',\n\t},\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(7),\n\t},\n\tblock: {\n\t\toverFlow: 'hidden',\n\t\tpadding: 1\n\t},\n\tcircular:{\n\t\twidth: '100%',\n\t\tposition: 'absolute',\n\t\tbottom: 0,\n\t\ttop:0,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: \"center\",\n\t\talignItems: 'center',\n\t}\n}));\n\nfunction Photos({left, right, loading, dispatch, history}) {\n\n\tconst classes = useStyles();\n\n\tuseEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20&& !loading){\n      if(1){\n        \n      } else {\n        return \n      }\n    }\n  }\n\t\n\tuseEffect(()=>{\n\t\tdispatch(photosSaga(1))\n\t}, [dispatch])\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t<Bar title={''} history={history}/>\n\t\t<div className={classes.container}>\n\t\t\t<Grid container >\n\t\t\t{\n\t\t\t\tleft.length > 0 && right.length > 0\n\t\t\t?<React.Fragment>\n\t\t\t\t<Grid item xs={6} className={classes.block}>\n\t\t\t\t{\n\t\t\t\t\tleft.map((item, index) => (\n\t\t\t\t\t\t<LazyLoad key={index} height={item.height}>\n\t\t\t\t\t\t\t<img alt='' \n\t\t\t\t\t\t\t\tsrc={item.src} \n\t\t\t\t\t\t\t\twidth={'100%'} \n\t\t\t\t\t\t\t\theight={item.height}\n\t\t\t\t\t\t\t\tonClick={()=>{console.log(item)}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LazyLoad>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} className={classes.block}>\n\t\t\t\t{\n\t\t\t\t\tright.map((item, index) => (\n\t\t\t\t\t\t<LazyLoad key={index} height={item.height}>\n\t\t\t\t\t\t\t<img alt='' \n\t\t\t\t\t\t\t\tsrc={item.src} \n\t\t\t\t\t\t\t\twidth={'100%'} \n\t\t\t\t\t\t\t\theight={item.height}\n\t\t\t\t\t\t\t\tonClick={()=>{console.log(item)}} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LazyLoad>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t</React.Fragment>\n\t\t\t: <div className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</div>\n\t\t\t}\t\t\n\t\t\t</Grid>\n\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Photos);","import React, {useState} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport Bar from '../components/appbar';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport FormControl from '@material-ui/core/FormControl';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Chip from '@material-ui/core/Chip';\nimport { connect } from 'react-redux';\n//import Link from '@material-ui/core/Link';\nimport{\n  newTripSaga\n} from '../store/action'\nimport {\n  tagsArray\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(6,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form1: {\n    //margin: theme.spacing(0,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    //justifyContent: \"center\",\n    //alignItems: 'center',\n  },\n  chip: {\n    display: 'flex',\n    flexDirection: 'row',\n    margin: theme.spacing(1,0,1,0),\n  },\n  chipContainer: {\n    margin: theme.spacing(0,1,0,0),\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nconst handleMouseDownPassword = (event) => {\n  event.preventDefault();\n};\n\n\nfunction Editinit({dispatch, history}){\n\tconst classes = useStyles()\n\n  const [uid1, setUid1] = useState('')\n\n\tconst [tripName, setTripName] = useState('')\n  const [designer, setDesigner] = useState('')\n  const [uid, setUid] = useState('')\n  const [domestic, setDomestic] = useState(1)\n  const [city, setCity] = useState('')\n  const [country, setCountry] = useState('')\n  const [tags, setTags] = useState('')\n  const [cover, setCover] = useState('')\n\n  const [array, setArray] = useState([])\n\n  const updateTrip = () => {\n  \tif(!uid1){\n      return alert('')\n    }\n    dispatch(newTripSaga(uid1))\n  }\n\n  const newTrip = () => {\n\t\tif(!tripName || !designer|| !uid || !domestic || !city || !country || !tags){\n      return alert('')\n    }\n    const obj = {\n      tripName: tripName.trim(),\n      designer: designer.trim(),\n      uid: uid,\n      city: city,\n      country: country,\n      tags: tags,\n      domestic: parseInt(domestic),\n      cover: cover.trim()\n    }\n    dispatch(newTripSaga(obj))\n\t}\n\n  const filterTags = (str, str1) => {\n    //return str1.split('/').includes(str)\n    return str1.split('/').indexOf(str)\n  }\n\n  const filterTags1 = (num, numArr) => {\n    return numArr.indexOf(num)\n  }\n\n  const handleClick = (item, index) => {\n    if(tags === ''){\n      setTags(item)\n    } else if(filterTags(item, tags) > -1){\n      let newA = tags.split('/')\n      let index = newA.indexOf(item)\n      newA.splice(index, 1)\n      let str = newA.join('/')\n      setTags(str)\n    } else {\n      setTags(`${tags}/${item}`)\n    }\n    if(array.length === 0){\n      setArray([index])\n    } else if(filterTags1(index, array) > -1){\n      let index1 = filterTags1(index, array)\n      let newA = [...array]\n      newA.splice(index1, 1)\n      setArray(newA)\n    } else {\n      setArray([...array, index])\n    }\n  }\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={''} history={history}/>\n\t\t\t<FormControl className={clsx(classes.form, classes.textField)} variant=\"outlined\">\n        <InputLabel htmlFor=\"outlined-adornment-password\"></InputLabel>\n        <Input\n        \tclassName={classes.input}\n          type='text'\n          //value={values.password}\n          onChange={(e) => {setUid1(e.target.value)}}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                aria-label=\"visibility\"\n                onClick={updateTrip}\n                onMouseDown={handleMouseDownPassword}\n                edge=\"end\"\n              >\n                <ArrowForwardIcon />\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n    \t</FormControl>\n    \t\n    \t<form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField \n          className={classes.submit} \n          id=\"number\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setTripName(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"name\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setDesigner(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"domestic\" \n          label=\"1/0\" \n          variant=\"outlined\"\n          onChange={(e) => {setDomestic(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"sth\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setUid(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"city\" \n          label=\" / \" \n          variant=\"outlined\"\n          onChange={(e) => {setCity(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"country\" \n          label=\" / \" \n          variant=\"outlined\"\n          onChange={(e) => {setCountry(e.target.value)}}\n        />\n        <div className={classes.form1}>\n          <TextField\n            value={tags}\n            //className={classes.submit} \n            id=\"tags\" \n            label=\" / \" \n            variant=\"outlined\"\n            //onChange={(e) => {setTags(e.target.value)}}\n          />\n          <div className={classes.chip}>\n          {\n            tagsArray.map((item, index) => {\n              return (\n                <div key={index} className={classes.chipContainer}>\n                  <Chip \n                    label={item}\n                    color=\"primary\"\n                    variant={array.includes(index) ?  \"default\" : \"outlined\"}\n                    onClick={() => handleClick(item, index)} \n                  />\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>\n        <TextField \n          className={classes.submit} \n          id=\"cover\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setCover(e.target.value)}}\n        />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          onClick={newTrip}\n        >\n          \n        </Button>\n      </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Editinit);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\n\nimport axios from 'axios'\n\nimport{\n  newItemSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(7,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nfunction Story({dispatch, item, history, location}){\n  useEffect(()=>{\n    \n  })\n  \n  const passedData = location.params\n\tconst classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\tconst [articleName, setArticleName] = useState(passedData? passedData.articleName :item)\n  const [picURL, setPicURL] = useState(passedData? passedData.picURL :item)\n  const [articleURL, setArticleURL] = useState(passedData? passedData.articleURL :item)\n  const [width, setWidth] = useState(passedData && passedData.width !== undefined ? passedData.width :0)\n  const [height, setHeight] = useState(passedData && passedData.height !== undefined ? passedData.height :0)\n\n  const newTrip = () => {\n    if(!articleName || !picURL|| !articleURL){\n      return alert('')\n    }\n    const obj = {\n      articleName: articleName.trim(),\n      picURL: picURL.trim(),\n      articleURL: articleURL,\n      width: width,\n      height: height\n    }\n    if(!passedData){\n      dispatch(newItemSaga(obj))\n  \n      setArticleName(item)\n      setPicURL(item)\n      setArticleURL(item)\n      setWidth(0)\n      setHeight(0)\n    } else {\n      //console.log(\"update\")\n      let updatedObj = {...passedData, ...obj}\n      console.log(updatedObj)\n      axios.post('/api/trip/updateItem',updatedObj)\n      .then((res) => {\n        if(res.status === 200 ){\n          alert(\"\")\n        }else{\n          alert(\"\")\n        }\n      })\n      .catch((err) => {\n        alert(err)\n      })\n    }\n\t}\n\n  const getWidthAndHeight = async() => {\n    setLoading(true)\n    //console.log(picURL)\n    //let img = await getOrigiHeight(picURL)\n    //console.log(img.height, img.width)\n    let data = await axios.get('/api/trip/getImgWAH',{params: {url: picURL}})\n    //console.log(data.data)\n    setWidth(data.data.width)\n    setHeight(data.data.height)\n    setLoading(false)\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={passedData ? '' : ''} history={history}/>\n    \t<form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField\n          value={articleName}\n          className={classes.submit} \n          id=\"number\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setArticleName(e.target.value)}}\n        />\n        <TextField\n          value={picURL}\n          className={classes.submit} \n          id=\"name\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setPicURL(e.target.value)}}\n        />\n        <TextField \n          value={articleURL}\n          className={classes.submit} \n          id=\"sth\" \n          label=\"\" \n          variant=\"outlined\"\n          onChange={(e) => {setArticleURL(e.target.value)}}\n        />\n        <TextField \n          value={width}\n          className={classes.submit} \n          id=\"width\" \n          label=\"\" \n          variant=\"outlined\"\n          type=\"number\"\n          onChange={(e) => {setWidth(e.target.value)}}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  onClick={getWidthAndHeight}\n                  disabled={!picURL || loading}\n                >\n                  {loading ? 'Loading': ''}\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <TextField \n          value={height}\n          className={classes.submit} \n          id=\"height\" \n          label=\"\"\n          type=\"number\"\n          variant=\"outlined\"\n          onChange={(e) => {setHeight(e.target.value)}}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  onClick={getWidthAndHeight}\n                  disabled={!picURL || loading}\n                >\n                  {loading ? 'Loading': ''}\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          onClick={newTrip}\n          disabled={picURL && width > 0 && height > 0 && articleName && articleURL ? false: true}\n        >\n          {passedData? '' : '' }\n        </Button>\n      </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Story);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\nimport { fomatURL } from '../tools'\nimport axios from 'axios'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(7,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nfunction PhotosInput({dispatch, item, history, location}){\n  useEffect(()=>{\n    \n  })\n  const passedData = location.params\n  \n  const classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\n  const [tags, setTags] = useState(passedData? passedData.tags :'')\n  const [picURL, setPicURL] = useState(passedData? passedData.picURL :'')\n  const [des, setDes] = useState(passedData? passedData.des :'')\n  const [width, setWidth] = useState(passedData && passedData.width !== undefined ? passedData.width :0)\n  const [height, setHeight] = useState(passedData && passedData.height !== undefined ? passedData.height :0)\n\n  const newTrip = () => {\n    if(!picURL){\n      return alert('')\n    }\n    if(width === 0 || height === 0){\n      return alert('')\n    }\n    const obj = {\n      tags: tags.trim(),\n      picURL: fomatURL(picURL.trim()),\n      des: des.trim(),\n      width: width,\n      height: height\n    }\n    if(!passedData){\n      axios.post('/api/trip/photoInput',{...obj})\n      .then((res) => {\n          if(res.data){\n              alert(\"\")\n              setTags('')\n              setPicURL('')\n              setDes('')\n              setWidth(0)\n              setHeight(0)\n          }else{\n              alert(\"\")\n          }\n      })\n      .catch((err) => {\n          alert(\"\")\n      })\n    }else{\n      let updatedObj = {...passedData, ...obj}\n      axios.post('/api/trip/updatePhoto',updatedObj)\n      .then((res) => {\n        if(res.status === 200 ){\n          alert(\"\")\n          \n        }else{\n          alert(\"\")\n        }\n      })\n      .catch((err) => {\n        alert(err)\n      })\n    }\n\t}\n\n  const getWidthAndHeight = async() => {\n    setLoading(true)\n    let data = await axios.get('/api/trip/getImgWAH',{params: {url: fomatURL(picURL)}})\n    // console.log(data.data)\n    if(data.data === 'error'){\n      alert('URL')\n    } else {\n      setWidth(data.data.width)\n      setHeight(data.data.height)\n    }\n    setLoading(false)\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={passedData ? '' : ''} history={history}/>\n            <form className={classes.form} noValidate autoComplete=\"off\">\n                <TextField\n                    value={tags}\n                    className={classes.submit} \n                    id=\"tags\" \n                    label=\" | \" \n                    variant=\"outlined\"\n                    onChange={(e) => {setTags(e.target.value)}}\n                />\n                <TextField\n                    value={picURL}\n                    className={classes.submit} \n                    id=\"name\" \n                    label=\"\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setPicURL(e.target.value)}}\n                />\n                <TextField \n                    value={des}\n                    className={classes.submit} \n                    id=\"sth\" \n                    label=\"\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setDes(e.target.value)}}\n                />\n                <TextField \n                    value={width}\n                    className={classes.submit} \n                    id=\"width\" \n                    label=\"\" \n                    variant=\"outlined\"\n                    type=\"number\"\n                    onChange={(e) => {setWidth(e.target.value)}}\n                    InputProps={{\n                        endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <Button \n                            variant=\"contained\" \n                            color=\"secondary\"\n                            onClick={getWidthAndHeight}\n                            disabled={!picURL || loading}\n                            >\n                            {loading ? 'Loading': ''}\n                            </Button>\n                        </InputAdornment>\n                        ),\n                    }}\n                />\n                <TextField \n                    value={height}\n                    className={classes.submit} \n                    id=\"height\" \n                    label=\"\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={(e) => {setHeight(e.target.value)}}\n                    InputProps={{\n                        endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <Button \n                            variant=\"contained\" \n                            color=\"secondary\"\n                            onClick={getWidthAndHeight}\n                            disabled={!picURL || loading}\n                            >\n                            {loading ? 'Loading': ''}\n                            </Button>\n                        </InputAdornment>\n                        ),\n                    }}\n                />\n                <Button \n                    variant=\"contained\" \n                    color=\"primary\" \n                    className={classes.submit}\n                    onClick={newTrip}\n                    disabled={picURL && width > 0 && height > 0 ? false: true}\n                >\n                    {passedData? '' : '' }\n                </Button>\n            </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(PhotosInput);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport{\n    setPageIndex\n} from '../store/action'\nimport HighlightOff from '@material-ui/icons/HighlightOff';\n\nconst useStyles = makeStyles(theme => ({\n\tlistContainer: {\n        margin: theme.spacing(8,0,2,0),\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap'\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        padding: theme.spacing(0,0,1,0)\n    },\n    imgContainer:{\n        margin: theme.spacing(1,0,0,1),\n        position: 'relative',\n        width: '200px',\n        height: '200px',\n        overflow: 'hidden',\n        backgroundColor: '#f0f0f0'\n    },\n    img: {\n        display: 'block',\n        maxHeight: '100%',\n        height: 'auto'\n    },\n    img2: {\n        display: 'block',\n        maxWidth: '100%',\n        width: 'auto'\n    },\n    dele: {\n        position: 'absolute',\n        right: 0,\n        top: 0,\n        color: 'white',\n    }\n}));\n\nfunction TotalStorys({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getPhotos',{params: {page: pageIndex}})\n        .then((res) => {\n            //console.log(res.data.allItems.length)\n            setDataArray(res.data.items)\n            setTotal(res.data.total)\n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getPhotos',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getPhotos',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/photosInput', params: item});\n    }\n    const dele = async(index, item, e) => {\n        e.stopPropagation()\n        const data = await axios.post('/api/trip/deletePhoto',{id: item._id})\n        if(data.data){\n            alert(\"\")\n            dataArray.splice(index, 1)\n            setDataArray([...dataArray])\n        } else {\n            alert(\"\")\n        }\n    }\n\treturn (\n\t\t<div >\n\t\t\t<Bar title={''} history={history}/>\n            <div className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <div \n                        key={index} \n                        className={classes.imgContainer} \n                        onClick={() => _jump(item)}\n                    >\n                        <img \n                            alt='' \n                            className={item.width > item.height ? classes.img : classes.img2} \n                            src={item.picURL}\n                        />\n                        <div \n                            className={classes.dele}\n                            onClick={(e) => dele(index, item, e)} \n                        >\n                            <HighlightOff />\n                        </div>\n                    </div>\n                ))\n                : null\n            }\n            </div>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            \n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            \n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalStorys);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport{\n    setPageIndex\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        overflow: 'hidden'\n    },\n\tlistContainer: {\n        margin: theme.spacing(8,0,1,0),\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        margin: theme.spacing(0,0,1,0)\n    }\n}));\n\nfunction TotalStorys({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex}})\n        .then((res) => {\n            setDataArray(res.data.items)\n            setTotal(res.data.total) \n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/story', params: item});\n    }\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<Bar title={''} history={history}/>\n            <div className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <ListItem button key={index} onClick={() => _jump(item)}>\n                        <ListItemText primary={item.articleName} />\n                    </ListItem>\n                ))\n                : null\n            }\n            </div>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            \n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            \n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalStorys);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport{\n    setPageIndex\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\tlistContainer: {\n        padding: theme.spacing(8,0,1,0),\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        margin: theme.spacing(0,0,1,0)\n    }\n}));\n\nfunction TotalTrips({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex}})\n        .then((res) => {\n\n            setDataArray(res.data.items)\n            setTotal(res.data.total) \n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/edit', params: item});\n    }\n\treturn (\n\t\t<div >\n\t\t\t<Bar title={''} history={history}/>\n            <List className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <ListItem button key={index} onClick={() => _jump(item)}>\n                        <ListItemText \n                            primary={`${item.tripName} | ${item.detail.length} | ${item.city}`} \n                        />\n                        <ListItemSecondaryAction>\n                            <Button \n                                edge=\"end\" \n                                aria-label=\"actions\" \n                                onClick={(e) => {\n                                    e.stopPropagation()// ListItem\n                                    // \n                                    axios.post('/api/trip/deleteItem', {uid: item.uid})\n                                    .then((res) => {\n                                        if(res.data){\n                                            alert('')\n                                            setDataArray(dataArray.filter((trip) => trip.uid !== item.uid))\n                                        }else{\n                                            alert('')\n                                        }\n                                    })\n                                }}>\n                                \n                            </Button>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))\n                : null\n            }\n            </List>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            \n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            \n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalTrips);\n","import React, { useEffect} from 'react';\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport { connect } from 'react-redux';\nimport { \n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\nimport {\n  setNextstickerusersincreaesd\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    margin: theme.spacing(5,1,1,1),\n  },\n  div1: {\n    width: '100%',\n    height: theme.spacing(6),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  }\n}));\n\nfunction Client({history, dispatch, nextstickerUsersIncreased}){\n  const [total, setTotal] = React.useState(0)\n  const [users, setUsers] = React.useState([])\n  const loading = React.useState(false)\n\n  useEffect(()=>{\n    dispatch(setNextstickerusersincreaesd(0))\n  },[dispatch])\n\n  useEffect(()=>{\n    getdata()\n  },[])\n\n  useEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20 && !loading){\n      if(users.length < total){\n        \n      } else {\n        return \n      }\n    }\n  }\n\n\tconst classes = useStyles();\n\n  const getdata = () => {\n    axios.get('/api/users/getClient')\n    .then((res) => {\n      if(res.status === 200){\n        setTotal(res.data.length)\n        setUsers(res.data)\n      }\n    })\n    .catch((err)=>{\n      alert(err)\n    })\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={`NextSticker ${total}`} history={history} />\n      <div className={classes.div}></div>\n      {\n        users.length > 0\n        ?<React.Fragment>\n        {\n          users.map((item, index) => (\n            <div className={classes.div1} key={index}>\n              <div>{item.destination}</div><div>{item.wechat}</div>\n            </div>\n          ))\n        }\n        </React.Fragment>\n        :<div className={classes.div2}></div>\n      }\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Client);\n","import React, { useState, useEffect, useRef } from 'react'\nimport axios from 'axios'\nimport AMapLoader from '@amap/amap-jsapi-loader'\nimport '../css/mapView.css'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport Search from '@material-ui/icons/Search';\nimport Clear from '@material-ui/icons/Clear';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Container, Draggable } from 'react-smooth-dnd';\nimport {\n    getClientHeight,\n    Daytrip,\n    style,\n    gaodeKey\n} from '../tools'\n\nfunction  MapComponent ({totalData, data, removeItem, AddOneItem, changePlan, rePlaceOneItem}){\n    const [mapG, setMapG] = useState(null)\n    const [pointsG, setPointsG] = useState([]) \n    const [windowsG, setWindowsG] = useState([]) \n    const [value, setValue] = useState('')//\n    const [aMapClass, setAmapClass] = useState(null)\n    const [result, setResult] = useState([])\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData, setDayData] = useState(new Daytrip())\n    const [cache, setCache] = useState(new Daytrip())\n    const [replanIndex, setReplanIndex] = useState(0)\n\n    const [infoOpen, setInfoOpen] = useState(false)\n    const [imgsOpen, setImgsOpen] = useState(false)\n    const [infoFromGoogle, setInfoFromGoogle] = useState(null)\n    const [picsFromGoogle, setPicsFromGoogle] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [errinFo, setErrinFo] = useState(null)\n\n    const [loadingPic, setLoadingPic] = useState(false)\n    const [loadingInfo, setLoadingInfo] = useState(false)\n    const [searchLoading, setSearchLoading] = useState(false)\n\n    const desRef = useRef(null);\n    const picsRef = useRef(null);\n\n    useEffect(() => {\n        setDayData(new Daytrip(data[0].nameOfScence, data[0].longitude, data[0].latitude, data[0].des, data[0].picURL));\n    }, [data]);\n\n    useEffect(() => {\n        console.log('', totalData)\n        AMapLoader.load({\n            key: gaodeKey,                     \n            version:\"2.0\",             \n            plugins:['AMap.Scale','AMap.Geolocation','AMap.AutoComplete','AMap.PlaceSearch'],             \n        }).then((AMap)=>{\n            let map = new AMap.Map(\"container\",{ \n                viewMode:\"3D\",       \n                zoom:15,              \n                center:center(data), \n            });\n\n            map.addControl(new AMap.Scale());\n            map.addControl(new AMap.Geolocation());\n\n            let pointsArray = []\n            let infoWindowsArray = []\n            let lonLat = []\n            if(data && data.length > 0){\n                data.forEach((item, index) => {\n                    lonLat.push([parseFloat(item.longitude), parseFloat(item.latitude)])\n                    let window = windowConstructor(AMap, item.nameOfScence, item.des, item.picURL, removeItem, add, editItem, index, imgClick)\n                    infoWindowsArray.push(window)\n                    let point = markerConstructor(AMap, parseFloat(item.longitude), parseFloat(item.latitude), item.nameOfScence, index)\n                    point.on('click', (obj) => openOrcloseWindow(obj, window, map))\n                    pointsArray.push(point)\n                })\n                map.add(pointsArray);\n                infoWindowsArray[0].open(map,lonLat[0]);\n\n                setPointsG(pointsArray)\n                setWindowsG(infoWindowsArray)\n            }\n            setAmapClass(AMap)\n            setMapG(map)\n        })\n        .catch(e=>{\n            console.log(e);\n        })\n    },[totalData, data, data?.length, removeItem])\n\n    const markerConstructor = (amapClass, longitude, latitude, title, extData) => {\n        let point = new amapClass.Marker({\n            position: new amapClass.LngLat(longitude, latitude),\n            title: title,\n            extData: extData\n        })\n        return point\n    }\n\n    const imgClick = (index) => {\n        setOpen(true)\n    }\n\n    const windowConstructor = (amapClass, title, des, picURL, fn, fn1, fn2, index, imgClick) => {\n        let window = new amapClass.InfoWindow({\n            isCustom: true,\n            content: content (title, des, picURL, fn, fn1, fn2, index, imgClick), \n            offset: new amapClass.Pixel(0, -30)\n        })\n        return window\n    }\n\n    const center = (data) => {\n        if(data && data.length > 0){\n            return [parseFloat(data[0].longitude),parseFloat(data[0].latitude)]\n        } else {\n            return [116.39, 39.9]\n        }\n    }\n\n    const content  = (title1, des1, picUrl, fn, fn1, fn2, index, imgClick) => {\n        var windowContainer = document.createElement(\"div\");\n        windowContainer.className = 'windowContainer'\n\n        var title = document.createElement(\"div\");\n        title.className = 'title'\n        title.innerHTML = title1\n        windowContainer.appendChild(title)\n\n        var des = document.createElement(\"div\");\n        des.className = 'des'\n        des.innerHTML = des1\n\n        if(des1){\n            windowContainer.appendChild(des)\n        }\n\n        if(picUrl){\n            var imgContainer = document.createElement(\"div\");\n            imgContainer.className = 'imgContainer'\n\n            var img = document.createElement(\"img\");\n            img.className = 'img'\n            img.src = picUrl\n            img.onclick = () => imgClick(index)\n\n            imgContainer.appendChild(img)\n            windowContainer.appendChild(imgContainer)\n        } \n\n        var btn = document.createElement(\"div\");\n        btn.className = 'btn'\n        btn.innerHTML = ''\n        btn.onclick = () => fn(index)\n        \n        var rePlan = document.createElement(\"div\");\n        rePlan.className = 'rePlan'\n        rePlan.innerHTML = ''\n        rePlan.onclick = () => fn2(index)\n        \n        var appand = document.createElement(\"div\");\n        appand.className = 'btn'\n        appand.innerHTML = ''\n        appand.onclick = fn1\n\n        if(check(title1, data)){\n            windowContainer.appendChild(btn)\n            windowContainer.appendChild(rePlan)\n        } else {\n            windowContainer.appendChild(appand)\n        }\n\n        return windowContainer\n    }\n\n    const add = () => {\n        console.log(\"\")\n        console.log(getInfo())\n        dayData.nameOfScence = getInfo().name\n        dayData.longitude = getInfo().lng\n        dayData.latitude = getInfo().lat\n        dayData.des = ''\n        dayData.picURL = ''\n        setOpen(true)\n    }\n    //\n    const editItem = (index) => {\n        setRePlanOpen(true)\n    }\n\n    const getInfo = () => {\n        let obj = {}\n        let points = mapG.getAllOverlays('marker')\n        data.forEach((item) => {\n            for(let i = 0 ; i < points.length ; i++){\n                if(points[i].getTitle() === item.nameOfScence){\n                    points.splice(i, 1)\n                }\n            }\n        })\n        obj.name = points[0].getTitle()\n        obj.lng = points[0].getPosition().lng\n        obj.lat = points[0].getPosition().lat\n        return obj\n    }\n\n    const openOrcloseWindow = (obj, window, map) => {\n        try {\n            const index = data.findIndex(item => item.nameOfScence === obj.target.getTitle())\n            if(index !== -1){\n                setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n                const position = obj.target.getPosition();\n                window.open(map, position);\n                map.panTo(position);\n            }\n        } catch (error) {\n            console.error('Error in openOrcloseWindow:', error);\n        }\n    };\n\n    const choosePoint = (index) => {\n        if(!windowsG[index].getIsOpen()){\n            windowsG[index].open(mapG,pointsG[index].getPosition());\n        }\n        setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n        mapG.panTo(pointsG[index].getPosition())\n    }\n\n    const search = ()=>{\n        setSearchLoading(true)\n        if(value.trim() && value.trim()!== ''){\n            var placeSearch = new aMapClass.PlaceSearch();\n            placeSearch.search(value.trim(), function (status, result) {\n                if(result.info === 'OK'){\n                    setResult(result.poiList.pois)\n                    setSearchLoading(false)\n                } else {\n                    alert('')\n                    setSearchLoading(false)\n                }\n            });\n        } else {\n            alert('')\n            setSearchLoading(false)\n        }\n    }\n\n    const inJectPoint = (item) => {\n        console.log(\"\", item)\n        if(data.length !== mapG.getAllOverlays('marker').length){\n            let points = mapG.getAllOverlays('marker')\n            data.forEach((item) => {\n                for(let i = 0 ; i < points.length ; i++){\n                    if(points[i].getTitle() === item.nameOfScence){\n                        points.splice(i, 1)\n                    }\n                }\n            })\n            points[0].remove()\n        }\n        let window = windowConstructor(aMapClass, item.name, null, null, null, add, editItem, mapG.getAllOverlays('marker').length + 1)\n        let point = markerConstructor(aMapClass, item.location.lng, item.location.lat, item.name, mapG.getAllOverlays('marker').length + 1)\n        point.on('click', (obj) => openOrcloseWindow(obj, window, mapG))\n        mapG.add(point)\n        window.open(mapG, [item.location.lng, item.location.lat])\n        mapG.panTo([item.location.lng, item.location.lat])\n    } \n\n    const clear = () => {\n        setResult([])\n        setValue('')\n        if(data.length !== mapG.getAllOverlays('marker').length){\n            let points = mapG.getAllOverlays('marker')\n            data.forEach((item) => {\n                console.log(item.nameOfScence)\n                for(let i = 0 ; i < points.length ; i++){\n                    if(points[i].getTitle() === item.nameOfScence){\n                        points.splice(i, 1)\n                    }\n                }\n            })\n            points[0].remove()\n            mapG.clearInfoWindow()\n        }\n    }\n\n    const check = (str, array) => {\n        let flag = false\n        for(let i = 0 ; i < array.length; i++){\n            if(array[i].nameOfScence === str){\n                flag = true\n                break\n            }\n        }\n        return flag\n    }\n\n    const closeModal = () => {\n        setOpen(false)\n    }\n\n    const closeReplanModal = () => {\n        setRePlanOpen(false)\n    }\n\n    const changeContent = (c, str) => {\n        if(str === 'category'){\n            dayData[str] = parseInt(c)\n        }else {\n            dayData[str] = c\n        }\n        dayData[str] = c\n        setDayData({...dayData})\n    }\n\n    const addItemFromMap = ()=> {\n        if(dayData.des === '' || dayData.picURL === ''){\n            return alert('')\n        }\n        const index = data.findIndex(item => item.nameOfScence === dayData.nameOfScence)\n\n        if(index === -1){\n            AddOneItem({...dayData})\n            closeModal()\n            setDayData(new Daytrip())\n            setResult([])\n            setValue('')\n        } else {\n            rePlaceOneItem(index, {...dayData})\n            closeModal()\n            setDayData(new Daytrip())\n        }    \n    }\n\n    const replanStart = (item, index) => {\n        console.log(`${index+1}${item +1}`)\n        let deleteItem = totalData[index][item]\n        Object.keys(deleteItem).forEach((key) => {\n            cache[key] = deleteItem[key]\n        })\n        if(setReplanIndex !== 0){\n            setReplanIndex(0)\n        }\n    }\n\n    const findIndex = (arr, str) => {\n        let indexArr = []\n        for(let i = 0 ; i < arr.length; i++){\n            for(let j = 0 ; j < arr[i].length ; j++){\n                if(arr[i][j].nameOfScence === str){\n                    indexArr.push(i)\n                    indexArr.push(j)\n                    break\n                }\n            }\n        }\n        return indexArr\n    }\n\n    const replan = (e) => {\n        let newIndex = replanIndex + 1\n        if(replanIndex < totalData.length ){\n            setReplanIndex(newIndex)\n        }\n        const { removedIndex, addedIndex } = e\n        if (removedIndex === null && addedIndex === null) return \n        if(addedIndex !== null){\n            console.log(`${replanIndex + 1}${addedIndex + 1}`)\n            let arr = JSON.parse(JSON.stringify(totalData))//\n            let indexARRAY = findIndex(arr, cache.nameOfScence)\n            arr[indexARRAY[0]].splice(indexARRAY[1], 1)\n            arr[replanIndex].splice(addedIndex, 0 ,cache)\n            changePlan(arr)\n            setCache(new Daytrip())\n        }\n    }\n\n    const handleFocus = (str) => {\n        if(str === 'des'){\n            setInfoOpen(true)\n            desRef.current.blur()\n            setLoading(true)\n            fetchInfoFromGoogle(str)\n        } else {\n            setImgsOpen(true)\n            picsRef.current.blur()\n            setLoading(true)\n            fetchInfoFromGoogle(str)\n        }   \n    }\n\n    const handleCloseInfo = (str) => {\n        if(str === 'des'){\n            setInfoOpen(false)\n            setErrinFo(null)\n            setInfoFromGoogle(null)\n        }else {\n            setImgsOpen(false)\n            setErrinFo(null)\n            setPicsFromGoogle([])\n        } \n    }\n\n    const fetchInfoFromGoogle = (str) => {\n        if(str === 'des'){\n            axios.get(`/api/chat/getDes?chat=${dayData.nameOfScence}`)\n            .then((res) => {\n                setInfoFromGoogle(res.data)\n                setLoading(false)\n            })\n            .catch((err) => {\n                console.log(err)\n                setLoading(false)\n                setErrinFo(err)\n            })\n        }else {\n            axios.get(`/api/trip/getBingImg?point=${dayData.nameOfScence}`)\n            .then((res) => {\n                setPicsFromGoogle([res.data])\n                setLoading(false)\n            })\n            .catch((err) => {\n                console.log(err)\n                setLoading(false)\n                setErrinFo(err)\n            })\n        }\n    }\n\n    const getInfiOrImg = (str) => {\n        console.log(str)\n        if(str === 'des'){\n        setLoadingInfo(true)\n        axios.get(`/api/chat/getDes?chat=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingInfo(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingInfo(false)\n        })\n        }else {\n        setLoadingPic(true)\n        axios.get(`/api/trip/getBingImg?point=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingPic(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingPic(false)\n        })\n        }\n    }\n   \n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n            </div>\n            <div className=\"textFieldContainer\">\n                <FormControl variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\"></InputLabel>\n                    <OutlinedInput\n                        id=\"outlined-adornment-password\"\n                        type='text' \n                        value={value}\n                        onChange={(e)=>{setValue(e.target.value)}}\n                        endAdornment={\n                            searchLoading\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                edge=\"end\"\n                                >\n                                    <CircularProgress size={20} />\n                                </IconButton>\n                            </InputAdornment>\n                            :\n                            result && result.length > 0\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                onClick={clear}\n                                edge=\"end\"\n                                >\n                                    <Clear />\n                                </IconButton>\n                            </InputAdornment>\n                            :<InputAdornment position=\"end\">\n                            <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={search}\n                            edge=\"end\"\n                            >\n                                <Search />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                        label=\"Password\"\n                    />\n                </FormControl>\n                <div className=\"resultsContainer\">\n                {\n                    result && result.length > 0\n                    ?<List>\n                    {result.map((item, index) => {\n                        return (\n                            <div key={index} onClick={() => {inJectPoint(item)}}>\n                                <ListItem >\n                                    <ListItemText primary={item.name} />\n                                </ListItem>\n                            </div>  \n                        )\n                    })\n                    }\n                    </List>\n                    :null\n                }\n                </div>\n            </div>\n            <div className=\"listContainer\" style={{ left: document.body.clientWidth < getClientHeight() ? '20px' : '220px' }}>\n                {data && data.length > 0\n                    ?<List>\n                    {\n                      data.map((item, index) => {    \n                        return (\n                            <div \n                                key={item.nameOfScence} \n                                onClick={() => {choosePoint(index)}}\n                            >\n                                <ListItem >\n                                    <ListItemText primary={item.nameOfScence} />\n                                </ListItem>\n                                <Divider />\n                            </div>  \n                        )\n                    })  \n                    }\n                    </List>\n                    :null\n                }\n            </div>\n            <Dialog open={open} onClose={closeModal}>\n                <DialogTitle></DialogTitle>\n                <div className=\"textContainer\">\n                    <TextField \n                        label=\"nameOfScence\" \n                        value={dayData.nameOfScence}\n                        onChange={(e) => {changeContent(e.target.value, \"nameOfScence\")}}\n                    />\n                    <div>\n                        <TextField \n                            label=\"longitude\" \n                            value={dayData.longitude}\n                            onChange={(e) => {changeContent(e.target.value, \"longitude\")}}\n                        />\n                        <TextField \n                            label=\"latitude\" \n                            value={dayData.latitude}\n                            onChange={(e) => {changeContent(e.target.value, \"latitude\")}}\n                        /> \n                    </div>\n                    <TextField \n                        inputRef={desRef}\n                        label=\"des\"\n                        //onFocus={() => handleFocus(\"des\")} \n                        multiline \n                        value={dayData.des }\n                        onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"end\">\n                                <Button \n                                    variant=\"text\" \n                                    onClick={() => getInfiOrImg(\"des\")}\n                                    size=\"small\"\n                                >\n                                    {!loadingInfo ? '' : ''}\n                                </Button>\n                                </InputAdornment>\n                            )\n                        }}\n                    />\n                    <TextField\n                        inputRef={picsRef}\n                        //onFocus={() => handleFocus(\"picURL\")}\n                        multiline \n                        label=\"picURL\" \n                        value={dayData.picURL}\n                        onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"end\">\n                                <Button \n                                    variant=\"text\" \n                                    onClick={() => getInfiOrImg(\"picURL\")}\n                                    size=\"small\"\n                                >\n                                    {!loadingPic ? '' : ''}\n                                </Button>\n                                </InputAdornment>\n                            )\n                        }}\n                    />\n                    <TextField \n                        label=\"pointOrNot\" \n                        value={dayData.pointOrNot}\n                        onChange={(e) => {changeContent(e.target.value, \"pointOrNot\")}}\n                    />\n                    <TextField \n                        label=\"category\" \n                        value={dayData.category}\n                        onChange={(e) => {changeContent(e.target.value, \"category\")}}\n                    />\n                    <TextField \n                        label=\"contructor\" \n                        value={dayData.contructor}\n                        onChange={(e) => {changeContent(e.target.value, \"contructor\")}}\n                    />\n                    <div className='btnContainer'>\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={addItemFromMap}\n                        >\n                            \n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog open={rePlanOpen} onClose={closeReplanModal}>\n                <DialogTitle></DialogTitle>\n                <div className='replanContainer2'>\n                {\n                    totalData.map((item, index) => (\n                        <div key={index} className='replanContainer1'>\n                            <div className='titlereplan'>{`${index + 1}`}</div>   \n                            <Container \n                                orientation=\"horizontal\"\n                                className='replanContainer' \n                                style={style}\n                                groupName=\"1\"\n                                getChildPayload={(i) => replanStart(i, index)}\n                                onDrop={replan}\n                            >\n                                {\n                                    item.map((item2, index2) => (\n                                        <Draggable \n                                            key={item2.nameOfScence} \n                                            style={{height: '30px'}}\n                                        >\n                                        <div \n                                            className='itemContainer'\n                                        >\n                                            {item2.nameOfScence}\n                                        </div>\n                                        </Draggable>\n                                    ))\n                                }\n                            </Container>\n                        </div>\n                    ))\n                }\n                </div>\n            </Dialog>\n            <Dialog \n                open={infoOpen} \n                onClose={() => handleCloseInfo('des')}\n            >\n                <div className='inFoContainer'>\n                    <div>{loading ? '...' : null}</div>\n                    <TextField \n                        label=\"des\"\n                        multiline\n                        fullWidth\n                        value={dayData.des}\n                        onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                    />\n                    <div onClick={() => {changeContent(infoFromGoogle, \"des\")}}>{infoFromGoogle !== null ? infoFromGoogle : null}</div>\n                    <div>{infoFromGoogle !== null ? ' ' : null}</div>\n                    <div>{errinFo !== null ? '' : null}</div>\n                    <div className='btnContainer'>\n                        <Button \n                            color=\"secondary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('des')}\n                        >\n                            \n                        </Button>\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('des')}\n                        >\n                            \n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog \n                open={imgsOpen} \n                onClose={() => handleCloseInfo('picURL')}\n            >\n                <div className='inFoContainer'>\n                    <div>{loading ? '...' : null}</div>\n                    <TextField \n                        label=\"picURL\"\n                        multiline\n                        fullWidth\n                        value={dayData.picURL}\n                        onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                    />\n                    <div className='googleImgsContainer'>\n                    {\n                        picsFromGoogle.length > 0 \n                        ? picsFromGoogle.map((item, index) => {\n                            return (\n                                <div className='googleImgsBox' onClick={() => {changeContent(item, \"picURL\")}} key={index}>\n                                   <img className='googleImgBox' src={item}  alt=''/> \n                                </div>\n                            )\n                        })\n                        :<div></div>\n                    }\n                    </div>\n                    <div>{picsFromGoogle !== null && picsFromGoogle.length > 0 ? ' Bing' : null}</div>\n                    <div>{errinFo !== null ? '' : null}</div>\n                    <div className='btnContainer'>\n                        <Button \n                            color=\"secondary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('picURL')}\n                        >\n                            \n                        </Button>\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('picURL')}\n                        >\n                            \n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default MapComponent","import React, { useState, useEffect, Component, useRef } from 'react'\nimport ReactDOM from \"react-dom\";\nimport '../css/mapView.css'\nimport axios from 'axios'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Search from '@material-ui/icons/Search';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Clear from '@material-ui/icons/Clear';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Container, Draggable } from 'react-smooth-dnd';\nimport {\n  Map, \n  InfoWindow, \n  Marker, \n  GoogleApiWrapper\n} from 'google-maps-react';\n\nimport {\n    getClientHeight,\n    Daytrip,\n    style,\n    googleKey,\n    googleMapcontainerStyle,\n} from '../tools'\n\nfunction  GoogleMapComponent ({google, totalData, data, removeItem, AddOneItem, changePlan, rePlaceOneItem}){\n    const [mapG, setMapG] = useState(null)\n    const [value, setValue] = useState('')//\n    const [result, setResult] = useState([])\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData, setDayData] = useState(new Daytrip())\n    const [cache, setCache] = useState(new Daytrip())\n    const [replanIndex, setReplanIndex] = useState(0)\n    const [activeMarker, setActiveMarker] = useState(null)\n    const [centerPointObj, setCenterPointObj] = useState(null)\n    const [titleG, setTitleG] = useState('')\n    const [desG, setDesG] = useState('')\n    const [imgUrl, setImgUrl] = useState('')\n    const [showingInfoWindow, setShowingInfoWindow] = useState(false)\n    const [placeService, setPlaceService] = useState(null)\n    const [cacheMarker, setCacheMarker] = useState(null)\n    const [loadingPic, setLoadingPic] = useState(false)\n    const [loadingInfo, setLoadingInfo] = useState(false)\n    const [searchLoading, setSearchLoading] = useState(false)\n    const markersRef = useRef([])\n    useEffect(() => {\n      if(data && data.length > 0){\n        setDayData(new Daytrip(data[0].nameOfScence, data[0].longitude, data[0].latitude, data[0].des, data[0].picURL));\n      }\n    }, [data]);\n\n    useEffect(() => {\n      console.log('google', totalData, data)\n      markersRef.current = []\n      if(data && data.length > 0){\n        setCenter(data[0])\n      }\n      if(showingInfoWindow){\n        setShowingInfoWindow(false)\n      }\n    },[totalData, data, data?.length, removeItem])\n\n    const setCenter = (data) => {\n      let obj = {}\n      obj.lat = parseFloat(data.latitude)\n      obj.lng = parseFloat(data.longitude)\n      setCenterPointObj(obj)\n    }\n\n    const content  = (name, fn, item) => {\n      var windowContainer = document.createElement(\"div\");\n      var title = document.createElement(\"div\");\n      title.innerHTML = name\n      windowContainer.appendChild(title)\n      var appand = document.createElement(\"div\");\n      appand.innerHTML = ''\n      appand.onclick = () => fn(item)\n      windowContainer.appendChild(appand)\n      return windowContainer\n    }\n\n    const add = (item) => {\n      dayData.nameOfScence = item.name\n      dayData.longitude = item.geometry.location.lng()\n      dayData.latitude = item.geometry.location.lat()\n      dayData.des = ''\n      dayData.picURL = ''\n      setOpen(true)\n    }\n\n    const getInfo = () => {\n      let obj = {}\n      setOpen(true)\n    }\n    //\n    const editItem = () => {\n      console.log('')\n      setRePlanOpen(true)\n      if(showingInfoWindow){\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const choosePoint = (index) => {\n      setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n      setCenter(data[index])\n      const marker = markersRef.current[index];\n      if (marker) {\n        setTitleG(data[index].nameOfScence)\n        setDesG(data[index].des)\n        setImgUrl(data[index].picURL)\n        setActiveMarker(marker.marker);\n        setShowingInfoWindow(true);\n      }\n    }\n\n    const search = ()=>{\n      setSearchLoading(true)\n      if(value.trim() && value.trim()!== ''){\n        const request = {\n          query: value.trim(),\n          fields: [\"name\", \"formatted_address\", \"geometry\"],\n        }\n        try {\n          placeService.findPlaceFromQuery(\n            request,\n            (\n              results: google.maps.places.PlaceResult[] | null,\n              status: google.maps.places.PlacesServiceStatus\n            ) => {\n              if (status === google.maps.places.PlacesServiceStatus.OK && results) {\n                console.log(results[0].geometry.location.lat())\n                setResult(results)\n                setSearchLoading(false)\n              }\n            }\n          )\n        } catch (error) {\n          alert('')\n          console.log(error)\n          setSearchLoading(false)\n        }\n      }\n    }\n\n    const inJectPoint = (item) => {\n      if(cacheMarker){\n        cacheMarker.setMap(null)\n      }\n      let lat = item.geometry.location.lat()\n      let lng = item.geometry.location.lng()\n      const marker = new google.maps.Marker({\n        position: { lat: lat, lng: lng },\n        map: mapG,\n        title: item.name\n      });\n      const infowindow = new google.maps.InfoWindow({\n        content: content(item.name, add, item),\n        ariaLabel: item.name,\n      });\n      marker.addListener(\"click\", () => {\n        infowindow.open({\n          anchor: marker,\n          mapG,\n        });\n      });\n      let center = {}\n      center.lat = lat\n      center.lng = lng\n      setCenterPointObj(center)\n      setCacheMarker(marker)\n    } \n\n    const clear = () => {\n        setResult([])\n        setValue('')\n        if(cacheMarker){\n          cacheMarker.setMap(null)\n          setCacheMarker(null)\n        }\n    }\n\n    const closeModal = () => {\n        setOpen(false)\n    }\n\n    const closeReplanModal = () => {\n        setRePlanOpen(false)\n    }\n\n    const changeContent = (c, str) => {\n        if(str === 'category'){\n            dayData[str] = parseInt(c)\n        }else {\n            dayData[str] = c\n        }\n        dayData[str] = c\n        setDayData({...dayData})\n    }\n\n    const addItemFromMap = ()=> {\n        if(dayData.des === '' || dayData.picURL === ''){\n            return alert('')\n        }\n        const index = data.findIndex(item => item.nameOfScence === dayData.nameOfScence)\n        if(index === -1){\n          AddOneItem({...dayData})\n          closeModal()\n          setDayData(new Daytrip())\n          setResult([])\n          setValue('')\n          if(cacheMarker){\n            cacheMarker.setMap(null)\n            setCacheMarker(null)\n          }\n        } else {\n          rePlaceOneItem(index, {...dayData})\n          closeModal()\n          setDayData(new Daytrip())\n          setTitleG('')\n        }\n    }\n\n    const replanStart = (item, index) => {\n        console.log(`${index+1}${item +1}`)\n        let deleteItem = totalData[index][item]\n        Object.keys(deleteItem).forEach((key) => {\n            cache[key] = deleteItem[key]\n        })\n        if(setReplanIndex !== 0){\n            setReplanIndex(0)\n        }\n    }\n\n    const findIndex = (arr, str) => {\n        let indexArr = []\n        for(let i = 0 ; i < arr.length; i++){\n            for(let j = 0 ; j < arr[i].length ; j++){\n                if(arr[i][j].nameOfScence === str){\n                    indexArr.push(i)\n                    indexArr.push(j)\n                    break\n                }\n            }\n        }\n        return indexArr\n    }\n\n    const replan = (e) => {\n        let newIndex = replanIndex + 1\n        if(replanIndex < totalData.length ){\n            setReplanIndex(newIndex)\n        }\n        const { removedIndex, addedIndex } = e\n        if (removedIndex === null && addedIndex === null) return \n        if(addedIndex !== null){\n            console.log(`${replanIndex + 1}${addedIndex + 1}`)\n            let arr = JSON.parse(JSON.stringify(totalData))//\n            let indexARRAY = findIndex(arr, cache.nameOfScence)\n            arr[indexARRAY[0]].splice(indexARRAY[1], 1)\n            arr[replanIndex].splice(addedIndex, 0 ,cache)\n            changePlan(arr)\n            setCache(new Daytrip())\n        }\n    }\n\n    const fetchPlaces = (mapProps, map) => {\n      console.log('', mapProps)\n      \n      const {google} = mapProps;\n      let service = new google.maps.places.PlacesService(map)\n      setPlaceService(service)\n      setMapG(map)\n      if (data && data.length > 0) {\n        setTitleG(data[0].nameOfScence);\n        setDesG(data[0].des);\n        setImgUrl(data[0].picURL);\n        setCenterPointObj({\n          lat: parseFloat(data[0].latitude),\n          lng: parseFloat(data[0].longitude),\n        });\n        \n        //  Marker  activeMarker\n        // markersRef.current[0]  Marker \n        //  setTimeout\n        setTimeout(() => {\n          if (markersRef.current[0]) {\n            setActiveMarker(markersRef.current[0].marker);\n            setShowingInfoWindow(true);\n          }\n        }, 1000); //  100ms  Marker \n      }\n    }\n\n    const onMarkerClick = (props, marker) => {\n      console.log(marker)\n      let objArray = data.filter((item) => {\n        return item.nameOfScence === props.title\n      })\n      setDayData(new Daytrip(objArray[0].nameOfScence, objArray[0].longitude, objArray[0].latitude, objArray[0].des, objArray[0].picURL))\n      if(objArray[0].nameOfScence !== titleG){\n        setTitleG(objArray[0].nameOfScence)\n        setDesG(objArray[0].des)\n        setImgUrl(objArray[0].picURL)\n        setCenterPointObj(props.position)\n        setActiveMarker(marker)\n        setShowingInfoWindow(true)\n      } else {\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const onMapClicked = (props) => {\n      console.log('', props)\n    }\n\n    const test = (title) => {\n      if(showingInfoWindow){\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n      for(let i = 0; i < data.length; i++){\n        if(data[i].nameOfScence === title){\n          removeItem(i)\n        }\n      }\n    }\n\n    const handleFocus = (str) => {\n      console.log(str)\n      if(str === 'des'){\n        setLoadingInfo(true)\n        axios.get(`/api/chat/getDes?chat=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingInfo(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingInfo(false)\n        })\n      }else {\n        setLoadingPic(true)\n        axios.get(`/api/trip/getBingImg?point=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingPic(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingPic(false)\n        })\n      }\n    }\n\n    const closeWindow = () => {\n      setTitleG('')\n      setDesG('')\n      setImgUrl('')\n      setActiveMarker(null)\n      setShowingInfoWindow(false)\n    }\n\n    const showInfo = () => {\n      console.log('')\n      setOpen(true)\n    }\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n              {\n                data && data.length > 0\n                ?<Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          ref={(marker) => {\n                            if (marker) markersRef.current[index] = marker;\n                          }}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt='' onClick={showInfo}/>\n                      </div>\n                      <div className=\"btnContainer\">\n                        <div onClick={editItem}></div>\n                        <div onClick={() => test(titleG)}></div>\n                      </div>               \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n                :<Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt=''/>\n                      </div>\n                      <div className=\"btnContainer\">\n                        <div onClick={editItem}></div>\n                        <div onClick={() => test(titleG)}></div>\n                      </div>               \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n              }\n            </div>\n            <div className=\"textFieldContainer\">\n                <FormControl variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\"></InputLabel>\n                    <OutlinedInput\n                        id=\"outlined-adornment-password\"\n                        type='text' \n                        value={value}\n                        onChange={(e)=>{setValue(e.target.value)}}\n                        endAdornment={\n                            searchLoading\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                edge=\"end\"\n                                >\n                                    <CircularProgress size={20} />\n                                </IconButton>\n                            </InputAdornment>\n                            :\n                            result && result.length > 0\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                  aria-label=\"toggle password visibility\"\n                                  onClick={clear}\n                                  edge=\"end\"\n                                >\n                                    <Clear />\n                                </IconButton>\n                            </InputAdornment>\n                            :<InputAdornment position=\"end\">\n                            <IconButton\n                              aria-label=\"toggle password visibility\"\n                              onClick={search}\n                              edge=\"end\"\n                            >\n                                <Search />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                        label=\"Password\"\n                    />\n                </FormControl>\n                <div className=\"resultsContainer\">\n                {\n                    result && result.length > 0\n                    ?<List>\n                    {result.map((item, index) => {\n                        return (\n                            <div key={index} onClick={() => {inJectPoint(item)}}>\n                                <ListItem >\n                                    <ListItemText primary={item.name} />\n                                </ListItem>\n                            </div>  \n                        )\n                    })\n                    }\n                    </List>\n                    :null\n                }\n                </div>\n            </div>\n            <div className=\"listContainer\" style={{ left: document.body.clientWidth < getClientHeight() ? '20px' : '220px' }}>\n                {data && data.length > 0\n                  ?<List>\n                  {\n                    data.map((item, index) => {    \n                      return (\n                        <div \n                          key={item.nameOfScence} \n                          onClick={() => {choosePoint(index)}}\n                        >\n                          <ListItem >\n                            <ListItemText primary={item.nameOfScence} />\n                          </ListItem>\n                          <Divider />\n                        </div>  \n                      )\n                  })  \n                  }\n                  </List>\n                  :null\n                }\n            </div>\n            <Dialog open={open} onClose={closeModal}>\n                <DialogTitle></DialogTitle>\n                <div className=\"textContainer\">\n                    <TextField\n                      label=\"nameOfScence\" \n                      value={dayData.nameOfScence}\n                      onChange={(e) => {changeContent(e.target.value, \"nameOfScence\")}}\n                    />\n                    <div>\n                      <TextField \n                        label=\"longitude\" \n                        value={dayData.longitude}\n                        onChange={(e) => {changeContent(e.target.value, \"longitude\")}}\n                      />\n                      <TextField \n                        label=\"latitude\" \n                        value={dayData.latitude}\n                        onChange={(e) => {changeContent(e.target.value, \"latitude\")}}\n                      /> \n                    </div>\n                    <TextField \n                      label=\"des\" \n                      multiline \n                      value={dayData.des }\n                      onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                      InputProps={{\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Button \n                              variant=\"text\" \n                              onClick={() => handleFocus(\"des\")}\n                              size=\"small\"\n                            >\n                              {!loadingInfo ? '' : ''}\n                            </Button>\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                    <TextField \n                      multiline \n                      label=\"picURL\" \n                      value={dayData.picURL}\n                      onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                      InputProps={{\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Button \n                              variant=\"text\" \n                              onClick={() => handleFocus(\"picURL\")}\n                              size=\"small\"\n                            >\n                              {!loadingPic ? '' : ''}\n                            </Button>\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                    <TextField \n                      label=\"pointOrNot\" \n                      value={dayData.pointOrNot}\n                      onChange={(e) => {changeContent(e.target.value, \"pointOrNot\")}}\n                    />\n                    <TextField \n                      label=\"category\" \n                      value={dayData.category}\n                      onChange={(e) => {changeContent(e.target.value, \"category\")}}\n                    />\n                    <TextField \n                      label=\"contructor\" \n                      value={dayData.contructor}\n                      onChange={(e) => {changeContent(e.target.value, \"contructor\")}}\n                    />\n                    <div className='btnContainer'>\n                      <Button \n                          color=\"primary\" \n                          variant=\"contained\"\n                          onClick={addItemFromMap}\n                      >\n                          \n                      </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog open={rePlanOpen} onClose={closeReplanModal}>\n                <DialogTitle></DialogTitle>\n                <div className='replanContainer2'>\n                {\n                    totalData.map((item, index) => (\n                        <div key={index} className='replanContainer1'>\n                            <div className='titlereplan'>{`${index + 1}`}</div>   \n                            <Container \n                                orientation=\"horizontal\"\n                                className='replanContainer' \n                                style={style}\n                                groupName=\"1\"\n                                getChildPayload={(i) => replanStart(i, index)}\n                                onDrop={replan}\n                            >\n                                {\n                                    item.map((item2, index2) => (\n                                        <Draggable \n                                            key={item2.nameOfScence} \n                                            style={{height: '30px'}}\n                                        >\n                                        <div \n                                            className='itemContainer'\n                                        >\n                                            {item2.nameOfScence}\n                                        </div>\n                                        </Draggable>\n                                    ))\n                                }\n                            </Container>\n                        </div>\n                    ))\n                }\n                </div>\n            </Dialog> \n        </div>\n    );\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (googleKey)\n})(GoogleMapComponent)\n\nclass InfoWindowEx extends Component {\n  constructor(props) {\n    super(props);\n    this.infoWindowRef = React.createRef();\n    this.contentElement = document.createElement(`div`);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.children !== prevProps.children) {\n      ReactDOM.render(\n        React.Children.only(this.props.children),\n        this.contentElement\n      );\n      this.infoWindowRef.current.infowindow.setContent(this.contentElement);\n    }\n  }\n\n  render() {\n    return <InfoWindow ref={this.infoWindowRef} {...this.props} />;\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport RemoveIcon from '@material-ui/icons/RemoveCircleOutline';\nimport { connect } from 'react-redux';\nimport Link from '@material-ui/core/Link';\nimport { Daytrip, checkNullInObj, checkInArray } from '../tools'\nimport MapComponent from './mapView';\nimport GoogleMapComponent from './googleMapView';\nimport{\n  saveTripSaga\n} from '../store/action'\nimport clsx from 'clsx';\n\nconst drawerWidth = 200;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    //padding: theme.spacing(3),\n  },\n  contentMode: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  drawerTitle: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  btn: {\n    marginTop: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  mapContainer: {\n    // backgroundColor: theme.palette.secondary.main,\n    // padding: 0,\n    // margin: 0,\n    // width: '100%',\n    // height: '100%',\n  },\n  coverBTN: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'end'\n  },\n  coverUrlTextContainer: {\n    width: '100%',\n  }\n}));\n\nfunction ResponsiveDrawer({window, trip, dispatch, location}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  \n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  \n  const [data, setData] = React.useState(trip || location.params);\n\n  const [open, setOpen] = React.useState(false)//\n  \n  //const tripRef = useRef();\n\n  // useEffect(()=>{\n  //   tripRef.current = trip\n  //   console.log('tripRef.current',tripRef.current)\n  // }, [])\n\n  const change = (e, str, index) => {\n    if(str === 'category'){\n      data.detail[selectedIndex][index][str] = parseInt(e.target.value)\n    }else {\n      data.detail[selectedIndex][index][str] = e.target.value\n    }\n    setData({...data})\n  }\n\n  const changeCover = (valueURL) => {\n    data.cover = valueURL\n    setData({...data})\n  }\n\n  const removeItem = (index) => {\n    data.detail[selectedIndex].splice(index, 1)\n    setData({...data})\n  }\n\n  const removeDay = (e, index) => {\n    e.stopPropagation()\n    data.detail.splice(index, 1)\n    setData({...data})\n    if(index === selectedIndex){\n      setSelectedIndex(0)\n    }\n  }\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const submit = () => {\n    const array = data.detail\n    for (let i = 0 ; i < array.length ; i++){\n      let innerArray = array[i]\n      for (let j = 0 ; j < innerArray.length ; j++){\n        if(!checkNullInObj(innerArray[j])){\n          return alert('')\n        }\n      }\n    }\n    \n    dispatch(saveTripSaga(data))\n    // if(R.equals(data, tripRef.current)){\n    //   alert('')\n    // } else {\n    //   alert('')\n    // }\n  }\n\n  const changePlan = (arr) => {\n    let newData = JSON.parse(JSON.stringify(data))\n    newData.detail = arr\n    console.log('', newData)\n    setData(newData)\n  }\n\n  const AddOneItem = (o) => {\n    console.log(o)\n    let obj = null\n    if(o !== 'edit'){\n      o.longitude = o.longitude.toString()\n      o.latitude = o.latitude.toString()\n      obj = {...o}\n    } else {\n      obj = new Daytrip()\n    }\n    console.log('',obj)\n    if(data.detail.length > 0){\n      data.detail[selectedIndex].push(obj)\n      setData({...data})\n    }\n  }\n\n  const rePlaceOneItem = (index, obj) => {\n    data.detail[selectedIndex][index] = obj\n    setData({...data})\n  }\n\n  const FirstEditMode = () => {\n    setOpen(!open)\n  }\n\n  const addOneDay = () => {\n    data.detail.push([])\n    setData({...data})\n  }\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} >\n        <p className={classes.drawerTitle}>\n          {data.tripName}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`by ${data.designer}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`${data.city}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`${data.country}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`${data.tags}`}\n        </p>\n      </div>\n      <img alt='' \n        src={data?.cover} \n        width={'100%'} \n        //height={'40px'}\n        //onClick={()=>{setCoverDisplay(false)}} \n      />\n      <div>\n        <TextField \n          className={classes.coverUrlTextContainer}\n          value={data?.cover || ''}\n          id=\"cover\" \n          label=\"\" \n          //variant=\"outlined\"\n          onChange={(e) => {changeCover(e.target.value)}}\n        />\n      </div>\n      <Divider />\n      <List>\n        <ListItem button onClick={addOneDay}>\n          \n          <ListItemIcon><AddIcon /></ListItemIcon>\n        </ListItem>\n        {\n          data.detail != null && data.detail.length > 0\n          ?data.detail.map((text, index) => (\n            <ListItem \n              button \n              key={index} \n              selected={selectedIndex === index}\n              onClick={() => {setSelectedIndex(index)}}\n            >\n              <ListItemText primary={`Day${index + 1}`}/>\n              <ListItemIcon\n                onClick={(e) => {removeDay(e, index)}}\n              >\n                <RemoveIcon />\n              </ListItemIcon>\n            </ListItem>\n          ))\n          : null\n        }\n      </List>\n      <Divider />\n    </div>\n  )\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n  //console.log(data.detail[selectedIndex])\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {\n      data\n      ?<React.Fragment>\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap className={classes.title}>\n              <Link color=\"inherit\" href=\"/editinit\">\n                \n              </Link>\n            </Typography>\n            {\n              data.detail.length > 0 && data.detail[selectedIndex] && data.detail[selectedIndex].length >= 0\n              ?<Button style={{marginRight: '5px'}}variant=\"outlined\" color=\"inherit\" onClick={FirstEditMode}>{!open ? '' : ''}</Button>\n              : null\n            }\n            {\n              open && data.detail.length > 0\n              ?<Button style={{marginRight: '5px'}}variant=\"outlined\" color=\"inherit\" onClick={() => AddOneItem('edit')}></Button>\n              : null\n            }\n            {\n              data.detail.length > 0 && checkInArray(data.detail)\n              ?<Button variant=\"outlined\" color=\"inherit\" onClick={submit}>SAVE</Button>\n              : null\n            }\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={clsx(!open && classes.content, open && classes.contentMode)}>\n        { \n          open && data.detail[selectedIndex] && data.detail[selectedIndex].length > 0\n          ?data.detail[selectedIndex].map((item, index) => {\n            return(\n            <React.Fragment key={index}>\n              <div className={classes.toolbar} />\n              <div>\n                <TextField \n                  label=\"nameOfScence\" \n                  value={item.nameOfScence}\n                  onChange={(e) => {change(e, 'nameOfScence', index)}}\n                />\n              </div>\n              <div>\n                <TextField \n                  value={item.longitude} \n                  label=\"longitude\"\n                  onChange={(e) => {change(e, 'longitude', index)}}\n                />\n                <TextField \n                  value={item.latitude} \n                  label=\"latitude\"\n                  onChange={(e) => {change(e, 'latitude', index)}}\n                />\n              </div>\n              <div>\n                <TextField\n                  value={item.des}\n                  multiline \n                  label=\"des\"\n                  onChange={(e) => {change(e, 'des', index)}}\n                />\n              </div>\n              <div>\n                <TextField \n                  multiline \n                  label=\"picURL\"\n                  value={item.picURL}\n                  onChange={(e) => {change(e, 'picURL', index)}}\n                />\n              </div>\n              <TextField \n                value={item.pointOrNot}\n                label=\"pointOrNot\" \n                onChange={(e) => {change(e, 'pointOrNot', index)}}\n              />\n              <TextField \n                value={item.category}\n                label=\"category\"\n                onChange={(e) => {change(e, 'category', index)}}\n              />\n              <div>\n                <TextField \n                  value={item.contructor}\n                  label=\"contructor\" \n                  onChange={(e) => {change(e, 'contructor', index)}}\n                />\n              </div>\n              <div className={classes.btn}>\n                <Button \n                  color=\"secondary\" \n                  variant=\"contained\"\n                  onClick={() => removeItem(index)}\n                >\n                {`${selectedIndex + 1}${index + 1}`}\n                </Button>\n              </div>\n              <Divider />\n            </React.Fragment>\n          )})\n          : data.domestic === 1 ?\n          <MapComponent \n            data={data.detail[selectedIndex]}\n            totalData={data.detail}\n            removeItem={removeItem}\n            AddOneItem={AddOneItem}\n            selectedIndex={selectedIndex}\n            changePlan={changePlan}\n            rePlaceOneItem={rePlaceOneItem}\n          />\n          :<GoogleMapComponent\n            data={data.detail[selectedIndex]}\n            totalData={data.detail}\n            removeItem={removeItem}\n            AddOneItem={AddOneItem}\n            selectedIndex={selectedIndex}\n            changePlan={changePlan}\n            rePlaceOneItem={rePlaceOneItem}\n          />\n        }     \n        </main>\n      </React.Fragment>\n      :null\n      }\n    </div>\n  );\n}\n\nResponsiveDrawer.propTypes = {\n  window: PropTypes.func,\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(ResponsiveDrawer);","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport axios from 'axios'\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n  },\n  content: {\n    padding: theme.spacing(10, 0, 0, 4),\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    minHeight: '80vh',  // \n  },\n  square: {\n    width: 100,\n    height: 100,\n    cursor: 'pointer',\n    marginRight: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    overflow: 'hidden',\n    backgroundColor: 'pink',  // \n    '&:hover': {\n      transform: 'scale(1.05)',\n      transition: 'transform 0.2s',\n    },\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    display: 'block',  // \n  },\n  emptyMessage: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '1.5rem',\n    color: '#666',\n  },\n  dialogImage: {\n    maxWidth: '100%',\n    maxHeight: '70vh',  // \n  },\n  inputContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    padding: theme.spacing(2),\n    backgroundColor: '#fff',\n  },\n  input: {\n    flex: 1,\n  },\n  divContainer: {\n    marginLeft: theme.spacing(1),\n  }\n}));\n\nexport default function Preview({ history, location}) {\n  const [pics, setPics] = useState([])\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imageUrl, setImageUrl] = useState('');\n  const [tripName, setTripName] = useState('');\n  const [nameOfScence, setNameOfScence] = useState('');\n  const [open, setOpen] = useState(false);\n  const [isCover, setIsCover] = useState(false);\n  const [loading, setLoading] = useState(false)\n  const classes = useStyles();\n\n  useEffect(()=>{\n    axios.get('/api/trip/previewImgs')\n    .then(res => {\n      setPics(res.data)\n    })\n    .catch(err => console.error('Error fetching images:', err));\n  }, [])\n\n  const handleImageError = (e) => {\n    e.target.style.display = 'none';\n  };\n\n  const handleImageClick = (item) => {\n    console.log(item)\n    setOpen(true)\n    setSelectedImage(item.url);\n    setImageUrl(item.url);\n    setTripName(item.tripName)\n    setNameOfScence(item.nameOfScence)\n    setIsCover(item.cover)\n  };\n\n  const handleClose = () => {\n    setSelectedImage(null);\n    setImageUrl('');\n    setTripName('');\n    setNameOfScence('');\n    setOpen(false)\n  };\n\n  const handleUrlChange = (e) => {\n    const newUrl = e.target.value;\n    setImageUrl(newUrl);\n    setSelectedImage(newUrl);  // \n  };\n\n  const handleSave = () => {\n    console.log({\n      \"url\": imageUrl,\n      \"nameOfScence\": nameOfScence,\n      \"tripName\": tripName,\n      \"cover\": isCover\n    })\n    axios.post('/api/trip/updatePointImg', {\n      \"url\": imageUrl,\n      \"nameOfScence\": nameOfScence,\n      \"tripName\": tripName,\n      \"cover\": isCover\n    })\n    .then(res => {\n      setPics(prevPics => \n        prevPics.map(item => \n          item.nameOfScence === nameOfScence \n            ? { ...item, url: imageUrl} \n            : item\n        )\n      )\n      handleClose()\n    })\n    .catch(err => console.error('Error fetching images:', err));\n  };\n\n  const handleGetImage = async () => {\n    setLoading(true); // \n    try {\n      await getIMG(); // \n    } catch (error) {\n      console.error(\":\", error);\n    } finally {\n      setLoading(false); // \n    }\n  };\n\n\n  const getIMG = async() => {\n    return new Promise((resolve, reject) => {\n      if(nameOfScence){\n      axios.get('/api/trip/getBingImg', {\n        params: {\n          point: nameOfScence\n        }\n      })\n      .then(res => {\n        console.log(res.data, loading)\n        if(res.data){\n          setImageUrl(res.data)\n          setSelectedImage(res.data)\n          resolve();\n        }      \n        })\n      .catch(err => {\n        console.error('Error fetching images:', err)\n        reject(err)\n      });\n      }\n    })\n  }\n\n  return (\n    <div className={classes.root}>\n      <Bar title={''} history={history}/>\n      <div className={classes.content}>\n        {\n          pics.length > 0\n          ? pics.map((item, index) => (\n            <div \n              key={index} \n              className={classes.square}\n              onClick={() => handleImageClick(item)}\n            >\n              <img \n                src={item.url}\n                alt={`preview-${index}`}\n                className={classes.image}\n                onError={handleImageError}\n              />\n            </div>\n          ))\n          : <div className={classes.emptyMessage}>\n              \n            </div>\n        }\n      </div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"lg\"\n      >\n        <DialogContent>\n          <img\n            src={selectedImage}\n            alt=\"preview\"\n            className={classes.dialogImage}\n            onError={handleImageError}\n            key={selectedImage}\n          />\n          <div className={classes.inputContainer}>\n            <TextField\n              className={classes.input}\n              value={imageUrl}\n              onChange={handleUrlChange}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n            <Button\n              className={classes.divContainer}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleSave}\n            >\n              \n            </Button>\n            <Button\n              className={classes.divContainer}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleGetImage}\n            >\n              {\n               loading ? '...' : ''\n              }\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport Bar from '../components/appbar';\nimport { connect } from 'react-redux';\n\nconst List = ({dispatch, history}) => {\n  const [trips, setTrips] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [pre, setPre] = useState(0);\n\n  const handleScroll = useCallback(() => {\n    const { scrollTop, clientHeight, scrollHeight } = document.documentElement;\n    // 50px\n    if (scrollTop + clientHeight >= scrollHeight - 50) {\n        if(trips.length - pre === 20 && loading === false) {\n            console.log('Loading more trips...');\n            setLoading(true);\n            fetchTrips(page + 1);\n            setPage(page + 1);\n        }\n    }\n  }, [pre, trips.length, loading, page]);\n\n  useEffect(() => {\n    setLoading(true)\n    fetchTrips(page);\n  }, [page]);\n\n  const fetchTrips = async (index) => {\n    try {\n      const response = await fetch(`/api/trip/getAllTrip?page=${index}`);\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json()\n      setTrips([...data]);\n      setLoading(false);\n      if(index > 1) {\n        setPre(trips.length);\n      }\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [handleScroll]);\n\n  const handleImageClick = (trip) => {\n    console.log(trip);\n    history.push({pathname: '/show', params: trip});\n  }\n\n  if (loading && page === 1) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        width: '100vw',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.8)'\n      }}>\n        <div style={{\n          fontSize: '24px',\n          fontWeight: 'bold'\n        }}>Loading...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        width: '100vw',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.8)'\n      }}>\n        <div style={{\n          fontSize: '24px',\n          fontWeight: 'bold',\n          color: 'red'\n        }}>Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ margin: 0, padding: 0 }}>\n      <Bar title={''} history={history}/>\n      <div style={{ margin: 0, paddingTop: '50px' }}>\n        {trips.map((trip, index) => (\n          <div \n            key={index} \n            style={{ \n              position: 'relative', \n              margin: 0, \n              padding: 0,\n              cursor: 'pointer' \n            }}\n            onClick={() => handleImageClick(trip)}\n          >\n            {trip.detail && trip.detail[0] && trip.detail[0][0].picURL && (\n              <>\n                <img \n                  src={trip.detail[0][0].picURL} \n                  alt={`Trip ${index}`}\n                  style={{ \n                    height: '150px', \n                    width: '100%', \n                    objectFit: 'cover',\n                    display: 'block',\n                    margin: 0,\n                    padding: 0\n                  }}\n                />\n                <div style={{\n                  position: 'absolute',\n                  top: '50%',\n                  left: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  textAlign: 'center',\n                  color: 'white',\n                  textShadow: '1px 1px 3px rgba(0,0,0,0.8)'\n                }}>\n                  <h2 style={{ margin: 0 }}>{trip.tripName}</h2>\n                  <p style={{ margin: '8px 0 0 0' }}>{`by:${trip.designer}`}</p>\n                </div>\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(List);","import React, { useState, useEffect, useImperativeHandle, forwardRef } from 'react'\nimport AMapLoader from '@amap/amap-jsapi-loader'\nimport '../css/mapView.css'\nimport {\n    getClientHeight,\n    Daytrip,\n    gaodeKey\n} from '../tools'\n\nconst Gaode = forwardRef(({ totalData, data, removeItem, AddOneItem, changePlan, pointIndex }, ref) => {\n    const [mapG, setMapG] = useState(null)\n    const [pointsG, setPointsG] = useState([]) \n    const [windowsG, setWindowsG] = useState([]) \n    const [amapClass, setAmapClass] = useState(null)\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData] = useState(new Daytrip())\n\n    useEffect(() => {\n        console.log('', totalData)\n        AMapLoader.load({\n            key: gaodeKey,                     \n            version:\"2.0\",             \n            plugins:['AMap.Scale','AMap.Geolocation','AMap.AutoComplete','AMap.PlaceSearch'],             \n        }).then((AMap)=>{\n            let map = new AMap.Map(\"container\",{ \n                viewMode:\"3D\",       \n                zoom:15,              \n                center:center(data, pointIndex), \n            });\n\n            map.addControl(new AMap.Scale());\n            map.addControl(new AMap.Geolocation());\n\n            let pointsArray = []\n            let infoWindowsArray = []\n            let lonLat = []\n            if(data && data.length > 0){\n                data.forEach((item, index) => {\n                    lonLat.push([parseFloat(item.longitude), parseFloat(item.latitude)])\n                    let window = windowConstructor(AMap, item.nameOfScence, item.des, item.picURL, removeItem, add, editItem, index)\n                    infoWindowsArray.push(window)\n                    let point = markerConstructor(AMap, parseFloat(item.longitude), parseFloat(item.latitude), item.nameOfScence, index)\n                    point.on('click', (obj) => openOrcloseWindow(obj, window, map))\n                    pointsArray.push(point)\n                })\n                map.add(pointsArray);\n                infoWindowsArray[pointIndex].open(map,lonLat[pointIndex]);\n\n                setPointsG(pointsArray)\n                setWindowsG(infoWindowsArray)\n            }\n            setAmapClass(AMap)\n            setMapG(map)\n        })\n        .catch(e=>{\n            console.log(e);\n        })\n    },[totalData, data, data?.length, removeItem])\n\n    const markerConstructor = (amapClass, longitude, latitude, title, extData) => {\n        let point = new amapClass.Marker({\n            position: new amapClass.LngLat(longitude, latitude),\n            title: title,\n            extData: extData\n        })\n        return point\n    }\n\n    const windowConstructor = (amapClass, title, des, picURL, fn, fn1, fn2, index) => {\n        let window = new amapClass.InfoWindow({\n            isCustom: true,\n            content: content (title, des, picURL, fn, fn1, fn2, index), \n            offset: new amapClass.Pixel(0, -30)\n        })\n        return window\n    }\n\n    const center = (data, pointIndex) => {\n        if(data && data.length > 0){\n            return [parseFloat(data[pointIndex].longitude),parseFloat(data[pointIndex].latitude)]\n        } else {\n            return [116.39, 39.9]\n        }\n    }\n\n    const openAPP = () => {\n        const point = data[pointIndex];\n        const { longitude, latitude } = point;\n        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n        const isAndroid = /Android/i.test(navigator.userAgent);\n        let navUrl = '';\n        if (isIOS) {\n            navUrl = `iosamap://path?sourceApplication=NextSticker&dlon=${longitude}&dlat=${latitude}&dev=0&t=2`\n        } else if (isAndroid) {\n            navUrl = `amapuri://route/plan/?sourceApplication=NextSticker&dlat=${latitude}&dlon=${longitude}&dev=0&t=2`;\n        } else {\n            alert('');\n            return;\n        }\n        window.location.href = navUrl;\n    }\n\n    const content  = (title1, des1, picUrl, fn, fn1, fn2, index) => {\n        var windowContainer = document.createElement(\"div\");\n        windowContainer.className = 'windowContainer'\n        \n        var title = document.createElement(\"div\");\n        title.className = 'title'\n        title.innerHTML = title1\n        windowContainer.appendChild(title)\n\n        var des = document.createElement(\"div\");\n        des.className = 'des'\n        des.innerHTML = des1\n\n        if(des1){\n            windowContainer.appendChild(des)\n        }\n\n        if(picUrl){\n            var imgContainer = document.createElement(\"div\");\n            imgContainer.className = 'imgContainer'\n\n            var img = document.createElement(\"img\");\n            img.className = 'img'\n            img.src = picUrl\n            img.onclick = openAPP\n            imgContainer.appendChild(img)\n            windowContainer.appendChild(imgContainer)\n        } \n\n        return windowContainer\n    }\n\n    const add = () => {\n        console.log(\"\")\n        console.log(getInfo())\n        dayData.nameOfScence = getInfo().name\n        dayData.longitude = getInfo().lng\n        dayData.latitude = getInfo().lat\n        setOpen(true)\n    }\n    //\n    const editItem = (index) => {\n        setRePlanOpen(true)\n    }\n\n    const getInfo = () => {\n        let obj = {}\n        let points = mapG.getAllOverlays('marker')\n        data.forEach((item) => {\n            for(let i = 0 ; i < points.length ; i++){\n                if(points[i].getTitle() === item.nameOfScence){\n                    points.splice(i, 1)\n                }\n            }\n        })\n        obj.name = points[0].getTitle()\n        obj.lng = points[0].getPosition().lng\n        obj.lat = points[0].getPosition().lat\n        return obj\n    }\n\n    const openOrcloseWindow = (obj, window, map) => {\n        try {\n            console.log(obj.target.getTitle())\n            //  Marker \n            const position = obj.target.getPosition();\n            \n            // \n            if (window.getIsOpen()) {\n                window.close();\n            } else {\n                //  Marker \n                window.open(map, position);\n                //  Marker\n                map.panTo(position);\n            }\n        } catch (error) {\n            console.error('Error in openOrcloseWindow:', error);\n        }\n    };\n\n    const choosePoint = (index) => {\n        if(!windowsG[index].getIsOpen()){\n            windowsG[index].open(mapG,pointsG[index].getPosition());\n        }\n        mapG.panTo(pointsG[index].getPosition())\n    }\n\n    useImperativeHandle(ref, () => ({\n        choosePoint,\n    }));\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n            </div>\n        </div>\n    );\n})\n\nexport default React.memo(Gaode)","import React, { useState, useEffect, Component, useImperativeHandle, forwardRef, useRef } from 'react'\nimport ReactDOM from \"react-dom\";\nimport '../css/mapView.css'\nimport {\n  Map, \n  InfoWindow, \n  Marker, \n  GoogleApiWrapper\n} from 'google-maps-react';\n\nimport {\n    getClientHeight,\n    Daytrip,\n    googleKey,\n    googleMapcontainerStyle,\n} from '../tools'\n\nconst Google = forwardRef(({ google, totalData, data, removeItem, AddOneItem, changePlan, pointIndex }, ref) => {\n    const [mapG, setMapG] = useState(null)\n    const [activeMarker, setActiveMarker] = useState(null)\n    const [centerPointObj, setCenterPointObj] = useState(null)\n    const [titleG, setTitleG] = useState('')\n    const [desG, setDesG] = useState('')\n    const [imgUrl, setImgUrl] = useState('')\n    const [showingInfoWindow, setShowingInfoWindow] = useState(false)\n    const [placeService, setPlaceService] = useState(null)\n    const markersRef = useRef([])\n    useEffect(() => {\n      console.log('google', totalData, data)\n      if(data && data.length > 0){\n        setCenter(data[pointIndex])\n      }\n      if(showingInfoWindow){\n        setShowingInfoWindow(false)\n      }\n    },[totalData, data, data?.length, removeItem])\n\n    const setCenter = (data) => {\n      let obj = {}\n      obj.lat = parseFloat(data.latitude)\n      obj.lng = parseFloat(data.longitude)\n      setCenterPointObj(obj)\n    }\n\n    const fetchPlaces = (mapProps, map) => {\n      console.log('', mapProps)\n      \n      const {google} = mapProps;\n      let service = new google.maps.places.PlacesService(map)\n      setPlaceService(service)\n      setMapG(map)\n      if (data && data.length > 0) {\n        setTitleG(data[0].nameOfScence);\n        setDesG(data[0].des);\n        setImgUrl(data[0].picURL);\n        setCenterPointObj({\n          lat: parseFloat(data[0].latitude),\n          lng: parseFloat(data[0].longitude),\n        });\n        \n        //  Marker  activeMarker\n        // markersRef.current[0]  Marker \n        //  setTimeout\n        setTimeout(() => {\n          if (markersRef.current[0]) {\n            setActiveMarker(markersRef.current[0].marker);\n            setShowingInfoWindow(true);\n          }\n        }, 1000); //  100ms  Marker \n      }\n    }\n\n    const onMarkerClick = (props, marker) => {\n      console.log(marker)\n      let objArray = data.filter((item) => {\n        return item.nameOfScence === props.title\n      })\n      if(objArray[0].nameOfScence !== titleG){\n        setTitleG(objArray[0].nameOfScence)\n        setDesG(objArray[0].des)\n        setImgUrl(objArray[0].picURL)\n        setCenterPointObj(props.position)\n        setActiveMarker(marker)\n        setShowingInfoWindow(true)\n      } else {\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const onMapClicked = (props) => {\n      console.log('', props)\n    }\n\n    const closeWindow = () => {\n      setTitleG('')\n      setDesG('')\n      setImgUrl('')\n      setActiveMarker(null)\n      setShowingInfoWindow(false)\n    }\n\n    const choosePoint = (index) => {\n        console.log('', index)  \n        setCenter(data[index])\n        const marker = markersRef.current[index];\n        if (marker) {\n          setTitleG(data[index].nameOfScence)\n          setDesG(data[index].des)\n          setImgUrl(data[index].picURL)\n          setActiveMarker(marker.marker);\n          setShowingInfoWindow(true);\n        }\n    }\n\n    useImperativeHandle(ref, () => ({\n        choosePoint,\n    }))\n\n    const openAPP = () => {\n      const point = data[pointIndex];\n      const { latitude, longitude } = point;\n\n      const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n      const isAndroid = /Android/i.test(navigator.userAgent);\n\n      let navUrl = '';\n\n      if (isIOS) {\n        // iOS  comgooglemaps URL Scheme\n        navUrl = `comgooglemaps://?daddr=${latitude},${longitude}&directionsmode=transit`;\n      } else if (isAndroid) {\n        // Android  intent:// scheme\n        navUrl = `intent://maps.google.com/maps?daddr=${latitude},${longitude}&directionsmode=transit#Intent;scheme=https;package=com.google.android.apps.maps;end;`;\n      } else {\n        alert('');\n        return;\n      }\n      window.location.href = navUrl;\n    }\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n              {    \n                <Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          ref={(marker) => {\n                            if (marker) markersRef.current[index] = marker;\n                          }}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt='' onClick={openAPP}/>\n                      </div>              \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n              }\n            </div> \n        </div>\n    );\n})\n\nconst GoogleWithRef = forwardRef((props, ref) => {\n    const Wrapped = GoogleApiWrapper({\n        apiKey: (googleKey)\n    })((props) => <Google {...props} ref={ref} />);\n    \n    return <Wrapped {...props} />;\n});\n\nexport default React.memo(GoogleWithRef)\n\nclass InfoWindowEx extends Component {\n  constructor(props) {\n    super(props);\n    this.infoWindowRef = React.createRef();\n    this.contentElement = document.createElement(`div`);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.children !== prevProps.children) {\n      ReactDOM.render(\n        React.Children.only(this.props.children),\n        this.contentElement\n      );\n      this.infoWindowRef.current.infowindow.setContent(this.contentElement);\n    }\n  }\n\n  render() {\n    return <InfoWindow ref={this.infoWindowRef} {...this.props} />;\n  }\n}","import React, { useRef }  from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Collapse from '@material-ui/core/Collapse';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport Link from '@material-ui/core/Link';\nimport Gaode from './gaodeShow';\nimport Google from './googleShow';\nimport clsx from 'clsx';\nimport { ExpandLess, ExpandMore } from '@material-ui/icons';\nimport{\n  setPointIndex,\n} from '../store/action'\nconst MemoizedGaode = React.memo(Gaode);\nconst MemoizedGoogle = React.memo(Google);\nconst drawerWidth = 200;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    //padding: theme.spacing(3),\n  },\n  contentMode: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  drawerTitle: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  btn: {\n    marginTop: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  mapContainer: {\n    // backgroundColor: theme.palette.secondary.main,\n    // padding: 0,\n    // margin: 0,\n    // width: '100%',\n    // height: '100%',\n  },\n  coverBTN: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'end'\n  },\n  coverUrlTextContainer: {\n    width: '100%',\n  }\n}));\n\nfunction ResponsiveDrawer({window, trip, dispatch, location, pointIndex}) {\n  \n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  \n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  \n  const [data] = React.useState(trip || location.params)\n\n  const [open] = React.useState(false)//\n\n  const gaodeRef = useRef()\n  const googleRef = useRef()\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const clickPoint = (data, item) => {\n    let obj = data?.detail.flat(Infinity).map((item1, index) => ({ item1, index })).filter(({ item1 }) => item1.nameOfScence === item.nameOfScence)\n    //dispatch(setPointIndex(obj[0].index))\n    if (gaodeRef.current && data.domestic === 1) {\n      gaodeRef.current.choosePoint(obj[0].index)\n    } else if (googleRef.current && data.domestic === 0){\n      googleRef.current.choosePoint(obj[0].index)\n    }\n    setMobileOpen(!mobileOpen);\n  }\n\n  const drawer = (\n    <div>\n      {/*  Drawer  AppBar */}\n      <AppBar position=\"static\" color=\"primary\" elevation={0}>\n        <Toolbar>\n          <Typography variant=\"h6\"></Typography>\n        </Toolbar>\n      </AppBar>\n      \n      <Divider />\n      \n      {/*  */}\n      <List>\n        {data?.detail?.map((day, dayIndex) => (\n          <React.Fragment key={dayIndex}>\n            <ListItem \n              button \n              onClick={() => setSelectedIndex(dayIndex)}\n              selected={selectedIndex === dayIndex}\n            >\n              <ListItemText primary={` ${dayIndex + 1} `} />\n              {selectedIndex === dayIndex ? (\n                <ExpandLess style={{ marginRight: 8 }} />\n              ) : (\n                <ExpandMore style={{ marginRight: 8 }} />\n              )}\n            </ListItem>\n            {/*  */}\n            <Collapse in={selectedIndex === dayIndex} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n                {day.map((item, itemIndex) => (\n                  <ListItem \n                    key={itemIndex} \n                    button \n                    sx={{ pl: 4 }}\n                    onClick={() => clickPoint(data, item)}\n                  >\n                    <ListItemText primary={item.nameOfScence} />\n                  </ListItem>\n                ))}\n              </List>\n            </Collapse>\n          </React.Fragment>\n        ))}\n      </List>\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n  //console.log(data.detail[selectedIndex])\n  const mapData = React.useMemo(() => data.detail.flat(Infinity), [data.detail]);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {\n      data\n      ?<React.Fragment>\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap className={classes.title}>\n              <Link color=\"inherit\" href=\"/editinit\">\n                \n              </Link>\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant={ \"temporary\"} \n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={clsx(!open && classes.content, open && classes.contentMode)}>\n        { \n         data.domestic === 1 \n         ?<MemoizedGaode \n            data={mapData}\n            totalData={data.detail}\n            ref={gaodeRef}\n            pointIndex={pointIndex}\n          />\n          :<MemoizedGoogle\n            data={mapData}\n            totalData={data.detail}\n            ref={googleRef}\n            pointIndex={pointIndex}\n          />\n        }     \n        </main>\n      </React.Fragment>\n      :null\n      }\n    </div>\n  );\n}\n\nResponsiveDrawer.propTypes = {\n  window: PropTypes.func,\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(ResponsiveDrawer);","import React from 'react'\nimport { Route, Redirect, withRouter, Switch} from 'react-router-dom'\n\nimport { connect } from 'react-redux';\n\nimport Index from '../pages/index'\nimport Submit from '../pages/submit'\nimport SubmitArrange from '../pages/submitArrange'\nimport Signin from '../commonComponents/signin'\nimport Logon from '../commonComponents/logon'\nimport Photos from '../commonComponents/photos'\nimport EditInit from '../commonComponents/editinit'\nimport Story from '../commonComponents/story'\nimport PhotosInput from '../commonComponents/photosInput'\nimport PhotosEdit from '../commonComponents/photosEdit'\nimport TotalStorys from '../commonComponents/totalStorys'\nimport TotalTrips from '../commonComponents/totalTrips'\nimport Client from '../commonComponents/client'\nimport Edit from '../commonComponents/edit'\nimport Preview from '../commonComponents/preview'\nimport List from '../commonComponents/list'\nimport Show from '../commonComponents/show'\n\nconst RouteController = ({user, path, component: Component, ...rest}) => {\n\t//console.log(user,path)\n\treturn(\n\t\t<Route \n\t\t\t{...rest}\n\t\t\trender = {\n\t\t\t\t(props) =>  (user ? <Component {...props} /> : <Redirect to=\"/signin\" />)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst EditController = ({trip, component: Component, ...rest}) => {\n\t//console.log({...rest})\n\treturn(\n\t\t<Route \n\t\t\t{...rest}\n\t\t\trender = {\n\t\t\t\t(props) =>  (props.location.params || trip ? <Component {...props} /> : <Redirect to=\"/editinit\" />)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst InjectedRoute = withRouter(connect(function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(RouteController))\n\nconst InjectedEditRoute = withRouter(connect(function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(EditController))\n\nexport default () => \n\t<Switch>\n\t\t<InjectedRoute path='/' component ={Index} exact key='main'/>,\n\t\t<InjectedRoute path='/submit' component ={Submit} exact key='submit'/>,\n\t\t<InjectedRoute path='/submitArrange' component ={SubmitArrange} exact key='submitArrange'/>,\n\t\t<Route path='/signin' component ={Signin} exact key='signin'/>,\n\t\t<Route path='/logon' component ={Logon} exact key='logon'/>,\n\t\t<Route path='/photos' component ={Photos} exact key='photos'/>,\n\t\t<InjectedRoute path='/photosInput' component ={PhotosInput} exact key='photosInput'/>,\n\t\t<InjectedRoute path='/photosEdit' component ={PhotosEdit} exact key='photosEdit'/>,\n\t\t<InjectedRoute path='/story' component ={Story} exact key='story'/>,\n\t\t<InjectedRoute path='/totalStorys' component ={TotalStorys} exact key='totalstorys'/>,\n\t\t<InjectedRoute path='/client' component ={Client} exact key='client'/>,\n\t\t<InjectedRoute path='/editinit' component ={EditInit} exact key='editinit'/>,\n\t\t<InjectedRoute path='/totalTrips' component ={TotalTrips} exact key='totalTrips'/>,\n\t\t<InjectedEditRoute path='/edit' component ={Edit} exact key='edit'/>,\n\t\t<InjectedRoute path='/preview' component={Preview} exact key='preview'/>,\n\t\t<InjectedRoute path='/list' component={List} exact key='list'/>,\n\t\t<InjectedEditRoute path='/show' component ={Show} exact key='show'/>,\n\t\t{/* <Route path='*' exact key='404' render = {() => (<Redirect to=\"/signin\" />)}/>, */}\n\t</Switch>\n","import {\n  SET_NEXTSTICKERUSERSINCREASED,\n  SET_ALL,\n  SET_LOADING,\n\tSET_USER,\n  SET_FENYE,\n\tSET_PAGE,\n  SET_WORKERS,\n  SET_CHART_DATA,\n  SET_TABLE_DATA,\n  SET_ARRANGEDATA,\n  SET_ARRANGEDATA_ARRAY,\n  SET_ARRANGEDATA_DELETE,\n  SET_LEFT,\n  SET_RIGHT,\n  SET_TRIP,\n  SET_ITEM,\n  SET_PAGEINDEX,\n  SET_POINT_INDEX\n} from './action'\n\nimport { \n  ATTANGEDATA,\n  expire,\n  saveData,\n  workers, \n  format, \n  whichPage\n} from '../tools';\n\nexport default {\n  chartData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_CHART_DATA:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  tableData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_TABLE_DATA:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  left(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_LEFT:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  right(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_RIGHT:\n        return payload;\n      default:\n    }\n    return state;\n  },\n\tuser(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_USER:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  trip(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_TRIP:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  item(state = '', action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ITEM:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  all(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ALL:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  loading(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_LOADING:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  whichPage(state = whichPage, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_PAGE:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  pointIndex(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_POINT_INDEX:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  fenye(state = 1, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_FENYE:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  nextstickerUsersIncreased(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_NEXTSTICKERUSERSINCREASED:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  workers(state = format(workers), action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_WORKERS:\n        let arr = [...state]\n        arr.forEach((i) => {\n          i.forEach((item, index) => {\n            if(payload && item.name === payload){\n              item.isChoosed = !item.isChoosed\n            } else if(!payload){\n              item.isChoosed = false\n            }\n          })\n        })\n        return arr;\n      default:\n    }\n    return state;\n  },\n  list(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_WORKERS:\n        if(!payload){\n          return []\n        }\n        let newList1 = [...state]\n        if(newList1.length > 0){\n          let index = newList1.findIndex(i => i === payload)\n          if(index > -1){\n            newList1.splice(index, 1)\n          } else {\n            newList1.push(payload)\n          }\n        } else {\n          newList1.push(payload)\n        }\n        return newList1;\n      default:\n    }\n    return state;\n  },\n  arrangeData(state = [], action){\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ARRANGEDATA:\n        const { date, list } = payload\n        let data = {'date': date, 'list': list}\n        let arr = [...state]\n        let index = arr.findIndex( i => i.date === date)\n        if(index > -1){\n          arr.splice(index, 1, data)\n        } else {\n          arr.push(data)\n          arr.sort(function(a, b){return a.date - b.date})\n        }\n        saveData(ATTANGEDATA, arr, expire)\n        return arr;\n      case SET_ARRANGEDATA_ARRAY:\n        let arr2 = [...payload]\n        return arr2;\n      case SET_ARRANGEDATA_DELETE:\n        let arr1 = [...state]\n        arr1.splice(payload, 1)\n        saveData(ATTANGEDATA, arr1, expire)\n        return arr1;\n      default:\n    }\n    return state;\n  },\n  pageIndex(state = 1, action){\n    const { type, payload } = action;\n    switch (type) {\n      case SET_PAGEINDEX:\n        return payload;\n      default:\n    }\n    return state;\n  }\n}","import axios from 'axios'\nimport { push } from 'connected-react-router'\nimport { all, put, takeEvery } from 'redux-saga/effects'\nimport {\n  setUser,\n  setWorker,\n  setArrangeDataArray,\n  setPage,\n  setChartData,\n  setTableData,\n  setAll,\n  setLoading,\n  setFenye,\n  setLeft,\n  setRight,\n  setTrip,\n  setItem,\n\n  SET_LIST_SAGA,\n  GET_ARRANGEDATA_SAGA,\n  GET_USER_SAGA,\n  LOGIN_SAGA,\n  REGISTER_SAGA,\n  LOGOUT_SAGA,\n  SUBMIT_SAGA,\n  COUNT_SAGA,\n  PHOTOS_SAGA,\n  NEWTRIP_SAGA,\n  NEWITEM_SAGA,\n  SAVETRIP_SAGA,\n} from './action'\n\nimport { \n  ATTANGEDATA,\n  USER,\n  TOKEN,\n  expire,\n  workers, \n  readData,\n  deleteData,\n  saveData,\n  width,\n  pic,\n  getImg,\n  Trip\n} from '../tools'\n\n\n\nfunction* check(action){\n  const { payload } = action;\n  let index = workers.findIndex(i => i.name === payload)\n  if (index > -1){\n    yield put(setWorker(payload))\n  } else {\n    return \n  }\n}\n\nfunction* getArrangeData(){\n  let cache = readData(ATTANGEDATA)\n  if (cache && Date.now() < cache.expires) {\n    yield put(setArrangeDataArray(cache.data))\n    return\n  } else if(cache){\n    deleteData(ATTANGEDATA)\n  } else {return}\n}\n\nfunction* getUserData(){\n  let cache = readData(USER)\n  if (cache && Date.now() < cache.expires) {\n    yield put(setUser(cache.data))\n    return\n  } else if(cache){\n    deleteData(USER)\n  } else {return}\n}\n\nfunction* loginSaga(action){\n  try{\n    const data = yield axios.post('/api/users/login',{...action.payload})\n      if(data.data){\n        yield put(setUser(data.data.name))\n        saveData(USER, data.data.name, expire)\n        saveData(TOKEN, data.data.token, expire)\n        yield put(push('/'))\n      } else {\n        alert('')\n      }\n  }catch(e){\n    alert(e)\n  }\n  \n}\n\nfunction* registerSaga(action){\n  try{\n    const data = yield axios.post('/api/users',{...action.payload})\n    if(data.data && typeof data.data === 'string'){\n      alert('')\n    } else if(data.data && typeof data.data === 'object'){\n      alert('')\n    } else {\n      alert('')\n    }\n  }\n  catch(e){\n    alert(e)\n  }\n}\n\nfunction* logoutSaga(){\n  yield axios.post('/api/users/logout')\n  yield put(setUser(null))\n  deleteData(USER)\n  deleteData(TOKEN)\n  yield put(setPage(0))\n}\n\nfunction* submitSaga(action){\n  const work = yield axios.post('/api/work/submit',{...action.payload},{\n    headers: {'Authorization': 'Bearer ' +readData(TOKEN).data}\n  })\n  if(work.data){\n    yield put(push('/'))\n  }\n}\n\nfunction* countSage(action){\n  yield put(setLoading(true))\n  const work = yield axios.get('/api/work/count',{params: {\n    page: action.payload\n  }})\n  //console.log(work.data.output)\n  yield put(setChartData(work.data.output))\n  yield put(setTableData(work.data.arrWork))\n  yield put(setAll(work.data.total))\n  yield put(setLoading(false))\n  let page = action.payload + 1\n  yield put(setFenye(page))\n}\n\nfunction* photosSage(action){\n  //console.log(action.payload)\n  \n  let a = []\n  let prevLeft = 0;\n  let prevRight = 0;\n  let right = []\n  let left = []\n\n  for (let i = 0 ; i < pic.length ; i++){\n    let b = yield getImg(pic[i], width)\n    a.push(b)\n    if(prevLeft >= prevRight){\n      right.push(a[i])\n      prevRight = prevRight + a[i].height\n    } else {\n      left.push(a[i])\n      prevLeft = prevLeft + a[i].height\n    }\n  }\n\n  yield put(setLeft(left))\n  yield put(setRight(right))\n}\n\nfunction* newTripSage (action) {\n  if(typeof action.payload === 'object'){\n    console.log(action.payload)\n    const {tripName, designer, uid, domestic, city, country, tags, cover} = action.payload\n    try{\n      const trip = yield axios.get('/api/trip/get',{params: {\n        uid: uid\n      }})\n      if(trip.data){\n        alert('')\n        yield put(setTrip(trip.data))\n        yield put(push('/edit'))\n      } else {\n        //let obj = new Daytrip()\n        let newTrip = new Trip(uid, tripName, designer, domestic, city, country, tags, cover ,[[]])\n        console.log(newTrip)\n        yield put(setTrip(newTrip))\n        yield put(push('/edit'))\n      }\n    }catch(err){\n      alert(err)\n    }\n  } else {\n    try{\n      const trip = yield axios.get('/api/trip/get',{params: {\n        uid: action.payload\n      }})\n      if(trip.data){\n        yield put(setTrip(trip.data))\n        yield put(push('/edit'))\n      } else {\n        alert('')\n      }\n    }catch(err){\n      alert(err)\n    }\n  }\n}\n\nfunction* saveTripSage (action) {\n  try{\n    const trip = yield axios.post('/api/trip/new',{...action.payload})\n    if(trip.data){\n      alert('')\n      yield put(push('/editinit'))\n    }\n  }catch(err){\n    alert(err)\n  }\n}\n\nfunction* newItemSage (action){\n  try{\n    const item = yield axios.post('/api/trip/newItem',{...action.payload})\n    if(item.data){\n      alert('')\n      yield put(setItem(''))\n    } else{\n      alert('')\n    }\n  }catch(err){\n    alert(err)\n  }\n}\n\nexport default function* mySaga (){\n\tyield all(\n    [\n      takeEvery(SET_LIST_SAGA, check),\n      takeEvery(GET_ARRANGEDATA_SAGA, getArrangeData),\n      takeEvery(GET_USER_SAGA, getUserData),\n      takeEvery(LOGIN_SAGA, loginSaga),\n      takeEvery(REGISTER_SAGA, registerSaga),\n      takeEvery(LOGOUT_SAGA, logoutSaga),\n      takeEvery(SUBMIT_SAGA, submitSaga),\n      takeEvery(COUNT_SAGA, countSage),\n      takeEvery(PHOTOS_SAGA, photosSage),\n      takeEvery(NEWTRIP_SAGA, newTripSage),\n      takeEvery(NEWITEM_SAGA, newItemSage),\n      takeEvery(SAVETRIP_SAGA, saveTripSage),\n    ]\n  )\n}","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\n\nimport reducer from './reducer'\nimport {workers, format, whichPage} from '../tools'\nimport mySaga from './sagas'\n\nexport const history = createBrowserHistory()\n\nconst routeMiddleware = routerMiddleware(history)\nconst sagaMiddleware = createSagaMiddleware()\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    combineReducers({\n    \t...reducer,\n    \trouter: connectRouter(history),\n    }),\n    { \n      fenye: 1,\n      all: 0,\n      loading: false,\n      user: null,\n      chartData: null,\n      tableData: null,\n      whichPage: whichPage,\n      workers: format(workers),\n      list: [],\n      arrangeData: [],\n      left: [],\n      right: [],\n      trip: null,\n      item: '',\n      pageIndex: 1,\n      nextstickerUsersIncreased: 0,\n      pointIndex: 0\n    },\n    composeEnhancers(applyMiddleware(routeMiddleware, sagaMiddleware))\n);\n\nsagaMiddleware.run(mySaga)\n\nexport default store","import React from 'react';\nimport Routes from './routers';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { Provider } from 'react-redux';\nimport store, { history } from './store/store'\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t<Routes />\n\t\t\t</ConnectedRouter>\n\t\t</Provider>\n\t)\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nif ('production' === process.env.NODE_ENV) {\n  serviceWorker.register();\n} else {\n  serviceWorker.unregister();\n}\n"],"sourceRoot":""}