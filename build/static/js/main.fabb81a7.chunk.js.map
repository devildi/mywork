{"version":3,"sources":["components/bottomNavigation.js","components/appbar.js","components/fab.js","components/table.js","components/tab.js","tools.js","commonComponents/chart.js","pages/chart.js","commonComponents/DateSelector.jsx","pages/arrange.js","pages/profile.js","store/action.js","pages/index.js","components/date.js","pages/submit.js","pages/submitArrange.js","commonComponents/signin.js","commonComponents/logon.js","commonComponents/photos.js","commonComponents/editinit.js","commonComponents/story.js","commonComponents/photosInput.js","commonComponents/photosEdit.js","commonComponents/totalStorys.js","commonComponents/totalTrips.js","commonComponents/client.js","commonComponents/mapView.js","commonComponents/googleMapView.js","commonComponents/edit.js","commonComponents/preview.js","commonComponents/list.js","commonComponents/gaodeShow.js","commonComponents/googleShow.js","commonComponents/show.js","commonComponents/test.js","routers/index.js","store/reducer.js","store/sagas.js","store/store.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","root","width","position","right","bottom","borderTop","Navigation","props","classes","whichPage","onSelect","nextstickerUsersIncreased","BottomNavigation","value","onChange","event","newValue","className","BottomNavigationAction","icon","Badge","badgeContent","color","theme","textAlign","Bar","title","history","AppBar","Toolbar","IconButton","edge","onClick","goBack","margin","spacing","FloatingActionButtons","add","push","clear","arrange","useHistory","Fab","aria-label","table","minWidth","SimpleTable","rows","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","length","Fragment","map","row","index","key","scope","Date","date","getMonth","getDate","shootnums","program","des","TabPanel","children","other","Typography","role","hidden","id","aria-labelledby","Box","p","backgroundColor","palette","background","paper","div","height","FullWidthTabs","useTheme","React","useState","setValue","Tabs","indicatorColor","textColor","variant","scrollButtons","item","Tab","label","whose","name","a11yProps","axis","direction","onChangeIndex","dir","googleMapcontainerStyle","picUrl","googleKey","gaodeKey","vedioUrl","avatarUrl","saveData","str","data","expire","window","localStorage","setItem","JSON","stringify","expires","now","readData","parse","getItem","deleteData","removeItem","h0","timestamp","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","roles","format","workers","filter","i","isChoosed","days","fomatURL","url","includes","split","falmatData","array","colorArray","Math","floor","random","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","getScrollHeight","max","scrollHeight","getOrigiHeight","Promise","resolve","reject","img","Image","src","set","setInterval","clearInterval","getImg","screenWidth","a","outHeight","clientWidth","checkNullInObj","obj","pic","Trip","uid","tripName","designer","domestic","city","country","tags","cover","detail","this","Daytrip","nameOfScence","longitude","latitude","picURL","pointOrNot","contructor","category","done","style","display","flexDirection","flexWrap","padding","borderRadius","tagsArray","filterUser","arr","Object","keys","flex","justifyContent","alignItems","Chart","strokeDasharray","dataKey","type","stroke","Day","day","getDay","dateString","classnames","Week","idx","Month","startingTimeInMonth","block","startDay","currentDay","setDate","Array","fill","concat","weeks","week","slice","colSpan","getFullYear","DateSelector","which","h1","monthSequence","month","paddingBottom","div1","marginBottom","border","chip","top","div2","div3","overflow","Data","toArrange","clearDay","showMessage","setShowMessage","useEffect","Grow","in","timeout","e","stopPropagation","clearThisDay","list","index1","Chip","Arrange","arrangeData","paddingTop","avatar","btn","marginTop","fontSize","container","Profile","user","logout","flag","pushTo","pathname","Avatar","Grid","xs","elevation","Button","startIcon","setTrip","payload","setLoading","loading","setPageIndex","setFenye","page","setUser","setPage","setWorker","whichIsChoosed","setRight","countSaga","newTripSaga","connect","state","dispatch","A","fenye","chartData","tableData","all","tableDataRef","useRef","allRef","fenyeRef","setWidth","current","addEventListener","resize","removeEventListener","scroll","getlength","findIndex","styles","createStyles","withStyles","selectedDate","setSelectedDate","utils","DateFnsUtils","DatePicker","$d","autoOk","inputVariant","form","submit","setShootnums","setProgram","setDes","noValidate","autoComplete","TextField","v","alert","trim","location","dateRef","setListSaga","innerHTML","clickable","disabled","ref","vedioBackground","minHeight","zIndex","backgroundRepeat","backgroundSize","backgroundImage","left","topBlock","avatarContainer","secondary","main","fix","notFix","font","BootstrapInput","input","borderBottom","common","white","InputBase","Copyright","Link","href","setScrollHeight","setName","password","setPassword","Container","maxWidth","CssBaseline","placeholder","fullWidth","onSubmit","proload","autoPlay","loop","muted","getBorderRadius","auth","setAuth","console","log","overFlow","circular","alt","CircularProgress","form1","chipContainer","textField","handleMouseDownPassword","preventDefault","uid1","setUid1","setTripName","setDesigner","setUid","setDomestic","setCity","setCountry","setTags","setCover","setArray","filterTags1","num","numArr","indexOf","FormControl","clsx","InputLabel","htmlFor","Input","endAdornment","InputAdornment","onMouseDown","str1","filterTags","newA","splice","join","handleClick","parseInt","passedData","params","articleName","setArticleName","setPicURL","articleURL","setArticleURL","undefined","setHeight","getWidthAndHeight","axios","get","InputProps","updatedObj","post","then","res","status","catch","err","Alert","listContainer","divider","imgContainer","grey","shape","cursor","transition","transform","boxShadow","shadows","objectFit","dele","loadingContainer","emptyContainer","text","PhotoItem","memo","onDelete","onJump","deleting","imageErrors","onImageError","sm","md","_id","offset","has","onError","opacity","size","pageIndex","total","setTotal","dataArray","setDataArray","cache","setCache","Set","setDeleting","setImageErrors","open","message","severity","snackbar","setSnackbar","fetchPhotos","useCallback","items","newData","prev","error","scrollTo","behavior","scrollToTop","previous","next","handleJump","handleImageError","itemId","handleDelete","_","newCache","forEach","cacheItem","newSet","delete","handleCloseSnackbar","memoizedPhotos","useMemo","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","ListItem","button","_jump","ListItemText","primary","ListItemSecondaryAction","trip","users","setUsers","getdata","destination","wechat","MapComponent","totalData","AddOneItem","changePlan","rePlaceOneItem","mapG","setMapG","pointsG","setPointsG","windowsG","setWindowsG","aMapClass","setAmapClass","result","setResult","setOpen","rePlanOpen","setRePlanOpen","dayData","setDayData","replanIndex","setReplanIndex","infoOpen","setInfoOpen","imgsOpen","setImgsOpen","infoFromGoogle","setInfoFromGoogle","picsFromGoogle","setPicsFromGoogle","errinFo","setErrinFo","loadingPic","setLoadingPic","loadingInfo","setLoadingInfo","searchLoading","setSearchLoading","desRef","picsRef","AMapLoader","load","version","plugins","AMap","Map","viewMode","zoom","center","addControl","Scale","Geolocation","pointsArray","infoWindowsArray","lonLat","parseFloat","windowConstructor","editItem","imgClick","point","markerConstructor","on","openOrcloseWindow","amapClass","extData","Marker","LngLat","fn","fn1","fn2","InfoWindow","isCustom","content","Pixel","title1","des1","windowContainer","createElement","appendChild","onclick","rePlan","appand","check","getInfo","lng","lat","points","getAllOverlays","getTitle","getPosition","panTo","closeModal","changeContent","c","replan","newIndex","removedIndex","addedIndex","indexARRAY","indexArr","j","handleCloseInfo","getInfiOrImg","OutlinedInput","remove","clearInfoWindow","PlaceSearch","search","info","poiList","pois","inJectPoint","maxHeight","overflowY","getIsOpen","choosePoint","Divider","Dialog","DialogTitle","inputRef","multiline","with","orientation","groupName","getChildPayload","deleteItem","replanStart","onDrop","item2","index2","GoogleApiWrapper","apiKey","google","activeMarker","setActiveMarker","centerPointObj","setCenterPointObj","titleG","setTitleG","desG","setDesG","imgUrl","setImgUrl","showingInfoWindow","setShowingInfoWindow","placeService","setPlaceService","cacheMarker","setCacheMarker","markersRef","setCenter","geometry","fetchPlaces","mapProps","service","maps","places","PlacesService","setTimeout","marker","onMarkerClick","objArray","onMapClicked","test","handleFocus","closeWindow","containerStyle","onReady","visible","setMap","request","query","fields","findPlaceFromQuery","results","PlacesServiceStatus","OK","infowindow","ariaLabel","addListener","anchor","InfoWindowEx","infoWindowRef","createRef","contentElement","prevProps","ReactDOM","render","Children","only","setContent","Component","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","flexGrow","contentMode","drawerTitle","mapContainer","coverBTN","coverUrlTextContainer","mobileOpen","setMobileOpen","selectedIndex","setSelectedIndex","setData","change","handleDrawerToggle","o","toString","valueURL","ListItemIcon","selected","removeDay","noWrap","checkInArray","innerArray","Hidden","smUp","implementation","Drawer","ModalProps","keepMounted","xsDown","gridTemplateColumns","gap","gridAutoRows","squareContainer","square","aspectRatio","image","sceneName","whiteSpace","textOverflow","emptyMessage","paginationContainer","paginationButton","light","pageInfo","dialogImage","inputContainer","divContainer","Preview","allPics","setAllPics","currentPage","setCurrentPage","selectedImage","setSelectedImage","imageUrl","setImageUrl","setNameOfScence","isCover","setIsCover","initialLoading","setInitialLoading","totalPages","ceil","currentPics","preloadImages","imageList","count","handlePageChange","startIndex","endIndex","pagePics","finally","handleClose","handleGetImage","getIMG","handleImageClick","from","abs","DialogContent","newUrl","prevPics","trips","setTrips","setError","pre","setPre","handleScroll","fetchTrips","fetch","response","ok","Error","json","fontWeight","textShadow","Gaode","forwardRef","pointIndex","openAPP","isIOS","navigator","userAgent","isAndroid","navUrl","close","useImperativeHandle","Google","GoogleWithRef","Wrapped","MemoizedGaode","MemoizedGoogle","gaodeRef","googleRef","dayIndex","ExpandLess","ExpandMore","Collapse","unmountOnExit","disablePadding","itemIndex","sx","pl","flat","Infinity","item1","clickPoint","mapData","boxSizing","paddingLeft","progressList","progressItem","setStatus","progress","setProgress","setSocket","s","io","disconnect","handleCheck","pointName","InjectedRoute","withRouter","path","rest","to","InjectedEditRoute","Index","exact","Submit","SubmitArrange","Signin","Logon","Photos","PhotosInput","PhotosEdit","Story","TotalStorys","Client","EditInit","TotalTrips","Edit","List","Test","Show","action","newList1","sort","b","arr2","arr1","getArrangeData","getUserData","loginSaga","registerSaga","logoutSaga","submitSaga","countSage","photosSage","newTripSage","saveTripSage","newItemSage","mySaga","put","token","headers","work","output","arrWork","prevLeft","prevRight","newTrip","takeEvery","createBrowserHistory","routeMiddleware","routerMiddleware","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","reducer","router","connectRouter","applyMiddleware","run","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","getElementById","URL","process","origin","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fabb81a7.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ProfileIcon from '@material-ui/icons/AccountCircle';\nimport Badge from '@material-ui/core/Badge'\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    borderTop:'1px solid #A9A9A9',\n  },\n});\n\nexport default function Navigation(props) {\n  const classes = useStyles();\n\n  const { \n    whichPage,\n    onSelect,\n    nextstickerUsersIncreased\n   } = props\n\n  return (\n    <BottomNavigation\n      value={whichPage}\n      onChange={(event, newValue) => {\n        onSelect(newValue)\n      }}\n      className={classes.root}\n    >\n      <BottomNavigationAction icon={\n        <Badge badgeContent={nextstickerUsersIncreased} color=\"secondary\">\n          <ProfileIcon />\n        </Badge>\n      } \n      />\n      <BottomNavigationAction icon={<FavoriteIcon />} />\n      <BottomNavigationAction icon={<RestoreIcon />} />\n    </BottomNavigation>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/ArrowBackIos';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n  },\n}));\n\nexport default function Bar ({title, history}) {\n\tconst classes = useStyles();\n\tconst back = () => {\n\t\t//history.push('/')\n\t\thistory.goBack()\n\t}\n\treturn (\n\t<AppBar>\n\t\t<Toolbar>\n\t\t\t{\n\t\t\t\thistory \n\t\t\t\t? <IconButton edge=\"start\" color=\"inherit\" onClick={back}>\n\t\t\t\t\t<MenuIcon />\n\t\t\t\t</IconButton> \n\t\t\t\t: null\n\t\t\t}\n\t\t\t<div className={classes.root}>\n\t\t\t\t<p>{title}</p>\n\t\t\t</div>\n\t\t</Toolbar>\n    </AppBar>\n\t)\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\n\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      position: 'fixed',\n      right: theme.spacing(1),\n      bottom: theme.spacing(8),\n    },\n  },\n}));\n\nexport default function FloatingActionButtons({add, push, clear, arrange}) {\n  const classes = useStyles();\n  let history = useHistory();\n\n  const click = () => {\n    history.push('./submit')\n  }\n\n  const back = () => {\n    history.goBack()\n    if(arrange) { clear() }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Fab \n        color=\"primary\" \n        aria-label=\"add\"\n        onClick={push ? click : back}\n      >\n        {\n          add \n          ? <AddIcon /> \n          : <ArrowBack />\n        }\n      </Fab>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: '650',\n  },\n});\n\nexport default function SimpleTable({rows}) {\n  const classes = useStyles();\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple dense table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>日期</TableCell>\n            <TableCell align=\"right\">镜头</TableCell>\n            <TableCell align=\"right\">节目</TableCell>\n            <TableCell align=\"right\">描述</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n        {\n          rows && rows.length > 0\n        ?<React.Fragment>\n          {rows.map((row, index) => (\n            <TableRow key={index}>\n              <TableCell component=\"th\" scope=\"row\">\n                {`${new Date(row.date).getMonth()+1}月${new Date(row.date).getDate()}日`}\n              </TableCell>\n              <TableCell align=\"right\">{row.shootnums}</TableCell>\n              <TableCell align=\"right\">{row.program}</TableCell>\n              <TableCell align=\"right\">{row.des}</TableCell>\n            </TableRow>\n          ))}\n        </React.Fragment>\n        :null\n        }\n          \n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Table from './table'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  div: {\n    height: theme.spacing(7)\n  }\n}));\n\nexport default function FullWidthTabs({rows}) {\n  //console.log('rows', rows)\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = index => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      {\n        rows && rows.length\n      ?<React.Fragment>\n        <AppBar position=\"static\" color=\"default\">\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n            scrollButtons=\"auto\"\n            aria-label=\"scrollable auto tabs example\"\n          >\n          {\n            rows.map((item, index) => (\n              <Tab key={index}label={item[0].whose.name} {...a11yProps(index)} />\n            ))\n          }\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n        {\n          rows.map((item, index) => (\n              <TabPanel key={index}value={value} index={index} dir={theme.direction}>\n                <Table rows={item}/>\n              </TabPanel>\n            )\n          )\n        }\n        </SwipeableViews>\n        <div className={classes.div}></div>\n      </React.Fragment>\n      :null\n      } \n    </div>\n  );\n}","export const authority = 'wudi'\nexport const googleMapcontainerStyle = {\n\tposition: 'relative',  \n\twidth: '100%',\n\theight: '100%'\n}\nexport const picUrl = [\n'https://cn.bing.com/th?id=OIP.WMpknoaU9SsncVEW7W6SzAHaLH&pid=Api&rs=1',\n'http://youimg1.c-ctrip.com/target/fd/tg/g4/M0A/CA/30/CggYHlbEXmaAYGfJAAnFAUl5-Pk911.jpg'\n]\nconst vedioUrlArray = [\n\t'https://cdn.moji.com/websrc/video/video621.mp4',\n\t'https://res.cloudinary.com/dnfhsjz8u/video/upload/v1584691245/DJI_20191006_114520_418_fl2drt.mp4'\n]\nexport const googleKeyWudi = 'AIzaSyAJHnZaO6czTIkkftjQNdtNcjL52pMxsIY'\nexport const googleKey = 'AIzaSyB5LS2bbGE_Iw1e7Dc3_al7glDliILip_c'\nexport const gaodeKey = 'fbe59813637de60223e3d22805a2486c'\n\nexport const vedioUrl = vedioUrlArray[0]\nexport const avatarUrl=\"https://res.cloudinary.com/dnfhsjz8u/image/upload/v1620372687/u_4168080911_4188088242_fm_15_gp_0_qfgrpg.jpg\"\n//localStorage\nexport const ATTANGEDATA = 'ARRANGEDATA'\nexport const USER = 'USER'\nexport const TOKEN = 'TOKEN'\nexport const expire = 3000//S\n\nexport const isVedio = true\nexport const whichPage = 0\n\nexport function saveData(str, data, expire){\n\twindow.localStorage.setItem(\n    str,\n    JSON.stringify({\n    \texpires: Date.now() + expire * 1000,\n      \tdata: data,\n    })\n  );\n}\n\nexport function readData(str){\n\tconst cache = JSON.parse(\n    window.localStorage.getItem(str) || '{}'\n  );\n  return cache\n}\n\nexport function deleteData(str){\n\twindow.localStorage.removeItem(str);\n}\n\nexport function h0(timestamp = Date.now()) {\n  const target = new Date(timestamp);\n  target.setHours(0);\n  target.setMinutes(0);\n  target.setSeconds(0);\n  target.setMilliseconds(0);\n  return target.getTime();\n}\n\nexport function h1(date , which){\n\tlet day = null\n\tlet block = null\n\tif(which === 0 && date > 6){\n\t\tday = date - 6\n\t}\n\t else if(which === 0 && date <= 6) {\n\t\tday = 1\n\t} else {\n\t\tday = date + 1 - which\n\t}\n\n\tif(day === 1 && which !== 1){\n\t\tblock = which - 1\n\t} else {\n\t\tblock = 0\n\t}\n\treturn{day, block}\n}\n\nexport function flatten(arr) {  \n  return arr.reduce((result, item) => {\n    return result.concat(Array.isArray(item) ? flatten(item) : item);\n  }, []);\n}\n\nconst roles = ['高级柜员', '柜员', '主管', '客户经理']\n\nexport function format(workers){\n\treturn [ \n\t\tworkers.filter((i) => i.role === '高级柜员'),\n\t\tworkers.filter((i) => i.role === '客户经理'),\n\t\tworkers.filter((i) => i.role === '主管'),\n\t\tworkers.filter((i) => i.role === '柜员'),\n\t]\n}\n\nexport const workers = [\n\t{\n\t\tname: '鞠小露',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠露',\n\t\trole: roles[1],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '小露',\n\t\trole: roles[2],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠小44',\n\t\trole: roles[3],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠66',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠小露突突突',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n]\nexport function fomatURL(url){\n\tif(url.includes('src=\"')){\n\t\tlet array =  url.split('src=\"')\n\t\tlet array1 = array[1].split('\"')\n\t\t//console.log(array1[0])\n\t\treturn array1[0]\n\t}else {\n\t\treturn url\n\t}\n} \n\nexport function falmatData(array){\n\tif(array && array.length > 0){\n\t\t\tfor(let i=0; i < array.length; i++){\n\t\t\tarray[i].name = (new Date(array[i].name).getMonth()+1) +'/' + (new Date(array[i].name).getDate())\n\t\t}\n\t\treturn array\n\t} else {\n\t\treturn array\n\t}\n}\n\nexport function color(){\n\tlet colorValue=\"0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f\";\n\tlet colorArray = colorValue.split(\",\");\n\tlet color=\"#\"\n\tfor(var i=0;i<6;i++){\n\t\tcolor+=colorArray[Math.floor(Math.random()*16)];\n\t}\n\tif(color === '#ffffff'){\n\t\tcolor()\n\t} else return color\n}\n\nexport function getScrollTop(){\n\tlet scrollTop=0\n\tif(document.documentElement&&document.documentElement.scrollTop)\n\t{\n\t\tscrollTop=document.documentElement.scrollTop\n\t}\n\telse if(document.body)\n\t{\n\t\tscrollTop=document.body.scrollTop\n\t}\n\treturn scrollTop\n}\n//获取视窗高度\nexport function getClientHeight(){    \n  let clientHeight=0\n  if(document.body.clientHeight&&document.documentElement.clientHeight){    \n      clientHeight=(document.body.clientHeight<document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight            \n  }else{    \n      clientHeight=(document.body.clientHeight>document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight       \n  }    \n  return clientHeight\n}\n//获取文档内容实际高度\nexport function getScrollHeight(){    \n  return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);   \n}\n\nexport const getOrigiHeight = (url) => new Promise((resolve, reject) => {\n\tlet img = new Image()\n\timg.src = url;\n\tlet check = function(){\n  \tif(img.width>0 || img.height>0) {\n\t    \tclearInterval(set);\n\t\t\tresolve(img)\n  \t\t}\n\t}\n\tlet set = setInterval(check,10)\n})\n\nexport const getImg = async (url, screenWidth) => {\n\tlet img = await getOrigiHeight(url)\n\tlet outHeight = Math.floor(img.height * screenWidth / img.width)\n\timg.height = outHeight\n\timg.width = screenWidth\n\treturn img\n}\n\nexport const width = Math.floor(document.body.clientWidth / 2)\n\nexport const checkNullInObj = (obj) => {\n\tfor (let key in obj){\n\t\tif(obj[key] === ''){\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const checkInArray = (arr) => {\n\tfor (let i = 0; i < arr.length; i++){\n\t\tif(arr[i].length === 0){\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const pic = [\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.RiVuBdPbyZfUqwaC_rMgaAHaFj?w=200&h=189&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.PjwD3caT4zGrmyx5OSmsXQHaE7?w=285&h=185&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse4-mm.cn.bing.net/th/id/OIP.D9KCoJ2Szl3p8iiUt1XQ7wHaJQ?w=166&h=198&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP.SAwRQOIAiwRcVE35WAu3lgHaEK?w=293&h=164&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP.kzjuEOfhlRGHlAU7XTcRtgHaNJ?w=115&h=184&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.rb333I9ISUGd2y2bjn-qiQAAAA?w=299&h=194&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.qEiMn_h7rMBHf9QlQw8k2QHaEo?w=260&h=162&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP._-DDuCgiElSuM37yuL-x9wHaE4?w=275&h=177&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.s_SXVVhK1MZhrGXQjWdOUAHaFm?w=212&h=160&c=7&o=5&dpr=2&pid=1.7'\n]\n\nexport class Trip {\n\tconstructor(\n\t\tuid: '',\n\t\ttripName: '',\n\t\tdesigner: '',\n\t\tdomestic: 1,\n\t\tcity: '',\n\t\tcountry: '',\n\t\ttags: '',\n\t\tcover: '',\n\t\tdetail: [],\n\t\t) {\n\t\tthis.uid = uid;\n\t\tthis.tripName = tripName\n\t\tthis.designer = designer\n\t\tthis.domestic = domestic\n\t\tthis.city = city;\n\t\tthis.country = country;\n\t\tthis.tags = tags;\n\t\tthis.cover = cover;\n\t\tthis.detail = detail\n\t}\n}\n\nexport class Daytrip{\n\tconstructor(\n\t\tnameOfScence = '', \n\t\tlongitude = '', \n\t\tlatitude = '',\n\t\tdes = '',\n\t\tpicURL = '',\n\t\tpointOrNot = true,\n\t\tcontructor = 'contructor',\n\t\tcategory = 0,\n\t\tdone = false\n\t\t) {\n\t  this.nameOfScence = nameOfScence;\n\t  this.longitude = longitude\n\t  this.latitude = latitude\n\t  this.des = des\n\t  this.picURL = picURL\n\t  this.pointOrNot = pointOrNot\n\t  this.contructor = contructor\n\t  this.category = category\n\t  this.done = done\n\t}\n}\n\nexport const style = {\n    width: '400px',\n    margin: '5px',\n    height: '120px',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: '5px',\n    backgroundColor: '#f0f0f0',\n    borderRadius: '5px',\n}\n\nexport const tagsArray = ['文化', '古都', '逛吃', '蜜月', '自驾', '周末', '大海','古建筑', '草原', '藏传佛教','风景','长假','春节','乐园','特种兵','人文']","import React from 'react';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { color } from '../tools'\n\nconst filterUser = (arr) => {\n  if(arr){\n    let arr1 = Object.keys(arr[0])\n    let arr2 = arr1.filter(i => i !== 'name')\n    return arr2\n  } else return null\n}\n\nconst useStyles = makeStyles(theme => ({\n  root:{\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n}));\n\nexport default function Chart ({data, width}) {\n  //console.log(data)\n  const classes = useStyles();\n  return (\n    <React.Fragment>\n    {\n      filterUser(data)\n      ?<LineChart\n        width={width}\n        height={200}\n        data={data}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        {\n          filterUser(data).map((i) => {\n            return (\n              <Line \n                type=\"monotone\" \n                key={i}\n                dataKey={i} \n                stroke={color()}\n              />\n            )\n          })\n        }\n      </LineChart>\n      :<div className={classes.root}>\n        暂无数据\n      </div>\n    }\n    </React.Fragment>\n  )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Fab from '../components/fab'\nimport Tab from '../components/tab'\nimport Chart from '../commonComponents/chart'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height:'100%',\n  },\n}));\n\nexport default function ({data, rows, width}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Chart data={data} width={width}/>\n      <Tab rows={rows}/>\n      <Fab add push/>\n    </div>\n  )\n}","import React from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { h0, h1} from '../tools';\n\nimport './DateSelector.css';\n\nfunction Day(props) {\n  const { day, onSelect } = props;\n\n  if (!day) {\n    return <td className=\"null\"></td>;\n  }\n\n  const classes = [];\n\n  const now = h0();\n\n  if (day < now) {\n    classes.push('disabled');\n  }\n\n  if ([6, 0].includes(new Date(day).getDay())) {\n    classes.push('weekend');\n  }\n\n  const dateString = now === day ? '今天' : new Date(day).getDate();\n\n  return (\n    <td \n      className={classnames(classes)} \n      onClick={() => onSelect(day)}\n    >\n      {dateString}\n    </td>\n  );\n}\n\nDay.propTypes = {\n  day: PropTypes.number,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Week(props) {\n  const { days, onSelect } = props;\n\n  return (\n    <tr className=\"date-table-days\">\n      {days.map((day, idx) => {\n          return <Day key={idx} day={day} onSelect={onSelect} />;\n      })}\n    </tr>\n  );\n}\n\nWeek.propTypes = {\n  days: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Month(props) {\n  const { startingTimeInMonth, onSelect, block } = props;\n  const startDay = new Date(startingTimeInMonth);\n  const currentDay = new Date(startingTimeInMonth);\n  let days = [];\n//currentDay.getMonth() === startDay.getMonth()\n  while (days.length !== (21 - block)) {\n    days.push(currentDay.getTime());\n    currentDay.setDate(currentDay.getDate() + 1);\n      //console.log(currentDay.getMonth())\n  }\n  days = new Array(startDay.getDay() ? startDay.getDay() - 1 : 6)\n      .fill(null)\n      .concat(days);\n\n  //const lastDay = new Date(days[days.length - 1]);\n\n  // days = days.concat(\n  //     new Array(lastDay.getDay() ? 7 - lastDay.getDay() : 0).fill(null)\n  // );\n\n  const weeks = [];\n\n  for (let row = 0; row < days.length / 7; ++row) {\n    const week = days.slice(row * 7, (row + 1) * 7);\n    weeks.push(week);\n  }\n\n  return (\n    <table className=\"date-table\">\n      <thead>\n        <tr>\n          <td colSpan=\"7\">\n            <h5>\n              {new Date().getFullYear()}年{new Date().getMonth() + 1}月\n            </h5>\n          </td>\n        </tr>\n      </thead>\n        <tbody>\n          <tr className=\"data-table-weeks\">\n            <th className=\"date-table-th\">周一</th>\n            <th className=\"date-table-th\">周二</th>\n            <th className=\"date-table-th\">周三</th>\n            <th className=\"date-table-th\">周四</th>\n            <th className=\"date-table-th\">周五</th>\n            <th className=\"weekend\">周六</th>\n            <th className=\"weekend\">周日</th>\n          </tr>\n          {weeks.map((week, idx) => {\n            return <Week \n              key={idx} \n              days={week} \n              onSelect={onSelect} \n            />;\n          })}\n        </tbody>\n    </table>\n  );\n}\n\nMonth.propTypes = {\n  startingTimeInMonth: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default function DateSelector(props) {\n  const { onSelect } = props;\n\n  const now = new Date();\n  const date = new Date().getDate();\n  const which = new Date().getDay();\n\n  now.setHours(0);\n  now.setMinutes(0);\n  now.setSeconds(0);\n  now.setMilliseconds(0);\n\n  const {day, block} = h1(date, which)\n\n  now.setDate(day);\n\n  const monthSequence = [now.getTime()];\n\n  // now.setMonth(now.getMonth() + 1);\n  // monthSequence.push(now.getTime());\n\n  // now.setMonth(now.getMonth() + 1);\n  // monthSequence.push(now.getTime());\n\n  return (\n    <div className={classnames('date-selector')}>\n      <div className=\"date-selector-tables\">\n        {monthSequence.map(month => {\n          return (\n            <Month\n              key={month}\n              onSelect={ onSelect }\n              startingTimeInMonth={month}\n              block={block}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nDateSelector.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n};","import React, { useState, useEffect} from 'react';\nimport Days from '../commonComponents/DateSelector'\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RemoveIcon from '@material-ui/icons/Clear';\nimport Typography from '@material-ui/core/Typography';\nimport Grow from '@material-ui/core/Grow';\nimport '../css/index.css';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    paddingBottom: theme.spacing(7)\n  },\n  div1: {\n  \tpadding: theme.spacing(0.5),\n  \tmarginBottom: theme.spacing(2),\n  \tborder:'1px solid #f0f0f0',\n    borderRadius: theme.spacing(1),\n    backgroundColor: '#f0f0f0'\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.5, 0.5 ,0),\n  },\n  title: {\n    position: 'relative',\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    right: 0\n  },\n  div2: {\n    display: 'flex',\n    justifyContent: \"center\",\n    //alignItems: 'center',\n    height:'100%'\n  },\n  div3: {\n    height: '100%',\n    overflow: 'hidden'\n  }\n}));\n\nfunction Data ({arr, toArrange, clearDay}){\n  const [showMessage, setShowMessage] = useState(false);\n\tconst classes = useStyles();\n\n  const clearThisDay = (e, index) => {\n    e.stopPropagation()\n    clearDay(index)\n  }\n\n  useEffect(()=>{\n    if(arr.length !== 0){\n      setShowMessage(true)\n    }\n  }, [arr.length])\n\n\treturn (\n\t\t<div className={classes.div}>\n  \t{\n  \t\tarr.map((i,index) => {\n  \t\t\treturn(\n          <Grow\n            in={showMessage}\n            key={index}\n            {...(showMessage ? { timeout: 500 * index } : {})}\n          >\n    \t\t\t\t<div \n              className={classes.div1} \n              key={i.date}\n              onClick={() => toArrange(index)}\n            > \n              <div className={classes.title}>\n      \t\t\t\t\t<Typography \n      \t\t\t\t\t\tvariant=\"h6\" \n      \t\t\t\t\t\tcomponent=\"h2\"\n      \t\t\t\t\t>\n                  {`${new Date(i.date).getMonth() + 1}月${new Date(i.date).getDate()}日排班情况：`}\n                </Typography>\n                <RemoveIcon \n                  className={classes.icon}\n                  onClick={(e) => clearThisDay(e,index)}\n                />\n              </div>\n  \t\t      \t<div>\n  \t\t      \t\t{\n  \t\t      \t\t\ti.list.map((row,index1) => (\n  \t\t      \t\t\t\t<Chip \n  \t\t                color=\"primary\"\n  \t\t                key={row}\n  \t\t                label={row} \n  \t\t                className={classes.chip}\n  \t\t                variant={'outlined'}\n  \t\t              />\n  \t\t      \t\t\t))\n  \t\t      \t\t}\n  \t\t      \t</div>\n  \t      \t</div>\n          </Grow>\n  \t\t\t)\n  \t\t})\n  \t}\n  \t</div>\n\t)\n}\n\nfunction Arrange({onSelect, arrangeData, toArrange, clearDay}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.div3}>\n      <Days onSelect={onSelect}/>\n      {\n      \tarrangeData && arrangeData.length > 0 \n        ? <Data \n            arr={arrangeData}\n            toArrange={toArrange}\n            clearDay={clearDay}\n          /> \n        : <div className={classes.div2}>\n            暂无数据\n          </div>\n      }\n    </div>\n  );\n}\n\nexport default Arrange;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport { authority, avatarUrl } from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    height: '100%',\n    overflow: 'hidden'\n  },\n  avatar: {\n  \twidth: theme.spacing(13),\n    height: theme.spacing(13),\n  },\n  btn: {\n  \tmarginTop: theme.spacing(4),\n  \twidth: theme.spacing(20),\n  },\n  paper: {\n    height: theme.spacing(10),\n    fontSize: 20,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  container: {\n    padding: theme.spacing(5,1,0,1)\n  },\n  div: {\n    height: theme.spacing(9)\n  }\n}));\n\nexport default function Profile ({user, logout, history, flag}) {\n\tconst classes = useStyles();\n  const logon = () => {\n    if(user === authority){\n      history.push('/logon')\n    }\n  }\n\n  const pushTo = (str) => {\n    history.push({pathname: str});\n  }\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Avatar \n        className={classes.avatar}\n        onClick={logon}\n        src={avatarUrl}\n      >\n        {user}\n      </Avatar>\n      <Grid container spacing={1} className={classes.container}>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/photosInput')}>照片录入</Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/photosEdit')}>所有照片</Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/client')}>{flag ? '有新增用户' : '全体客户'}</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/story')}>瀑布流数据编辑</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/totalStorys')}>所有瀑布流数据</Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/editinit')}>行程设计</Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/totalTrips')}>全部行程</Paper>\n        </Grid>\n        <Grid item xs={4}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/preview')}>图片预览</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/list')}>{'行程列表'}</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/test')}>{'测试'}</Paper>\n        </Grid>\n      </Grid>\n\t\t\t<Button\n        variant=\"contained\"\n        color=\"secondary\"\n        startIcon={<ExitToApp />}\n        className={classes.btn}\n        onClick={() => logout()}\n      >\n        退出登录\n      </Button>\n      <div className={classes.div}></div>\n\t\t</div>\n\t)\n}","export const SET_ALL = 'SET_ALL';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SET_FENYE = 'SET_FENYE'\nexport const SET_USER = 'SET_USER';\nexport const SET_PAGE = 'SET_PAGE';\nexport const SET_WORKERS = 'SET_WORKERS';\nexport const SET_LIST = 'SET_LIST';\nexport const SET_POINT_INDEX = 'SET_POINT_INDEX';\nexport const SET_ARRANGEDATA = 'SET_ARRANGEDATA';\nexport const SET_ARRANGEDATA_ARRAY = 'SET_ARRANGEDATA_ARRAY';\nexport const SET_ARRANGEDATA_DELETE = 'SET_ARRANGEDATA_DELETE';\nexport const SET_CHART_DATA = 'SET_CHART_DATA'\nexport const SET_TABLE_DATA = 'SET_TABLE_DATA'\nexport const SET_LEFT = 'SET_LEFT';\nexport const SET_RIGHT = 'SET_RIGHT';\nexport const SET_TRIP = 'SET_TRIP';\nexport const SET_ITEM = 'SET_ITEM';\nexport const SET_PAGEINDEX = 'SET_PAGEINDEX';\nexport const SET_NEXTSTICKERUSERSINCREASED = 'SET_NEXTSTICKERUSERSINCREASED'\nexport const SET_LIST_SAGA = 'SET_LIST_SAGA';\nexport const GET_ARRANGEDATA_SAGA = 'GET_ARRANGEDATA_SAGA';\nexport const GET_USER_SAGA = 'GET_USE_SAGA';\nexport const LOGIN_SAGA = 'LOGIN_SAGA';\nexport const REGISTER_SAGA = 'REGISTER_SAGA_SAGA';\nexport const LOGOUT_SAGA = 'LOGOUT_SAGA';\nexport const SUBMIT_SAGA = 'SUBMIT_SAGA';\nexport const COUNT_SAGA = 'COUNT_SAGA';\nexport const PHOTOS_SAGA = 'PHOTOS_SAGA';\nexport const NEWTRIP_SAGA = 'NEWTRIP_SAGA';\nexport const NEWITEM_SAGA = 'NEWITEM_SAGA';\nexport const SAVETRIP_SAGA = 'SAVETRIP_SAGA';\n\nexport function setPointIndex(index) {\n  return {\n    type: SET_POINT_INDEX,\n    payload: index,\n  };\n}\n\nexport function setTrip(data) {\n  return {\n    type: SET_TRIP,\n    payload: data,\n  };\n}\n\nexport function setItem(data) {\n  return {\n    type: SET_ITEM,\n    payload: data,\n  };\n}\n\nexport function setAll(all) {\n  return {\n    type: SET_ALL,\n    payload: all,\n  };\n}\n\nexport function setLoading(loading) {\n  return {\n    type: SET_LOADING,\n    payload: loading,\n  };\n}\n\nexport function setPageIndex(index) {\n  return {\n    type: SET_PAGEINDEX,\n    payload: index,\n  };\n}\n\nexport function setChartData(chartData) {\n  return {\n    type: SET_CHART_DATA,\n    payload: chartData,\n  };\n}\n\nexport function setTableData(tableData) {\n  return {\n    type: SET_TABLE_DATA,\n    payload: tableData,\n  };\n}\n\nexport function setFenye(page) {\n  return {\n    type: SET_FENYE,\n    payload: page,\n  };\n}\n\nexport function setNextstickerusersincreaesd(num) {\n  return {\n    type: SET_NEXTSTICKERUSERSINCREASED,\n    payload: num,\n  };\n}\n\nexport function setUser(user) {\n  return {\n    type: SET_USER,\n    payload: user,\n  };\n}\n\nexport function setPage(whichPage) {\n  return {\n    type: SET_PAGE,\n    payload: whichPage,\n  };\n}\n\nexport function setWorker(whichIsChoosed) {\n  return {\n    type: SET_WORKERS,\n    payload: whichIsChoosed,\n  };\n}\n\nexport function setList(list) {\n  return {\n    type: SET_LIST,\n    payload: list,\n  };\n}\n\nexport function setLeft(list) {\n  return {\n    type: SET_LEFT,\n    payload: list,\n  };\n}\n\nexport function setRight(list) {\n  return {\n    type: SET_RIGHT,\n    payload: list,\n  };\n}\n\nexport function setArrangeData(arrangeData){\n  return {\n    type: SET_ARRANGEDATA,\n    payload: arrangeData,\n  };\n}\n\nexport function setArrangeDataArray(arrangeDataArray){\n  return {\n    type: SET_ARRANGEDATA_ARRAY,\n    payload: arrangeDataArray,\n  };\n}\n\nexport function setArrangeDataDelete(index){\n  return {\n    type: SET_ARRANGEDATA_DELETE,\n    payload: index,\n  };\n}\n\nexport function setListSaga(list) {\n  return {\n    type: SET_LIST_SAGA,\n    payload: list,\n  };\n}\n\nexport function getArrangeDataSaga() {\n  return {\n    type: GET_ARRANGEDATA_SAGA\n  };\n}\n\nexport function getUserDataSaga() {\n  return {\n    type: GET_USER_SAGA\n  };\n}\n\nexport function loginSaga(payload) {\n  return {\n    type: LOGIN_SAGA,\n    payload: payload,\n  };\n}\n\nexport function registerSaga(payload) {\n  return {\n    type: REGISTER_SAGA,\n    payload: payload,\n  };\n}\n\nexport function logoutSaga() {\n  return {\n    type: LOGOUT_SAGA\n  };\n}\n\nexport function submitSaga(payload) {\n  return {\n    type: SUBMIT_SAGA,\n    payload: payload,\n  };\n}\n\nexport function countSaga(payload) {\n  return {\n    type: COUNT_SAGA,\n    payload: payload,\n  };\n}\n\nexport function photosSaga(payload) {\n  return {\n    type: PHOTOS_SAGA,\n    payload: payload,\n  };\n}\n\nexport function newTripSaga(payload) {\n  return {\n    type: NEWTRIP_SAGA,\n    payload: payload,\n  };\n}\n\nexport function newItemSaga(payload) {\n  return {\n    type: NEWITEM_SAGA,\n    payload: payload,\n  };\n}\n\nexport function saveTripSaga(payload) {\n  return {\n    type: SAVETRIP_SAGA,\n    payload: payload,\n  };\n}","import React, {useState, useEffect, useRef} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n//import io from 'socket.io-client'\n\nimport { connect } from 'react-redux'\n\nimport BottomNavigation from '../components/bottomNavigation'\nimport Bar from '../components/appbar'\n\nimport Chart from './chart'\nimport Arrange from './arrange'\nimport Profile from './profile'\nimport '../css/index.css'\nimport {\n  setPage,\n  setWorker,\n  setArrangeDataDelete,\n  getArrangeDataSaga,\n  logoutSaga,\n  countSaga,\n  //setNextstickerusersincreaesd\n} from '../store/action'\n\nimport { \n  h0, \n  falmatData,\n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(8, 0, 0, 0),\n    height: '100%'\n  },\n}));\n\nfunction getlength(arr){\n  let length = 0\n  if(arr){\n    for(let i = 0; i < arr.length; i++){\n      length = length + arr[i].length\n    }\n    return length\n  }else return length\n}\n//程序入口：\nfunction Index(props) {\n  const A = ['用户', '排班', '办公数据']\n  const {\n    user,\n    whichPage,\n    fenye,\n    history,\n    arrangeData,\n    chartData,\n    tableData,\n    all,\n    loading,\n    nextstickerUsersIncreased,\n    dispatch\n  } = props\n\n\tconst classes = useStyles()\n  \n\n  const tableDataRef = useRef();\n  const allRef = useRef();\n  const fenyeRef = useRef();\n\n  const [width, setWidth] = useState(document.body.clientWidth)\n\n  // useEffect(() => {\n  //   const socket = io(\"ws://localhost:3000\");\n  //   socket.on('init', (data) => {\n  //     console.log(data);\n  //   })\n  // }, [])\n\n  useEffect(() => {\n    tableDataRef.current = tableData\n    allRef.current = all\n    fenyeRef.current = fenye\n  });\n\n  useEffect(()=>{\n    window.addEventListener('resize', resize)\n    return () => {\n      window.removeEventListener('resize', () => {})\n    }\n  }, [])\n\n  const resize = () => {\n    setWidth(document.body.clientWidth)\n  }\n\n  useEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20&& !loading){\n      if(getlength(tableDataRef.current) < allRef.current){\n        dispatch(countSaga(fenyeRef.current))\n      } else {\n        return \n      }\n    }\n  }\n  //SSE===========================\n  // useEffect(() => {\n  //   const socket = io()\n  //   console.log('完成Socket连接！')\n  //   socket.on('addClient', msg => {\n  //     let num = nextstickerUsersIncreased\n  //     num++\n  //     dispatch(setNextstickerusersincreaesd(num))\n  //   })\n  // }, [dispatch, nextstickerUsersIncreased])\n\n  useEffect(() => {\n    dispatch(countSaga(1))\n    dispatch(getArrangeDataSaga())\n  }, [dispatch])\n\n  const onSelect = (p) => {dispatch(setPage(p))}\n\n  const onSelect1 = (day) => {\n    const now = h0();\n    if(day < now){\n      return\n    }\n\n    if(arrangeData && arrangeData.length > 0){\n\n      let index = arrangeData.findIndex(i => i.date === day)\n      if(index > -1){\n        let array = arrangeData[index].list\n        for(let index = 0; index < array.length; index++){\n          dispatch(setWorker(array[index]))\n        }\n      }\n    }\n\n    history.push({pathname: '/submitArrange',payload: { date: day }});\n  }\n\n  const toArrange = (i) => {\n    let array = arrangeData[i].list\n    for(let index = 0; index < array.length; index++){\n      dispatch(setWorker(array[index]))\n    }\n    history.push({pathname: '/submitArrange',payload: { date: arrangeData[i].date }});\n  }\n\n  const clearDay = (i) => {\n    dispatch(setArrangeDataDelete(i))\n  }\n\n  const logout = () => {\n    dispatch(logoutSaga())\n  }\n\n  return (\n\t\t<div className={classes.root}>\n    {\n      whichPage === 0\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Profile \n          user={user} \n          logout={logout}  \n          history={history}\n          flag={nextstickerUsersIncreased > 0} \n        />\n      </React.Fragment>\n    }\n    {\n      whichPage === 1\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Arrange \n          history={history} \n          onSelect={onSelect1} \n          arrangeData={arrangeData}\n          toArrange={toArrange}\n          clearDay={clearDay}\n        />\n      </React.Fragment>\n    }\n    {\n      whichPage === 2\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Chart data={falmatData(chartData)} rows={tableData} width={width}/>\n      </React.Fragment>\n    }\n    \t<BottomNavigation \n        onSelect={onSelect} \n        whichPage={whichPage}\n        nextstickerUsersIncreased={nextstickerUsersIncreased}\n      />\n    </div>\n  )\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Index);","import React from 'react';\nimport DateFnsUtils from '@date-io/dayjs';\nimport {\n  MuiPickersUtilsProvider,\n  DatePicker,\n} from '@material-ui/pickers';\n\nimport { createStyles, withStyles, makeStyles } from '@material-ui/core/styles';\nimport { h0 } from '../tools'\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n}));\n\nfunction MaterialUIPickers({getDate}) {\n  const classes = useStyles();\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n\n  const handleDateChange = date => {\n    setSelectedDate(date);\n    getDate(h0(date.$d))\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <DatePicker\n        value={selectedDate} \n        onChange={handleDateChange}\n        autoOk\n        variant=\"inline\"\n        inputVariant=\"outlined\"\n        format=\"YYYY/MM/DD\"\n        className={classes.root}\n      />\n    </MuiPickersUtilsProvider>\n  );\n}\n\nconst styles = createStyles(theme => ({\n  \n}));\n\nexport default withStyles(styles)(MaterialUIPickers);","import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\nimport { connect } from 'react-redux';\nimport Fab from '../components/fab'\nimport DateC from '../components/date'\n\nimport { h0 } from '../tools'\n\nimport{\n  submitSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  }\n}));\n\nfunction BasicTextFields({dispatch}) {\n  const classes = useStyles();\n\n  const [shootnums, setShootnums] = useState(0)\n  const [program, setProgram] = useState('')\n  const [des, setDes] = useState('')\n  const [date, setDate] = useState(h0())\n\n  const onSubmit = () => {\n    if(!shootnums || !program){\n      return alert('有未填项！')\n    }\n    const obj = {\n      shootnums: shootnums.trim(),\n      program: program.trim(),\n      des: des ? des.trim() : des,\n      date: date\n    }\n    dispatch(submitSaga(obj))\n  }\n\n  const getDate = (v) => {\n    setDate(v)\n  }\n\n  return (\n    <div className={classes.root}>\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField \n          className={classes.submit} \n          id=\"number\" \n          label=\"镜头数\" \n          variant=\"outlined\"\n          onChange={(e) => {setShootnums(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"name\" \n          label=\"节目名字\" \n          variant=\"outlined\"\n          onChange={(e) => {setProgram(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"sth\" \n          label=\"备注\" \n          variant=\"outlined\"\n          onChange={(e) => {setDes(e.target.value)}}\n        />\n        <div className={classes.submit}>\n          <DateC getDate={getDate}/>\n        </div>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          startIcon={<SubdirectoryArrowRightIcon />}\n          onClick={onSubmit}\n        >\n          提交\n        </Button>\n      </form>\n      <Fab />\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(BasicTextFields);","import React, {useRef} from 'react';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\n\nimport Fab from '../components/fab'\n\nimport {\n  setWorker,\n  setListSaga,\n  setArrangeData,\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    border:'1px solid #f0f0f0',\n    borderRadius: theme.spacing(1),\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.5, 0.5 ,0),\n  }\n}));\n\nfunction SubmitArrange(props) {\n  const classes = useStyles();\n  const { \n    workers,\n    dispatch,\n    list,\n    location,\n    history\n   } = props\n\n  const dateRef = useRef()\n  if(!location.payload){\n    history.push('/')\n    return null\n  }\n  dateRef.current = location.payload.date\n  let day = dateRef.current\n\n  const onSelect = (e) => {\n    dispatch(setListSaga(e.target.innerHTML))\n  }\n\n  const submitArrange = () => {\n    dispatch(setArrangeData({date: day, list: list}))\n    dispatch(setWorker())\n    \n    history.goBack()\n  }\n\n  const clear = () => {\n    dispatch(setWorker())\n  }\n\n  return (\n    <div className={classes.root}>\n      {\n        workers.map((row, index) => (\n          <div className={classes.div} key={index}>\n            <Typography variant=\"h6\" component=\"h2\">\n              {row[0].role}\n            </Typography>\n            <div>\n              {\n                row.map(item => (\n                  <Chip \n                    color=\"primary\"\n                    key={item.name}\n                    label={item.name} \n                    variant={item.isChoosed ? \"default\" : 'outlined'}\n                    className={classes.chip}\n                    clickable\n                    onClick={onSelect}\n                  />\n                ))\n              }\n            </div>\n          </div>\n        ))\n      }\n      <Button \n        variant=\"contained\" \n        color=\"primary\" \n        className={classes.submit}\n        startIcon={<SubdirectoryArrowRightIcon />}\n        onClick={submitArrange}\n        disabled={list.length > 0 ? false : true}\n        ref={dateRef}\n      >\n        {`完成${new Date(day).getMonth() + 1}月${new Date(day).getDate()}日的排班：`}\n      </Button>\n      <Fab arrange clear={clear}/>\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n      return state;\n  },\n  function mapDispatchToProps(dispatch) {\n      return { dispatch };\n  }\n)(SubmitArrange);","import React , {useState, useEffect} from 'react';\nimport Link from '@material-ui/core/Link';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport InputBase from '@material-ui/core/InputBase';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  withStyles,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport { connect } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport{\n  loginSaga,\n  getUserDataSaga,\n} from '../store/action'\n\nimport { \n  picUrl,\n  vedioUrl,\n  isVedio,\n  avatarUrl,\n  getClientHeight,\n  getScrollHeight\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  container:{\n    overflow: 'hidden'\n  },\n  vedioBackground: {\n    position: 'fixed',//视频定位方式设为固定\n    right: 0,\n    bottom: 0,//视频位置\n    minWidth: '100%',\n    minHeight: '100%', //不会因视频尺寸造成页面需要滚动\n    width: 'auto',\n    height: 'auto', //尺寸保持原视频大小\n    zIndex: -10,//z轴定位，小于0即可\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  background: {\n    backgroundImage: `url(${picUrl[0]})`,\n    position:'fixed',\n    top: 0,\n    left: 0,\n    width:'100%',\n    height:'100%',\n    zIndex:-10,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  topBlock: {\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  block: {\n    height: '45px',\n  },\n  avatarContainer: {\n    margin: theme.spacing(1),\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: '45px'\n  },\n  fix: {\n    position: 'absolute',\n    textAlign: 'center',\n    bottom: 0,\n    right: 0,\n    left: 0,\n    color: '#fff'\n  },\n  notFix: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  font: {\n    color: '#fff'\n  }\n}));\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderTop: props =>\n      props.top === 'true'\n        ? ''\n        : 'none',\n    borderBottom: props =>\n      props.top === 'ture'\n        ? 'none'\n        : '',\n    borderRadius: props =>\n      props.top === 'true'\n        ? '5px 5px 0 0'\n        : '0 0 5px 5px',\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #fff',\n    fontSize: 16,\n    width: '100%',\n    height: '24px',\n    padding: '10px 12px',\n  },\n\n}))(InputBase);\n\nfunction Copyright({height, scrollHeight}) {\n  const classes = useStyles();\n  return (\n    <Typography \n      variant=\"body2\" \n      color=\"textSecondary\" \n      className={height === scrollHeight ? classes.fix : classes.notFix}\n    >\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"/logon\">\n        DevilDI\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nfunction SignIn({user, dispatch}) {\n  const classes = useStyles();\n  let history = useHistory();\n  const [height] = useState(getClientHeight())\n  const [scrollHeight, setScrollHeight] = useState(getScrollHeight())\n  const [name, setName] = useState('')\n  const [password, setPassword] = useState('');\n\n  const onSubmit = () => {\n    if(name.trim() && password.trim()){\n      dispatch(loginSaga({name: name.trim(), password: password.trim()}))\n    } else {\n      return alert('有未填的项目！')\n    } \n  }\n\n  useEffect(() => {\n    //console.log(getClientHeight(), getScrollHeight())\n    setScrollHeight(getScrollHeight())\n  }, [scrollHeight])\n\n  useEffect(() => {\n    dispatch(getUserDataSaga())\n  }, [dispatch])\n\n  useEffect(()=>{\n    if(user){ \n      history.push('/') \n    } \n  }, [user, history])\n\n  // useEffect(()=> {\n  //   video = document.querySelector('video')\n  //   video.oncanplay = ()=>{\n  //     console.log('can play')\n  //   }\n  // }, [])\n  \n  return (\n    <Container component=\"main\" className={classes.container} maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <div className={classes.topBlock}>\n          <Avatar className={classes.avatarContainer} src={avatarUrl}>\n            <LockOutlinedIcon className={classes.avatar}/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h3\" className={classes.font}>\n            Sign In\n          </Typography>\n        </div>\n        <div className={classes.form} noValidate>\n          <BootstrapInput \n            id=\"用户名\"\n            placeholder=\"用户名\"\n            type=\"text\"\n            style={{width:'100%'}}\n            top=\"true\"\n            onChange={(e) => {setName(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"密码\"\n            placeholder=\"密码\"\n            type=\"password\"\n            style={{width:'100%'}}\n            onChange={(e) => {setPassword(e.target.value)}}\n          />\n          <div className={classes.block}></div>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            startIcon={<LockOpen />}\n            onClick={() => onSubmit()}\n          >\n            登录\n          </Button>\n        </div>\n      </div>\n      <Copyright height={height} scrollHeight={scrollHeight}/>\n      {\n        isVedio\n        ?<video\n          proload='auto'\n          autoPlay\n          loop\n          muted\n          className={classes.vedioBackground}\n         >\n          <source src={vedioUrl} type=\"video/mp4\"/>\n         </video>\n         :<div className={classes.background}></div>\n      }\n    </Container>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(SignIn);","import React , {useState, useEffect} from 'react';\nimport Link from '@material-ui/core/Link';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport InputBase from '@material-ui/core/InputBase';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  withStyles,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport { connect } from 'react-redux';\nimport{\n  registerSaga,\n} from '../store/action'\n\nimport { \n  picUrl,\n  vedioUrl,\n  isVedio,\n  avatarUrl,\n  getClientHeight,\n  getScrollHeight\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  container:{\n    overflow: 'hidden'\n  },\n  vedioBackground: {\n    position: 'fixed',//视频定位方式设为固定\n    right: 0,\n    bottom: 0,//视频位置\n    minWidth: '100%',\n    minHeight: '100%', //不会因视频尺寸造成页面需要滚动\n    width: 'auto',\n    height: 'auto', //尺寸保持原视频大小\n    zIndex: -10,//z轴定位，小于0即可\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  background: {\n    backgroundImage: `url(${picUrl[1]})`,\n    position:'fixed',\n    top: 0,\n    left: 0,\n    width:'100%',\n    height:'100%',\n    zIndex:-10,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  topBlock: {\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  block: {\n    height: '45px',\n  },\n  avatarContainer: {\n    margin: theme.spacing(1),\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: '45px'\n  },\n  fix: {\n    position: 'absolute',\n    textAlign: 'center',\n    bottom: 0,\n    right: 0,\n    left: 0,\n    color: '#fff'\n  },\n  notFix: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  font: {\n    color: '#fff'\n  }\n}));\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderTop: props =>\n      props.top === 'true'\n        ? ''\n        : 'none',\n    borderBottom: props =>\n      props.top === 'ture'\n        ? 'none'\n        : '',\n    borderRadius: props => getBorderRadius(props),\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #fff',\n    fontSize: 16,\n    width: '100%',\n    height: '24px',\n    padding: '10px 12px',\n  },\n\n}))(InputBase);\n\nfunction getBorderRadius(props){\n  if(props.position === 'top'){\n    return '5px 5px 0 0'\n  } else if(props.position === 'bottom'){\n    return '0 0 5px 5px'\n  } else {\n    return '0 0 0 0';\n  }\n}\n\nfunction Copyright({height, scrollHeight}) {\n  const classes = useStyles();\n  return (\n    <Typography \n      variant=\"body2\" \n      color=\"textSecondary\" \n      className={height === scrollHeight ? classes.fix : classes.notFix}\n    >\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"/signin\">\n        DevilDI\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nfunction LogOn({dispatch}) {\n  const classes = useStyles();\n  const [height] = useState(getClientHeight())\n  const [scrollHeight, setScrollHeight] = useState(getScrollHeight())\n  const [name, setName] = useState('')\n  const [password, setPassword] = useState('');\n  const [auth, setAuth] = useState('');\n\n  useEffect(() => {\n    console.log(getClientHeight(), getScrollHeight())\n    setScrollHeight(getScrollHeight())\n  }, [scrollHeight])\n\n\n  const onSubmit = () => {\n    if(name.trim() && password.trim() && auth.trim()){\n      dispatch(registerSaga({\n        name: name.trim(), \n        password: password.trim(),\n        auth: auth.trim()\n      }))\n    } else {\n      return alert('有未填的项目！')\n    } \n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <div className={classes.topBlock}>\n          <Avatar className={classes.avatarContainer} src={avatarUrl}>\n            <LockOutlinedIcon className={classes.avatar}/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h3\" className={classes.font}>\n            Log On\n          </Typography>\n        </div>\n        <div className={classes.form} noValidate>\n          <BootstrapInput \n            id=\"用户名\"\n            placeholder=\"用户名\"\n            type=\"text\"\n            style={{width:'100%'}}\n            position=\"top\"\n            onChange={(e) => {setName(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"密码\"\n            placeholder=\"密码\"\n            type=\"text\"\n            style={{width:'100%'}}\n            position=\"middle\"\n            onChange={(e) => {setPassword(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"授权码\"\n            placeholder=\"授权码\"\n            type=\"password\"\n            style={{width:'100%'}}\n            position=\"bottom\"\n            onChange={(e) => {setAuth(e.target.value)}}\n          />\n          <div className={classes.block}></div>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            startIcon={<LockOpen />}\n            onClick={() => onSubmit()}\n          >\n            注册新用户\n          </Button>\n        </div>\n      </div>\n      <Copyright height={height} scrollHeight={scrollHeight}/>\n      {\n        !isVedio\n        ?<div className={classes.background}></div>\n        :<video\n          autoPlay\n          loop\n          muted\n          className={classes.vedioBackground}\n         >\n           <source src={vedioUrl} type=\"video/mp4\"  />\n         </video>\n      }\n    </Container>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(LogOn);","import React, {useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport Grid from '@material-ui/core/Grid';\nimport LazyLoad from 'react-lazyload';\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport Bar from '../components/appbar'\n\nimport { \n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\n\nimport {\n  photosSaga,\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot:{\n\t\twidth: '100%',\n\t},\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(7),\n\t},\n\tblock: {\n\t\toverFlow: 'hidden',\n\t\tpadding: 1\n\t},\n\tcircular:{\n\t\twidth: '100%',\n\t\tposition: 'absolute',\n\t\tbottom: 0,\n\t\ttop:0,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: \"center\",\n\t\talignItems: 'center',\n\t}\n}));\n\nfunction Photos({left, right, loading, dispatch, history}) {\n\n\tconst classes = useStyles();\n\n\tuseEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20&& !loading){\n      if(1){\n        \n      } else {\n        return \n      }\n    }\n  }\n\t\n\tuseEffect(()=>{\n\t\tdispatch(photosSaga(1))\n\t}, [dispatch])\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t<Bar title={'照片'} history={history}/>\n\t\t<div className={classes.container}>\n\t\t\t<Grid container >\n\t\t\t{\n\t\t\t\tleft.length > 0 && right.length > 0\n\t\t\t?<React.Fragment>\n\t\t\t\t<Grid item xs={6} className={classes.block}>\n\t\t\t\t{\n\t\t\t\t\tleft.map((item, index) => (\n\t\t\t\t\t\t<LazyLoad key={index} height={item.height}>\n\t\t\t\t\t\t\t<img alt='' \n\t\t\t\t\t\t\t\tsrc={item.src} \n\t\t\t\t\t\t\t\twidth={'100%'} \n\t\t\t\t\t\t\t\theight={item.height}\n\t\t\t\t\t\t\t\tonClick={()=>{console.log(item)}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LazyLoad>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} className={classes.block}>\n\t\t\t\t{\n\t\t\t\t\tright.map((item, index) => (\n\t\t\t\t\t\t<LazyLoad key={index} height={item.height}>\n\t\t\t\t\t\t\t<img alt='' \n\t\t\t\t\t\t\t\tsrc={item.src} \n\t\t\t\t\t\t\t\twidth={'100%'} \n\t\t\t\t\t\t\t\theight={item.height}\n\t\t\t\t\t\t\t\tonClick={()=>{console.log(item)}} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LazyLoad>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t</React.Fragment>\n\t\t\t: <div className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</div>\n\t\t\t}\t\t\n\t\t\t</Grid>\n\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Photos);","import React, {useState} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport Bar from '../components/appbar';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport FormControl from '@material-ui/core/FormControl';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Chip from '@material-ui/core/Chip';\nimport { connect } from 'react-redux';\n//import Link from '@material-ui/core/Link';\nimport{\n  newTripSaga\n} from '../store/action'\nimport {\n  tagsArray\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(6,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form1: {\n    //margin: theme.spacing(0,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    //justifyContent: \"center\",\n    //alignItems: 'center',\n  },\n  chip: {\n    display: 'flex',\n    flexDirection: 'row',\n    margin: theme.spacing(1,0,1,0),\n  },\n  chipContainer: {\n    margin: theme.spacing(0,1,0,0),\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nconst handleMouseDownPassword = (event) => {\n  event.preventDefault();\n};\n\n\nfunction Editinit({dispatch, history}){\n\tconst classes = useStyles()\n\n  const [uid1, setUid1] = useState('')\n\n\tconst [tripName, setTripName] = useState('')\n  const [designer, setDesigner] = useState('')\n  const [uid, setUid] = useState('')\n  const [domestic, setDomestic] = useState(1)\n  const [city, setCity] = useState('')\n  const [country, setCountry] = useState('')\n  const [tags, setTags] = useState('')\n  const [cover, setCover] = useState('')\n\n  const [array, setArray] = useState([])\n\n  const updateTrip = () => {\n  \tif(!uid1){\n      return alert('有未填项！')\n    }\n    dispatch(newTripSaga(uid1))\n  }\n\n  const newTrip = () => {\n\t\tif(!tripName || !designer|| !uid || !domestic || !city || !country || !tags){\n      return alert('有未填项！')\n    }\n    const obj = {\n      tripName: tripName.trim(),\n      designer: designer.trim(),\n      uid: uid,\n      city: city,\n      country: country,\n      tags: tags,\n      domestic: parseInt(domestic),\n      cover: cover.trim()\n    }\n    dispatch(newTripSaga(obj))\n\t}\n\n  const filterTags = (str, str1) => {\n    //return str1.split('/').includes(str)\n    return str1.split('/').indexOf(str)\n  }\n\n  const filterTags1 = (num, numArr) => {\n    return numArr.indexOf(num)\n  }\n\n  const handleClick = (item, index) => {\n    if(tags === ''){\n      setTags(item)\n    } else if(filterTags(item, tags) > -1){\n      let newA = tags.split('/')\n      let index = newA.indexOf(item)\n      newA.splice(index, 1)\n      let str = newA.join('/')\n      setTags(str)\n    } else {\n      setTags(`${tags}/${item}`)\n    }\n    if(array.length === 0){\n      setArray([index])\n    } else if(filterTags1(index, array) > -1){\n      let index1 = filterTags1(index, array)\n      let newA = [...array]\n      newA.splice(index1, 1)\n      setArray(newA)\n    } else {\n      setArray([...array, index])\n    }\n  }\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={'地图数据编辑'} history={history}/>\n\t\t\t<FormControl className={clsx(classes.form, classes.textField)} variant=\"outlined\">\n        <InputLabel htmlFor=\"outlined-adornment-password\">输入行程编号</InputLabel>\n        <Input\n        \tclassName={classes.input}\n          type='text'\n          //value={values.password}\n          onChange={(e) => {setUid1(e.target.value)}}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                aria-label=\"visibility\"\n                onClick={updateTrip}\n                onMouseDown={handleMouseDownPassword}\n                edge=\"end\"\n              >\n                <ArrowForwardIcon />\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n    \t</FormControl>\n    \t或者\n    \t<form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField \n          className={classes.submit} \n          id=\"number\" \n          label=\"行程名字\" \n          variant=\"outlined\"\n          onChange={(e) => {setTripName(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"name\" \n          label=\"设计者\" \n          variant=\"outlined\"\n          onChange={(e) => {setDesigner(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"domestic\" \n          label=\"国内还是国外（1/0）\" \n          variant=\"outlined\"\n          onChange={(e) => {setDomestic(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"sth\" \n          label=\"行程编号\" \n          variant=\"outlined\"\n          onChange={(e) => {setUid(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"city\" \n          label=\"城市（英文 / 分割）\" \n          variant=\"outlined\"\n          onChange={(e) => {setCity(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"country\" \n          label=\"国家（英文 / 分割）\" \n          variant=\"outlined\"\n          onChange={(e) => {setCountry(e.target.value)}}\n        />\n        <div className={classes.form1}>\n          <TextField\n            value={tags}\n            //className={classes.submit} \n            id=\"tags\" \n            label=\"标签（英文 / 分割）\" \n            variant=\"outlined\"\n            //onChange={(e) => {setTags(e.target.value)}}\n          />\n          <div className={classes.chip}>\n          {\n            tagsArray.map((item, index) => {\n              return (\n                <div key={index} className={classes.chipContainer}>\n                  <Chip \n                    label={item}\n                    color=\"primary\"\n                    variant={array.includes(index) ?  \"default\" : \"outlined\"}\n                    onClick={() => handleClick(item, index)} \n                  />\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>\n        <TextField \n          className={classes.submit} \n          id=\"cover\" \n          label=\"封面图\" \n          variant=\"outlined\"\n          onChange={(e) => {setCover(e.target.value)}}\n        />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          onClick={newTrip}\n        >\n          新建行程\n        </Button>\n      </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Editinit);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\n\nimport axios from 'axios'\n\nimport{\n  newItemSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(7,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nfunction Story({dispatch, item, history, location}){\n  useEffect(()=>{\n    \n  })\n  \n  const passedData = location.params\n\tconst classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\tconst [articleName, setArticleName] = useState(passedData? passedData.articleName :item)\n  const [picURL, setPicURL] = useState(passedData? passedData.picURL :item)\n  const [articleURL, setArticleURL] = useState(passedData? passedData.articleURL :item)\n  const [width, setWidth] = useState(passedData && passedData.width !== undefined ? passedData.width :0)\n  const [height, setHeight] = useState(passedData && passedData.height !== undefined ? passedData.height :0)\n\n  const newTrip = () => {\n    if(!articleName || !picURL|| !articleURL){\n      return alert('有未填项！')\n    }\n    const obj = {\n      articleName: articleName.trim(),\n      picURL: picURL.trim(),\n      articleURL: articleURL,\n      width: width,\n      height: height\n    }\n    if(!passedData){\n      dispatch(newItemSaga(obj))\n  \n      setArticleName(item)\n      setPicURL(item)\n      setArticleURL(item)\n      setWidth(0)\n      setHeight(0)\n    } else {\n      //console.log(\"update\")\n      let updatedObj = {...passedData, ...obj}\n      console.log(updatedObj)\n      axios.post('/api/trip/updateItem',updatedObj)\n      .then((res) => {\n        if(res.status === 200 ){\n          alert(\"更改成功！\")\n        }else{\n          alert(\"系统出错，请重试！\")\n        }\n      })\n      .catch((err) => {\n        alert(err)\n      })\n    }\n\t}\n\n  const getWidthAndHeight = async() => {\n    setLoading(true)\n    //console.log(picURL)\n    //let img = await getOrigiHeight(picURL)\n    //console.log(img.height, img.width)\n    let data = await axios.get('/api/trip/getImgWAH',{params: {url: picURL}})\n    //console.log(data.data)\n    setWidth(data.data.width)\n    setHeight(data.data.height)\n    setLoading(false)\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={passedData ? '瀑布流页面数据修改：' : '瀑布流页面数据新增：'} history={history}/>\n    \t<form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField\n          value={articleName}\n          className={classes.submit} \n          id=\"number\" \n          label=\"文章名字\" \n          variant=\"outlined\"\n          onChange={(e) => {setArticleName(e.target.value)}}\n        />\n        <TextField\n          value={picURL}\n          className={classes.submit} \n          id=\"name\" \n          label=\"图片地址\" \n          variant=\"outlined\"\n          onChange={(e) => {setPicURL(e.target.value)}}\n        />\n        <TextField \n          value={articleURL}\n          className={classes.submit} \n          id=\"sth\" \n          label=\"页面地址\" \n          variant=\"outlined\"\n          onChange={(e) => {setArticleURL(e.target.value)}}\n        />\n        <TextField \n          value={width}\n          className={classes.submit} \n          id=\"width\" \n          label=\"图片宽度\" \n          variant=\"outlined\"\n          type=\"number\"\n          onChange={(e) => {setWidth(e.target.value)}}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  onClick={getWidthAndHeight}\n                  disabled={!picURL || loading}\n                >\n                  {loading ? 'Loading': '获取宽度'}\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <TextField \n          value={height}\n          className={classes.submit} \n          id=\"height\" \n          label=\"图片高度\"\n          type=\"number\"\n          variant=\"outlined\"\n          onChange={(e) => {setHeight(e.target.value)}}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  onClick={getWidthAndHeight}\n                  disabled={!picURL || loading}\n                >\n                  {loading ? 'Loading': '获取高度'}\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          onClick={newTrip}\n          disabled={picURL && width > 0 && height > 0 && articleName && articleURL ? false: true}\n        >\n          {passedData? '保存更改' : '提交' }\n        </Button>\n      </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Story);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\nimport { fomatURL } from '../tools'\nimport axios from 'axios'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(7,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nfunction PhotosInput({dispatch, item, history, location}){\n  useEffect(()=>{\n    \n  })\n  const passedData = location.params\n  \n  const classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\n  const [tags, setTags] = useState(passedData? passedData.tags :'')\n  const [picURL, setPicURL] = useState(passedData? passedData.picURL :'')\n  const [des, setDes] = useState(passedData? passedData.des :'')\n  const [width, setWidth] = useState(passedData && passedData.width !== undefined ? passedData.width :0)\n  const [height, setHeight] = useState(passedData && passedData.height !== undefined ? passedData.height :0)\n\n  const newTrip = () => {\n    if(!picURL){\n      return alert('请填写图片地址！')\n    }\n    if(width === 0 || height === 0){\n      return alert('请填写图片宽高！')\n    }\n    const obj = {\n      tags: tags.trim(),\n      picURL: fomatURL(picURL.trim()),\n      des: des.trim(),\n      width: width,\n      height: height\n    }\n    if(!passedData){\n      axios.post('/api/trip/photoInput',{...obj})\n      .then((res) => {\n          if(res.data){\n              alert(\"提交成功！\")\n              setTags('')\n              setPicURL('')\n              setDes('')\n              setWidth(0)\n              setHeight(0)\n          }else{\n              alert(\"图片提交出错！\")\n          }\n      })\n      .catch((err) => {\n          alert(\"图片提交出错！\")\n      })\n    }else{\n      let updatedObj = {...passedData, ...obj}\n      axios.post('/api/trip/updatePhoto',updatedObj)\n      .then((res) => {\n        if(res.status === 200 ){\n          alert(\"更改成功！\")\n          \n        }else{\n          alert(\"系统出错，请重试！\")\n        }\n      })\n      .catch((err) => {\n        alert(err)\n      })\n    }\n\t}\n\n  const getWidthAndHeight = async() => {\n    setLoading(true)\n    let data = await axios.get('/api/trip/getImgWAH',{params: {url: fomatURL(picURL)}})\n    // console.log(data.data)\n    if(data.data === 'error'){\n      alert('获取图片宽高出错，请检查图片URL！')\n    } else {\n      setWidth(data.data.width)\n      setHeight(data.data.height)\n    }\n    setLoading(false)\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={passedData ? '照片修改：' : '照片数据新增：'} history={history}/>\n            <form className={classes.form} noValidate autoComplete=\"off\">\n                <TextField\n                    value={tags}\n                    className={classes.submit} \n                    id=\"tags\" \n                    label=\"图片标签，以 | 分割\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setTags(e.target.value)}}\n                />\n                <TextField\n                    value={picURL}\n                    className={classes.submit} \n                    id=\"name\" \n                    label=\"图片地址\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setPicURL(e.target.value)}}\n                />\n                <TextField \n                    value={des}\n                    className={classes.submit} \n                    id=\"sth\" \n                    label=\"图片描述\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setDes(e.target.value)}}\n                />\n                <TextField \n                    value={width}\n                    className={classes.submit} \n                    id=\"width\" \n                    label=\"图片宽度\" \n                    variant=\"outlined\"\n                    type=\"number\"\n                    onChange={(e) => {setWidth(e.target.value)}}\n                    InputProps={{\n                        endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <Button \n                            variant=\"contained\" \n                            color=\"secondary\"\n                            onClick={getWidthAndHeight}\n                            disabled={!picURL || loading}\n                            >\n                            {loading ? 'Loading': '获取宽度'}\n                            </Button>\n                        </InputAdornment>\n                        ),\n                    }}\n                />\n                <TextField \n                    value={height}\n                    className={classes.submit} \n                    id=\"height\" \n                    label=\"图片高度\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={(e) => {setHeight(e.target.value)}}\n                    InputProps={{\n                        endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <Button \n                            variant=\"contained\" \n                            color=\"secondary\"\n                            onClick={getWidthAndHeight}\n                            disabled={!picURL || loading}\n                            >\n                            {loading ? 'Loading': '获取高度'}\n                            </Button>\n                        </InputAdornment>\n                        ),\n                    }}\n                />\n                <Button \n                    variant=\"contained\" \n                    color=\"primary\" \n                    className={classes.submit}\n                    onClick={newTrip}\n                    disabled={picURL && width > 0 && height > 0 ? false: true}\n                >\n                    {passedData? '保存更改' : '提交' }\n                </Button>\n            </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(PhotosInput);\n","import React, {useState, useEffect, memo, useCallback, useMemo} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, CircularProgress, Snackbar } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport LazyLoad from 'react-lazyload';\nimport{\n    setPageIndex\n} from '../store/action'\nimport HighlightOff from '@material-ui/icons/HighlightOff';\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst useStyles = makeStyles(theme => ({\n\tlistContainer: {\n        marginTop: theme.spacing(10),\n        marginBottom: theme.spacing(2),\n        padding: 0\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        padding: theme.spacing(2, 0),\n        position: 'sticky',\n        bottom: 0,\n        backgroundColor: 'white',\n        borderTop: `1px solid ${theme.palette.divider}`\n    },\n    imgContainer:{\n        position: 'relative',\n        width: '100%',\n        paddingBottom: '100%',\n        overflow: 'hidden',\n        backgroundColor: theme.palette.grey[100],\n        borderRadius: theme.shape.borderRadius,\n        cursor: 'pointer',\n        transition: 'all 0.2s ease-in-out',\n        '&:hover': {\n            transform: 'scale(1.02)',\n            boxShadow: theme.shadows[4],\n        }\n    },\n    img: {\n        position: 'absolute',\n        top: 4,\n        left: 4,\n        right: 4,\n        bottom: 4,\n        width: 'calc(100% - 8px)',\n        height: 'calc(100% - 8px)',\n        objectFit: 'cover',\n        borderRadius: theme.shape.borderRadius\n    },\n    dele: {\n        position: 'absolute',\n        right: 8,\n        top: 8,\n        color: 'white',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        borderRadius: '50%',\n        padding: 4,\n        transition: 'all 0.2s ease-in-out',\n        '&:hover': {\n            backgroundColor: 'rgba(255, 0, 0, 0.7)',\n            transform: 'scale(1.1)'\n        }\n    },\n    loadingContainer: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 200,\n        width: '100%'\n    },\n    emptyContainer: {\n        textAlign: 'center',\n        padding: theme.spacing(4),\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst PhotoItem = memo(({item, index, onDelete, onJump, classes, deleting, imageErrors, onImageError}) => (\n    <Grid item xs={4} sm={3} md={2} key={item._id || index}>\n        <div \n            className={classes.imgContainer} \n            onClick={() => onJump(item)}\n        >\n            <LazyLoad height={'100%'} offset={100}>\n                <img \n                    alt='' \n                    className={classes.img}\n                    src={imageErrors.has(item._id) ? '/placeholder.jpg' : item.picURL}\n                    onError={() => onImageError(item._id)}\n                    loading=\"lazy\"\n                />\n            </LazyLoad>\n            <div \n                className={classes.dele}\n                onClick={(e) => onDelete(index, item, e)}\n                style={{ opacity: deleting.has(item._id) ? 0.5 : 1 }}\n            >\n                {deleting.has(item._id) ? <CircularProgress size={24} color=\"inherit\" /> : <HighlightOff />}\n            </div>\n        </div>\n    </Grid>\n));\n\nfunction TotalStorys({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    const [cache, setCache] = useState({})\n    const [loading, setLoading] = useState(false)\n    const [deleting, setDeleting] = useState(new Set())\n    const [imageErrors, setImageErrors] = useState(new Set())\n    const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' })\n\n    const fetchPhotos = useCallback(async (page) => {\n        if (cache[page]) {\n            setDataArray(cache[page].items);\n            setTotal(cache[page].total);\n            return;\n        }\n        \n        setLoading(true);\n        try {\n            const res = await axios.get('/api/trip/getPhotos', {params: {page}});\n            const newData = { items: res.data.items, total: res.data.total };\n            setCache(prev => ({...prev, [page]: newData}));\n            setDataArray(res.data.items);\n            setTotal(res.data.total);\n        } catch (error) {\n            console.error('Fetch photos error:', error);\n            setSnackbar({ open: true, message: '加载图片失败', severity: 'error' });\n        } finally {\n            setLoading(false);\n        }\n    }, [cache]);\n\n    useEffect(() => {\n        fetchPhotos(pageIndex);\n        // 页码改变时滚动到顶部\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n        });\n    }, [pageIndex, fetchPhotos])\n    const scrollToTop = useCallback(() => {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n        });\n    }, []);\n\n    const previous = useCallback(() => {\n        if (pageIndex > 1) {\n            dispatch(setPageIndex(pageIndex - 1));\n            scrollToTop();\n        }\n    }, [dispatch, pageIndex, scrollToTop]);\n\n    const next = useCallback(() => {\n        if (pageIndex < total) {\n            dispatch(setPageIndex(pageIndex + 1));\n            scrollToTop();\n        }\n    }, [dispatch, pageIndex, total, scrollToTop]);\n\n    const handleJump = useCallback((item) => {\n        history.push({pathname: '/photosInput', params: item});\n    }, [history]);\n\n    const handleImageError = useCallback((itemId) => {\n        setImageErrors(prev => new Set(prev).add(itemId));\n    }, []);\n\n    const handleDelete = useCallback(async (index, item, e) => {\n        e.stopPropagation();\n        if (deleting.has(item._id)) return;\n        \n        setDeleting(prev => new Set(prev).add(item._id));\n        try {\n            const data = await axios.post('/api/trip/deletePhoto', {id: item._id});\n            if (data.data) {\n                setDataArray(prev => prev.filter((_, i) => i !== index));\n                // 清理相关缓存\n                setCache(prev => {\n                    const newCache = {...prev};\n                    Object.keys(newCache).forEach(key => {\n                        newCache[key].items = newCache[key].items.filter(cacheItem => cacheItem._id !== item._id);\n                    });\n                    return newCache;\n                });\n                setSnackbar({ open: true, message: '删除成功', severity: 'success' });\n            } else {\n                setSnackbar({ open: true, message: '删除失败', severity: 'error' });\n            }\n        } catch (error) {\n            console.error('Delete error:', error);\n            setSnackbar({ open: true, message: '删除失败', severity: 'error' });\n        } finally {\n            setDeleting(prev => {\n                const newSet = new Set(prev);\n                newSet.delete(item._id);\n                return newSet;\n            });\n        }\n    }, [deleting]);\n\n    const handleCloseSnackbar = useCallback(() => {\n        setSnackbar(prev => ({ ...prev, open: false }));\n    }, []);\n\n    const memoizedPhotos = useMemo(() => {\n        return dataArray.map((item, index) => (\n            <PhotoItem \n                key={item._id || index}\n                item={item}\n                index={index}\n                onDelete={handleDelete}\n                onJump={handleJump}\n                classes={classes}\n                deleting={deleting}\n                imageErrors={imageErrors}\n                onImageError={handleImageError}\n            />\n        ));\n    }, [dataArray, handleDelete, handleJump, classes, deleting, imageErrors, handleImageError]);\n\treturn (\n\t\t<div>\n\t\t\t<Bar title={'全部图片：'} history={history}/>\n            <div className={classes.listContainer}>\n                {loading && dataArray.length === 0 ? (\n                    <div className={classes.loadingContainer}>\n                        <CircularProgress />\n                    </div>\n                ) : dataArray && dataArray.length > 0 ? (\n                    <Grid container spacing={1} style={{margin: 0, width: '100%'}}>\n                        {memoizedPhotos}\n                    </Grid>\n                ) : (\n                    <div className={classes.emptyContainer}>\n                        <p>暂无图片</p>\n                    </div>\n                )}\n            </div>\n            \n            {dataArray && dataArray.length > 0 && (\n                <div className={classes.btn}>\n                    <Button \n                        variant=\"contained\" \n                        color=\"primary\" \n                        disabled={pageIndex === 1 || loading} \n                        onClick={previous}\n                    >\n                        上一页\n                    </Button>\n                    <span>第 {pageIndex} 页 / 共 {total} 页</span>\n                    <Button \n                        variant=\"contained\" \n                        color=\"primary\" \n                        disabled={pageIndex === total || loading} \n                        onClick={next}\n                    >\n                        下一页\n                    </Button>\n                </div>\n            )}\n            \n            <Snackbar \n                open={snackbar.open} \n                autoHideDuration={4000} \n                onClose={handleCloseSnackbar}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n            >\n                <Alert onClose={handleCloseSnackbar} severity={snackbar.severity}>\n                    {snackbar.message}\n                </Alert>\n            </Snackbar>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalStorys);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport{\n    setPageIndex\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        overflow: 'hidden'\n    },\n\tlistContainer: {\n        margin: theme.spacing(8,0,1,0),\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        margin: theme.spacing(0,0,1,0)\n    }\n}));\n\nfunction TotalStorys({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex}})\n        .then((res) => {\n            setDataArray(res.data.items)\n            setTotal(res.data.total) \n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/story', params: item});\n    }\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<Bar title={'全部瀑布流页面数据：'} history={history}/>\n            <div className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <ListItem button key={index} onClick={() => _jump(item)}>\n                        <ListItemText primary={item.articleName} />\n                    </ListItem>\n                ))\n                : null\n            }\n            </div>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            上一页\n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            下一页\n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalStorys);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport{\n    setPageIndex\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\tlistContainer: {\n        padding: theme.spacing(8,0,1,0),\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        margin: theme.spacing(0,0,1,0)\n    }\n}));\n\nfunction TotalTrips({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex}})\n        .then((res) => {\n\n            setDataArray(res.data.items)\n            setTotal(res.data.total) \n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/edit', params: item});\n    }\n\treturn (\n\t\t<div >\n\t\t\t<Bar title={'全部行程数据：'} history={history}/>\n            <List className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <ListItem button key={index} onClick={() => _jump(item)}>\n                        <ListItemText \n                            primary={`${item.tripName} | ${item.detail.length}天 | ${item.city}`} \n                        />\n                        <ListItemSecondaryAction>\n                            <Button \n                                edge=\"end\" \n                                aria-label=\"actions\" \n                                onClick={(e) => {\n                                    e.stopPropagation()// 防止触发ListItem的点击事件\n                                    // 这里处理按钮点击事件\n                                    axios.post('/api/trip/deleteItem', {uid: item.uid})\n                                    .then((res) => {\n                                        if(res.data){\n                                            alert('删除成功')\n                                            setDataArray(dataArray.filter((trip) => trip.uid !== item.uid))\n                                        }else{\n                                            alert('删除失败')\n                                        }\n                                    })\n                                }}>\n                                删除\n                            </Button>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))\n                : null\n            }\n            </List>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            上一页\n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            下一页\n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalTrips);\n","import React, { useEffect} from 'react';\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport { connect } from 'react-redux';\nimport { \n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\nimport {\n  setNextstickerusersincreaesd\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    margin: theme.spacing(5,1,1,1),\n  },\n  div1: {\n    width: '100%',\n    height: theme.spacing(6),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  }\n}));\n\nfunction Client({history, dispatch, nextstickerUsersIncreased}){\n  const [total, setTotal] = React.useState(0)\n  const [users, setUsers] = React.useState([])\n  const loading = React.useState(false)\n\n  useEffect(()=>{\n    dispatch(setNextstickerusersincreaesd(0))\n  },[dispatch])\n\n  useEffect(()=>{\n    getdata()\n  },[])\n\n  useEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20 && !loading){\n      if(users.length < total){\n        \n      } else {\n        return \n      }\n    }\n  }\n\n\tconst classes = useStyles();\n\n  const getdata = () => {\n    axios.get('/api/users/getClient')\n    .then((res) => {\n      if(res.status === 200){\n        setTotal(res.data.length)\n        setUsers(res.data)\n      }\n    })\n    .catch((err)=>{\n      alert(err)\n    })\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={`NextSticker的总用户为 ${total}`} history={history} />\n      <div className={classes.div}></div>\n      {\n        users.length > 0\n        ?<React.Fragment>\n        {\n          users.map((item, index) => (\n            <div className={classes.div1} key={index}>\n              <div>目的地：{item.destination}</div><div>微信号：{item.wechat}</div>\n            </div>\n          ))\n        }\n        </React.Fragment>\n        :<div className={classes.div2}>暂时无用户！</div>\n      }\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Client);\n","import React, { useState, useEffect, useRef } from 'react'\nimport axios from 'axios'\nimport AMapLoader from '@amap/amap-jsapi-loader'\nimport '../css/mapView.css'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport Search from '@material-ui/icons/Search';\nimport Clear from '@material-ui/icons/Clear';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Container, Draggable } from 'react-smooth-dnd';\nimport {\n    getClientHeight,\n    Daytrip,\n    style,\n    gaodeKey\n} from '../tools'\n\nfunction  MapComponent ({totalData, data, removeItem, AddOneItem, changePlan, rePlaceOneItem}){\n    const [mapG, setMapG] = useState(null)\n    const [pointsG, setPointsG] = useState([]) \n    const [windowsG, setWindowsG] = useState([]) \n    const [value, setValue] = useState('')//搜索框\n    const [aMapClass, setAmapClass] = useState(null)\n    const [result, setResult] = useState([])\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData, setDayData] = useState(new Daytrip())\n    const [cache, setCache] = useState(new Daytrip())\n    const [replanIndex, setReplanIndex] = useState(0)\n\n    const [infoOpen, setInfoOpen] = useState(false)\n    const [imgsOpen, setImgsOpen] = useState(false)\n    const [infoFromGoogle, setInfoFromGoogle] = useState(null)\n    const [picsFromGoogle, setPicsFromGoogle] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [errinFo, setErrinFo] = useState(null)\n\n    const [loadingPic, setLoadingPic] = useState(false)\n    const [loadingInfo, setLoadingInfo] = useState(false)\n    const [searchLoading, setSearchLoading] = useState(false)\n\n    const desRef = useRef(null);\n    const picsRef = useRef(null);\n\n    useEffect(() => {\n        setDayData(new Daytrip(data[0].nameOfScence, data[0].longitude, data[0].latitude, data[0].des, data[0].picURL));\n    }, [data]);\n\n    useEffect(() => {\n        console.log('地图开始渲染！', totalData)\n        AMapLoader.load({\n            key: gaodeKey,                     \n            version:\"2.0\",             \n            plugins:['AMap.Scale','AMap.Geolocation','AMap.AutoComplete','AMap.PlaceSearch'],             \n        }).then((AMap)=>{\n            let map = new AMap.Map(\"container\",{ \n                viewMode:\"3D\",       \n                zoom:15,              \n                center:center(data), \n            });\n\n            map.addControl(new AMap.Scale());\n            map.addControl(new AMap.Geolocation());\n\n            let pointsArray = []\n            let infoWindowsArray = []\n            let lonLat = []\n            if(data && data.length > 0){\n                data.forEach((item, index) => {\n                    lonLat.push([parseFloat(item.longitude), parseFloat(item.latitude)])\n                    let window = windowConstructor(AMap, item.nameOfScence, item.des, item.picURL, removeItem, add, editItem, index, imgClick)\n                    infoWindowsArray.push(window)\n                    let point = markerConstructor(AMap, parseFloat(item.longitude), parseFloat(item.latitude), item.nameOfScence, index)\n                    point.on('click', (obj) => openOrcloseWindow(obj, window, map))\n                    pointsArray.push(point)\n                })\n                map.add(pointsArray);\n                infoWindowsArray[0].open(map,lonLat[0]);\n\n                setPointsG(pointsArray)\n                setWindowsG(infoWindowsArray)\n            }\n            setAmapClass(AMap)\n            setMapG(map)\n        })\n        .catch(e=>{\n            console.log(e);\n        })\n    },[totalData, data, data?.length, removeItem])\n\n    const markerConstructor = (amapClass, longitude, latitude, title, extData) => {\n        let point = new amapClass.Marker({\n            position: new amapClass.LngLat(longitude, latitude),\n            title: title,\n            extData: extData\n        })\n        return point\n    }\n\n    const imgClick = (index) => {\n        setOpen(true)\n    }\n\n    const windowConstructor = (amapClass, title, des, picURL, fn, fn1, fn2, index, imgClick) => {\n        let window = new amapClass.InfoWindow({\n            isCustom: true,\n            content: content (title, des, picURL, fn, fn1, fn2, index, imgClick), \n            offset: new amapClass.Pixel(0, -30)\n        })\n        return window\n    }\n\n    const center = (data) => {\n        if(data && data.length > 0){\n            return [parseFloat(data[0].longitude),parseFloat(data[0].latitude)]\n        } else {\n            return [116.39, 39.9]\n        }\n    }\n\n    const content  = (title1, des1, picUrl, fn, fn1, fn2, index, imgClick) => {\n        var windowContainer = document.createElement(\"div\");\n        windowContainer.className = 'windowContainer'\n\n        var title = document.createElement(\"div\");\n        title.className = 'title'\n        title.innerHTML = title1\n        windowContainer.appendChild(title)\n\n        var des = document.createElement(\"div\");\n        des.className = 'des'\n        des.innerHTML = des1\n\n        if(des1){\n            windowContainer.appendChild(des)\n        }\n\n        if(picUrl){\n            var imgContainer = document.createElement(\"div\");\n            imgContainer.className = 'imgContainer'\n\n            var img = document.createElement(\"img\");\n            img.className = 'img'\n            img.src = picUrl\n            img.onclick = () => imgClick(index)\n\n            imgContainer.appendChild(img)\n            windowContainer.appendChild(imgContainer)\n        } \n\n        var btn = document.createElement(\"div\");\n        btn.className = 'btn'\n        btn.innerHTML = '删除此点'\n        btn.onclick = () => fn(index)\n        \n        var rePlan = document.createElement(\"div\");\n        rePlan.className = 'rePlan'\n        rePlan.innerHTML = '景点排序'\n        rePlan.onclick = () => fn2(index)\n        \n        var appand = document.createElement(\"div\");\n        appand.className = 'btn'\n        appand.innerHTML = '添加到当日行程'\n        appand.onclick = fn1\n\n        if(check(title1, data)){\n            windowContainer.appendChild(btn)\n            windowContainer.appendChild(rePlan)\n        } else {\n            windowContainer.appendChild(appand)\n        }\n\n        return windowContainer\n    }\n\n    const add = () => {\n        console.log(\"添加详细数据弹窗：\")\n        console.log(getInfo())\n        dayData.nameOfScence = getInfo().name\n        dayData.longitude = getInfo().lng\n        dayData.latitude = getInfo().lat\n        dayData.des = ''\n        dayData.picURL = ''\n        setOpen(true)\n    }\n    //排序\n    const editItem = (index) => {\n        setRePlanOpen(true)\n    }\n\n    const getInfo = () => {\n        let obj = {}\n        let points = mapG.getAllOverlays('marker')\n        data.forEach((item) => {\n            for(let i = 0 ; i < points.length ; i++){\n                if(points[i].getTitle() === item.nameOfScence){\n                    points.splice(i, 1)\n                }\n            }\n        })\n        obj.name = points[0].getTitle()\n        obj.lng = points[0].getPosition().lng\n        obj.lat = points[0].getPosition().lat\n        return obj\n    }\n\n    const openOrcloseWindow = (obj, window, map) => {\n        try {\n            const index = data.findIndex(item => item.nameOfScence === obj.target.getTitle())\n            if(index !== -1){\n                setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n                const position = obj.target.getPosition();\n                window.open(map, position);\n                map.panTo(position);\n            }\n        } catch (error) {\n            console.error('Error in openOrcloseWindow:', error);\n        }\n    };\n\n    const choosePoint = (index) => {\n        if(!windowsG[index].getIsOpen()){\n            windowsG[index].open(mapG,pointsG[index].getPosition());\n        }\n        setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n        mapG.panTo(pointsG[index].getPosition())\n    }\n\n    const search = ()=>{\n        setSearchLoading(true)\n        if(value.trim() && value.trim()!== ''){\n            var placeSearch = new aMapClass.PlaceSearch();\n            placeSearch.search(value.trim(), function (status, result) {\n                if(result.info === 'OK'){\n                    setResult(result.poiList.pois)\n                    setSearchLoading(false)\n                } else {\n                    alert('无搜索结果，请精确输入关键字！')\n                    setSearchLoading(false)\n                }\n            });\n        } else {\n            alert('无搜索内容！')\n            setSearchLoading(false)\n        }\n    }\n\n    const inJectPoint = (item) => {\n        console.log(\"添加项目\", item)\n        if(data.length !== mapG.getAllOverlays('marker').length){\n            let points = mapG.getAllOverlays('marker')\n            data.forEach((item) => {\n                for(let i = 0 ; i < points.length ; i++){\n                    if(points[i].getTitle() === item.nameOfScence){\n                        points.splice(i, 1)\n                    }\n                }\n            })\n            points[0].remove()\n        }\n        let window = windowConstructor(aMapClass, item.name, null, null, null, add, editItem, mapG.getAllOverlays('marker').length + 1)\n        let point = markerConstructor(aMapClass, item.location.lng, item.location.lat, item.name, mapG.getAllOverlays('marker').length + 1)\n        point.on('click', (obj) => openOrcloseWindow(obj, window, mapG))\n        mapG.add(point)\n        window.open(mapG, [item.location.lng, item.location.lat])\n        mapG.panTo([item.location.lng, item.location.lat])\n    } \n\n    const clear = () => {\n        setResult([])\n        setValue('')\n        if(data.length !== mapG.getAllOverlays('marker').length){\n            let points = mapG.getAllOverlays('marker')\n            data.forEach((item) => {\n                console.log(item.nameOfScence)\n                for(let i = 0 ; i < points.length ; i++){\n                    if(points[i].getTitle() === item.nameOfScence){\n                        points.splice(i, 1)\n                    }\n                }\n            })\n            points[0].remove()\n            mapG.clearInfoWindow()\n        }\n    }\n\n    const check = (str, array) => {\n        let flag = false\n        for(let i = 0 ; i < array.length; i++){\n            if(array[i].nameOfScence === str){\n                flag = true\n                break\n            }\n        }\n        return flag\n    }\n\n    const closeModal = () => {\n        setOpen(false)\n    }\n\n    const closeReplanModal = () => {\n        setRePlanOpen(false)\n    }\n\n    const changeContent = (c, str) => {\n        if(str === 'category'){\n            dayData[str] = parseInt(c)\n        }else {\n            dayData[str] = c\n        }\n        dayData[str] = c\n        setDayData({...dayData})\n    }\n\n    const addItemFromMap = ()=> {\n        if(dayData.des === '' || dayData.picURL === ''){\n            return alert('有未填项目！')\n        }\n        const index = data.findIndex(item => item.nameOfScence === dayData.nameOfScence)\n\n        if(index === -1){\n            AddOneItem({...dayData})\n            closeModal()\n            setDayData(new Daytrip(data[0].nameOfScence, data[0].longitude, data[0].latitude, data[0].des, data[0].picURL))\n            setResult([])\n            setValue('')\n        } else {\n            rePlaceOneItem(index, {...dayData})\n            closeModal()\n            const newArray = data.with(index, {...dayData});\n            setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n\n        }    \n    }\n\n    const replanStart = (item, index) => {\n        console.log(`将第${index+1}天的第${item +1}个景点移动到：`)\n        let deleteItem = totalData[index][item]\n        Object.keys(deleteItem).forEach((key) => {\n            cache[key] = deleteItem[key]\n        })\n        if(setReplanIndex !== 0){\n            setReplanIndex(0)\n        }\n    }\n\n    const findIndex = (arr, str) => {\n        let indexArr = []\n        for(let i = 0 ; i < arr.length; i++){\n            for(let j = 0 ; j < arr[i].length ; j++){\n                if(arr[i][j].nameOfScence === str){\n                    indexArr.push(i)\n                    indexArr.push(j)\n                    break\n                }\n            }\n        }\n        return indexArr\n    }\n\n    const replan = (e) => {\n        let newIndex = replanIndex + 1\n        if(replanIndex < totalData.length ){\n            setReplanIndex(newIndex)\n        }\n        const { removedIndex, addedIndex } = e\n        if (removedIndex === null && addedIndex === null) return \n        if(addedIndex !== null){\n            console.log(`第${replanIndex + 1}天的第${addedIndex + 1}处！`)\n            let arr = JSON.parse(JSON.stringify(totalData))//深拷贝\n            let indexARRAY = findIndex(arr, cache.nameOfScence)\n            arr[indexARRAY[0]].splice(indexARRAY[1], 1)\n            arr[replanIndex].splice(addedIndex, 0 ,cache)\n            changePlan(arr)\n            setCache(new Daytrip())\n        }\n    }\n\n    const handleFocus = (str) => {\n        if(str === 'des'){\n            setInfoOpen(true)\n            desRef.current.blur()\n            setLoading(true)\n            fetchInfoFromGoogle(str)\n        } else {\n            setImgsOpen(true)\n            picsRef.current.blur()\n            setLoading(true)\n            fetchInfoFromGoogle(str)\n        }   \n    }\n\n    const handleCloseInfo = (str) => {\n        if(str === 'des'){\n            setInfoOpen(false)\n            setErrinFo(null)\n            setInfoFromGoogle(null)\n        }else {\n            setImgsOpen(false)\n            setErrinFo(null)\n            setPicsFromGoogle([])\n        } \n    }\n\n    const fetchInfoFromGoogle = (str) => {\n        if(str === 'des'){\n            axios.get(`/api/chat/getDes?chat=${dayData.nameOfScence}`)\n            .then((res) => {\n                setInfoFromGoogle(res.data)\n                setLoading(false)\n            })\n            .catch((err) => {\n                console.log(err)\n                setLoading(false)\n                setErrinFo(err)\n            })\n        }else {\n            axios.get(`/api/trip/getBingImg?point=${dayData.nameOfScence}`)\n            .then((res) => {\n                setPicsFromGoogle([res.data])\n                setLoading(false)\n            })\n            .catch((err) => {\n                console.log(err)\n                setLoading(false)\n                setErrinFo(err)\n            })\n        }\n    }\n\n    const getInfiOrImg = (str) => {\n        console.log(str)\n        if(str === 'des'){\n        setLoadingInfo(true)\n        axios.get(`/api/chat/getDes?chat=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingInfo(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingInfo(false)\n        })\n        }else {\n        setLoadingPic(true)\n        axios.get(`/api/trip/getBingImg?point=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingPic(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingPic(false)\n        })\n        }\n    }\n   \n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n            </div>\n            <div className=\"textFieldContainer\">\n                <FormControl variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\">请输入关键字</InputLabel>\n                    <OutlinedInput\n                        id=\"outlined-adornment-password\"\n                        type='text' \n                        value={value}\n                        onChange={(e)=>{setValue(e.target.value)}}\n                        endAdornment={\n                            searchLoading\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                edge=\"end\"\n                                >\n                                    <CircularProgress size={20} />\n                                </IconButton>\n                            </InputAdornment>\n                            :\n                            result && result.length > 0\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                onClick={clear}\n                                edge=\"end\"\n                                >\n                                    <Clear />\n                                </IconButton>\n                            </InputAdornment>\n                            :<InputAdornment position=\"end\">\n                            <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={search}\n                            edge=\"end\"\n                            >\n                                <Search />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                        label=\"Password\"\n                    />\n                </FormControl>\n                <div className=\"resultsContainer\">\n                {\n                    result && result.length > 0\n                    ?<List>\n                    {result.map((item, index) => {\n                        return (\n                            <div key={index} onClick={() => {inJectPoint(item)}}>\n                                <ListItem >\n                                    <ListItemText primary={item.name} />\n                                </ListItem>\n                            </div>  \n                        )\n                    })\n                    }\n                    </List>\n                    :null\n                }\n                </div>\n            </div>\n            <div className=\"listContainer\" style={{ \n                left: document.body.clientWidth < getClientHeight() ? '20px' : '220px' ,\n                maxHeight: `${getClientHeight() - 100}px`, // Set your desired maximum height here\n                overflowY: 'auto',  // Enable vertical scrolling when content exceeds maxHeight\n                position: 'absolute',\n            }}>\n                {data && data.length > 0\n                    ?<List>\n                    {\n                      data.map((item, index) => {    \n                        return (\n                            <div \n                                key={item.nameOfScence} \n                                onClick={() => {choosePoint(index)}}\n                            >\n                                <ListItem >\n                                    <ListItemText primary={item.nameOfScence} />\n                                </ListItem>\n                                <Divider />\n                            </div>  \n                        )\n                    })  \n                    }\n                    </List>\n                    :null\n                }\n            </div>\n            <Dialog open={open} onClose={closeModal}>\n                <DialogTitle>请完善如下信息：</DialogTitle>\n                <div className=\"textContainer\">\n                    <TextField \n                        label=\"nameOfScence\" \n                        value={dayData.nameOfScence}\n                        onChange={(e) => {changeContent(e.target.value, \"nameOfScence\")}}\n                    />\n                    <div>\n                        <TextField \n                            label=\"longitude\" \n                            value={dayData.longitude}\n                            onChange={(e) => {changeContent(e.target.value, \"longitude\")}}\n                        />\n                        <TextField \n                            label=\"latitude\" \n                            value={dayData.latitude}\n                            onChange={(e) => {changeContent(e.target.value, \"latitude\")}}\n                        /> \n                    </div>\n                    <TextField \n                        inputRef={desRef}\n                        label=\"des\"\n                        //onFocus={() => handleFocus(\"des\")} \n                        multiline \n                        value={dayData.des }\n                        onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"end\">\n                                <Button \n                                    variant=\"text\" \n                                    onClick={() => getInfiOrImg(\"des\")}\n                                    size=\"small\"\n                                >\n                                    {!loadingInfo ? '获取描述' : '正在获取描述中'}\n                                </Button>\n                                </InputAdornment>\n                            )\n                        }}\n                    />\n                    <TextField\n                        inputRef={picsRef}\n                        //onFocus={() => handleFocus(\"picURL\")}\n                        multiline \n                        label=\"picURL\" \n                        value={dayData.picURL}\n                        onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"end\">\n                                <Button \n                                    variant=\"text\" \n                                    onClick={() => getInfiOrImg(\"picURL\")}\n                                    size=\"small\"\n                                >\n                                    {!loadingPic ? '获取图片' : '正在获取图片中'}\n                                </Button>\n                                </InputAdornment>\n                            )\n                        }}\n                    />\n                    <TextField \n                        label=\"pointOrNot\" \n                        value={dayData.pointOrNot}\n                        onChange={(e) => {changeContent(e.target.value, \"pointOrNot\")}}\n                    />\n                    <TextField \n                        label=\"category\" \n                        value={dayData.category}\n                        onChange={(e) => {changeContent(e.target.value, \"category\")}}\n                    />\n                    <TextField \n                        label=\"contructor\" \n                        value={dayData.contructor}\n                        onChange={(e) => {changeContent(e.target.value, \"contructor\")}}\n                    />\n                    <div className='btnContainer'>\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={addItemFromMap}\n                        >\n                            保存到当日行程\n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog open={rePlanOpen} onClose={closeReplanModal}>\n                <DialogTitle>请拖动排序：</DialogTitle>\n                <div className='replanContainer2'>\n                {\n                    totalData.map((item, index) => (\n                        <div key={index} className='replanContainer1'>\n                            <div className='titlereplan'>{`第${index + 1}天`}</div>   \n                            <Container \n                                orientation=\"horizontal\"\n                                className='replanContainer' \n                                style={style}\n                                groupName=\"1\"\n                                getChildPayload={(i) => replanStart(i, index)}\n                                onDrop={replan}\n                            >\n                                {\n                                    item.map((item2, index2) => (\n                                        <Draggable \n                                            key={item2.nameOfScence} \n                                            style={{height: '30px'}}\n                                        >\n                                        <div \n                                            className='itemContainer'\n                                        >\n                                            {item2.nameOfScence}\n                                        </div>\n                                        </Draggable>\n                                    ))\n                                }\n                            </Container>\n                        </div>\n                    ))\n                }\n                </div>\n            </Dialog>\n            <Dialog \n                open={infoOpen} \n                onClose={() => handleCloseInfo('des')}\n            >\n                <div className='inFoContainer'>\n                    <div>{loading ? '景点简介获取中...' : null}</div>\n                    <TextField \n                        label=\"des\"\n                        multiline\n                        fullWidth\n                        value={dayData.des}\n                        onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                    />\n                    <div onClick={() => {changeContent(infoFromGoogle, \"des\")}}>{infoFromGoogle !== null ? infoFromGoogle : null}</div>\n                    <div>{infoFromGoogle !== null ? '数据来自 百度百科' : null}</div>\n                    <div>{errinFo !== null ? '数据获取失败，请自己填写！' : null}</div>\n                    <div className='btnContainer'>\n                        <Button \n                            color=\"secondary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('des')}\n                        >\n                            返回\n                        </Button>\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('des')}\n                        >\n                            保存\n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog \n                open={imgsOpen} \n                onClose={() => handleCloseInfo('picURL')}\n            >\n                <div className='inFoContainer'>\n                    <div>{loading ? '预览图片获取中...' : null}</div>\n                    <TextField \n                        label=\"picURL\"\n                        multiline\n                        fullWidth\n                        value={dayData.picURL}\n                        onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                    />\n                    <div className='googleImgsContainer'>\n                    {\n                        picsFromGoogle.length > 0 \n                        ? picsFromGoogle.map((item, index) => {\n                            return (\n                                <div className='googleImgsBox' onClick={() => {changeContent(item, \"picURL\")}} key={index}>\n                                   <img className='googleImgBox' src={item}  alt=''/> \n                                </div>\n                            )\n                        })\n                        :<div></div>\n                    }\n                    </div>\n                    <div>{picsFromGoogle !== null && picsFromGoogle.length > 0 ? '预览图片数据来自 Bing' : null}</div>\n                    <div>{errinFo !== null ? '预览图片获取失败，请自己填写图片链接！' : null}</div>\n                    <div className='btnContainer'>\n                        <Button \n                            color=\"secondary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('picURL')}\n                        >\n                            返回\n                        </Button>\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={() => handleCloseInfo('picURL')}\n                        >\n                            保存\n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default MapComponent","import React, { useState, useEffect, Component, useRef } from 'react'\nimport ReactDOM from \"react-dom\";\nimport '../css/mapView.css'\nimport axios from 'axios'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Search from '@material-ui/icons/Search';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Clear from '@material-ui/icons/Clear';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Container, Draggable } from 'react-smooth-dnd';\nimport {\n  Map, \n  InfoWindow, \n  Marker, \n  GoogleApiWrapper\n} from 'google-maps-react';\n\nimport {\n    getClientHeight,\n    Daytrip,\n    style,\n    googleKey,\n    googleMapcontainerStyle,\n} from '../tools'\n\nfunction  GoogleMapComponent ({google, totalData, data, removeItem, AddOneItem, changePlan, rePlaceOneItem}){\n    const [mapG, setMapG] = useState(null)\n    const [value, setValue] = useState('')//搜索框\n    const [result, setResult] = useState([])\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData, setDayData] = useState(new Daytrip())\n    const [cache, setCache] = useState(new Daytrip())\n    const [replanIndex, setReplanIndex] = useState(0)\n    const [activeMarker, setActiveMarker] = useState(null)\n    const [centerPointObj, setCenterPointObj] = useState(null)\n    const [titleG, setTitleG] = useState('')\n    const [desG, setDesG] = useState('')\n    const [imgUrl, setImgUrl] = useState('')\n    const [showingInfoWindow, setShowingInfoWindow] = useState(false)\n    const [placeService, setPlaceService] = useState(null)\n    const [cacheMarker, setCacheMarker] = useState(null)\n    const [loadingPic, setLoadingPic] = useState(false)\n    const [loadingInfo, setLoadingInfo] = useState(false)\n    const [searchLoading, setSearchLoading] = useState(false)\n    const markersRef = useRef([])\n    useEffect(() => {\n      if(data && data.length > 0){\n        setDayData(new Daytrip(data[0].nameOfScence, data[0].longitude, data[0].latitude, data[0].des, data[0].picURL));\n      }\n    }, [data]);\n\n    useEffect(() => {\n      console.log('google地图开始渲染！', totalData, data)\n      markersRef.current = []\n      if(data && data.length > 0){\n        setCenter(data[0])\n      }\n      if(showingInfoWindow){\n        setShowingInfoWindow(false)\n      }\n    },[totalData, data, data?.length, removeItem])\n\n    const setCenter = (data) => {\n      let obj = {}\n      obj.lat = parseFloat(data.latitude)\n      obj.lng = parseFloat(data.longitude)\n      setCenterPointObj(obj)\n    }\n\n    const content  = (name, fn, item) => {\n      var windowContainer = document.createElement(\"div\");\n      var title = document.createElement(\"div\");\n      title.innerHTML = name\n      windowContainer.appendChild(title)\n      var appand = document.createElement(\"div\");\n      appand.innerHTML = '添加到当日行程'\n      appand.onclick = () => fn(item)\n      windowContainer.appendChild(appand)\n      return windowContainer\n    }\n\n    const add = (item) => {\n      dayData.nameOfScence = item.name\n      dayData.longitude = item.geometry.location.lng()\n      dayData.latitude = item.geometry.location.lat()\n      dayData.des = ''\n      dayData.picURL = ''\n      setOpen(true)\n    }\n\n    const getInfo = () => {\n      let obj = {}\n      setOpen(true)\n    }\n    //排序\n    const editItem = () => {\n      console.log('排序')\n      setRePlanOpen(true)\n      if(showingInfoWindow){\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const choosePoint = (index) => {\n      setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n      setCenter(data[index])\n      const marker = markersRef.current[index];\n      if (marker) {\n        setTitleG(data[index].nameOfScence)\n        setDesG(data[index].des)\n        setImgUrl(data[index].picURL)\n        setActiveMarker(marker.marker);\n        setShowingInfoWindow(true);\n      }\n    }\n\n    const search = ()=>{\n      setSearchLoading(true)\n      if(value.trim() && value.trim()!== ''){\n        const request = {\n          query: value.trim(),\n          fields: [\"name\", \"formatted_address\", \"geometry\"],\n        }\n        try {\n          placeService.findPlaceFromQuery(\n            request,\n            (\n              results: google.maps.places.PlaceResult[] | null,\n              status: google.maps.places.PlacesServiceStatus\n            ) => {\n              if (status === google.maps.places.PlacesServiceStatus.OK && results) {\n                console.log(results[0].geometry.location.lat())\n                setResult(results)\n                setSearchLoading(false)\n              }\n            }\n          )\n        } catch (error) {\n          alert('系统错误，请稍后重试！')\n          console.log(error)\n          setSearchLoading(false)\n        }\n      }\n    }\n\n    const inJectPoint = (item) => {\n      if(cacheMarker){\n        cacheMarker.setMap(null)\n      }\n      let lat = item.geometry.location.lat()\n      let lng = item.geometry.location.lng()\n      const marker = new google.maps.Marker({\n        position: { lat: lat, lng: lng },\n        map: mapG,\n        title: item.name\n      });\n      const infowindow = new google.maps.InfoWindow({\n        content: content(item.name, add, item),\n        ariaLabel: item.name,\n      });\n      marker.addListener(\"click\", () => {\n        infowindow.open({\n          anchor: marker,\n          mapG,\n        });\n      });\n      let center = {}\n      center.lat = lat\n      center.lng = lng\n      setCenterPointObj(center)\n      setCacheMarker(marker)\n    } \n\n    const clear = () => {\n        setResult([])\n        setValue('')\n        if(cacheMarker){\n          cacheMarker.setMap(null)\n          setCacheMarker(null)\n        }\n    }\n\n    const closeModal = () => {\n        setOpen(false)\n    }\n\n    const closeReplanModal = () => {\n        setRePlanOpen(false)\n    }\n\n    const changeContent = (c, str) => {\n        if(str === 'category'){\n            dayData[str] = parseInt(c)\n        }else {\n            dayData[str] = c\n        }\n        dayData[str] = c\n        setDayData({...dayData})\n    }\n\n    const addItemFromMap = ()=> {\n        if(dayData.des === '' || dayData.picURL === ''){\n            return alert('有未填项目！')\n        }\n        const index = data.findIndex(item => item.nameOfScence === dayData.nameOfScence)\n        if(index === -1){\n          AddOneItem({...dayData})\n          closeModal()\n          setDayData(new Daytrip(data[0].nameOfScence, data[0].longitude, data[0].latitude, data[0].des, data[0].picURL))\n          setResult([])\n          setValue('')\n          if(cacheMarker){\n            cacheMarker.setMap(null)\n            setCacheMarker(null)\n          }\n        } else {\n          rePlaceOneItem(index, {...dayData})\n          closeModal()\n          const newArray = data.with(index, {...dayData});\n          setDayData(new Daytrip(data[index].nameOfScence, data[index].longitude, data[index].latitude, data[index].des, data[index].picURL))\n          setTitleG('')\n        }\n    }\n\n    const replanStart = (item, index) => {\n        console.log(`将第${index+1}天的第${item +1}个景点移动到：`)\n        let deleteItem = totalData[index][item]\n        Object.keys(deleteItem).forEach((key) => {\n            cache[key] = deleteItem[key]\n        })\n        if(setReplanIndex !== 0){\n            setReplanIndex(0)\n        }\n    }\n\n    const findIndex = (arr, str) => {\n        let indexArr = []\n        for(let i = 0 ; i < arr.length; i++){\n            for(let j = 0 ; j < arr[i].length ; j++){\n                if(arr[i][j].nameOfScence === str){\n                    indexArr.push(i)\n                    indexArr.push(j)\n                    break\n                }\n            }\n        }\n        return indexArr\n    }\n\n    const replan = (e) => {\n        let newIndex = replanIndex + 1\n        if(replanIndex < totalData.length ){\n            setReplanIndex(newIndex)\n        }\n        const { removedIndex, addedIndex } = e\n        if (removedIndex === null && addedIndex === null) return \n        if(addedIndex !== null){\n            console.log(`第${replanIndex + 1}天的第${addedIndex + 1}处！`)\n            let arr = JSON.parse(JSON.stringify(totalData))//深拷贝\n            let indexARRAY = findIndex(arr, cache.nameOfScence)\n            arr[indexARRAY[0]].splice(indexARRAY[1], 1)\n            arr[replanIndex].splice(addedIndex, 0 ,cache)\n            changePlan(arr)\n            setCache(new Daytrip())\n        }\n    }\n\n    const fetchPlaces = (mapProps, map) => {\n      console.log('地图完成初始化：', mapProps)\n      \n      const {google} = mapProps;\n      let service = new google.maps.places.PlacesService(map)\n      setPlaceService(service)\n      setMapG(map)\n      if (data && data.length > 0) {\n        setTitleG(data[0].nameOfScence);\n        setDesG(data[0].des);\n        setImgUrl(data[0].picURL);\n        setCenterPointObj({\n          lat: parseFloat(data[0].latitude),\n          lng: parseFloat(data[0].longitude),\n        });\n        \n        // 设置第一个 Marker 为 activeMarker\n        // 注意：markersRef.current[0] 可能需要在 Marker 渲染完成后才能访问\n        // 因此可以稍延迟执行（例如使用 setTimeout）\n        setTimeout(() => {\n          if (markersRef.current[0]) {\n            setActiveMarker(markersRef.current[0].marker);\n            setShowingInfoWindow(true);\n          }\n        }, 1000); // 延迟 100ms 确保 Marker 已渲染\n      }\n    }\n\n    const onMarkerClick = (props, marker) => {\n      console.log(marker)\n      let objArray = data.filter((item) => {\n        return item.nameOfScence === props.title\n      })\n      setDayData(new Daytrip(objArray[0].nameOfScence, objArray[0].longitude, objArray[0].latitude, objArray[0].des, objArray[0].picURL))\n      if(objArray[0].nameOfScence !== titleG){\n        setTitleG(objArray[0].nameOfScence)\n        setDesG(objArray[0].des)\n        setImgUrl(objArray[0].picURL)\n        setCenterPointObj(props.position)\n        setActiveMarker(marker)\n        setShowingInfoWindow(true)\n      } else {\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const onMapClicked = (props) => {\n      console.log('点击地图', props)\n    }\n\n    const test = (title) => {\n      if(showingInfoWindow){\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n      for(let i = 0; i < data.length; i++){\n        if(data[i].nameOfScence === title){\n          removeItem(i)\n        }\n      }\n    }\n\n    const handleFocus = (str) => {\n      console.log(str)\n      if(str === 'des'){\n        setLoadingInfo(true)\n        axios.get(`/api/chat/getDes?chat=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingInfo(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingInfo(false)\n        })\n      }else {\n        setLoadingPic(true)\n        axios.get(`/api/trip/getBingImg?point=${dayData.nameOfScence}`)\n        .then((res) => {\n            changeContent(res.data, str)\n            setLoadingPic(false)\n        })\n        .catch((err) => {\n            console.log(err)\n            setLoadingPic(false)\n        })\n      }\n    }\n\n    const closeWindow = () => {\n      setTitleG('')\n      setDesG('')\n      setImgUrl('')\n      setActiveMarker(null)\n      setShowingInfoWindow(false)\n    }\n\n    const showInfo = () => {\n      console.log('点击图片')\n      setOpen(true)\n    }\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n              {\n                data && data.length > 0\n                ?<Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          ref={(marker) => {\n                            if (marker) markersRef.current[index] = marker;\n                          }}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt='' onClick={showInfo}/>\n                      </div>\n                      <div className=\"btnContainer\">\n                        <div onClick={editItem}>景点排序</div>\n                        <div onClick={() => test(titleG)}>删除此点</div>\n                      </div>               \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n                :<Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt=''/>\n                      </div>\n                      <div className=\"btnContainer\">\n                        <div onClick={editItem}>景点排序</div>\n                        <div onClick={() => test(titleG)}>删除此点</div>\n                      </div>               \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n              }\n            </div>\n            <div className=\"textFieldContainer\">\n                <FormControl variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\">请输入关键字</InputLabel>\n                    <OutlinedInput\n                        id=\"outlined-adornment-password\"\n                        type='text' \n                        value={value}\n                        onChange={(e)=>{setValue(e.target.value)}}\n                        endAdornment={\n                            searchLoading\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                edge=\"end\"\n                                >\n                                    <CircularProgress size={20} />\n                                </IconButton>\n                            </InputAdornment>\n                            :\n                            result && result.length > 0\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                  aria-label=\"toggle password visibility\"\n                                  onClick={clear}\n                                  edge=\"end\"\n                                >\n                                    <Clear />\n                                </IconButton>\n                            </InputAdornment>\n                            :<InputAdornment position=\"end\">\n                            <IconButton\n                              aria-label=\"toggle password visibility\"\n                              onClick={search}\n                              edge=\"end\"\n                            >\n                                <Search />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                        label=\"Password\"\n                    />\n                </FormControl>\n                <div className=\"resultsContainer\">\n                {\n                    result && result.length > 0\n                    ?<List>\n                    {result.map((item, index) => {\n                        return (\n                            <div key={index} onClick={() => {inJectPoint(item)}}>\n                                <ListItem >\n                                    <ListItemText primary={item.name} />\n                                </ListItem>\n                            </div>  \n                        )\n                    })\n                    }\n                    </List>\n                    :null\n                }\n                </div>\n            </div>\n            <div className=\"listContainer\" style={{ \n              left: document.body.clientWidth < getClientHeight() ? '20px' : '220px' ,\n              maxHeight: `${getClientHeight() - 100}px`, // Set your desired maximum height here\n              overflowY: 'auto',  // Enable vertical scrolling when content exceeds maxHeight\n              position: 'absolute',\n            }}>\n                {data && data.length > 0\n                  ?<List>\n                  {\n                    data.map((item, index) => {    \n                      return (\n                        <div \n                          key={item.nameOfScence} \n                          onClick={() => {choosePoint(index)}}\n                        >\n                          <ListItem >\n                            <ListItemText primary={item.nameOfScence} />\n                          </ListItem>\n                          <Divider />\n                        </div>  \n                      )\n                  })  \n                  }\n                  </List>\n                  :null\n                }\n            </div>\n            <Dialog open={open} onClose={closeModal}>\n                <DialogTitle>请完善如下信息：</DialogTitle>\n                <div className=\"textContainer\">\n                    <TextField\n                      label=\"nameOfScence\" \n                      value={dayData.nameOfScence}\n                      onChange={(e) => {changeContent(e.target.value, \"nameOfScence\")}}\n                    />\n                    <div>\n                      <TextField \n                        label=\"longitude\" \n                        value={dayData.longitude}\n                        onChange={(e) => {changeContent(e.target.value, \"longitude\")}}\n                      />\n                      <TextField \n                        label=\"latitude\" \n                        value={dayData.latitude}\n                        onChange={(e) => {changeContent(e.target.value, \"latitude\")}}\n                      /> \n                    </div>\n                    <TextField \n                      label=\"des\" \n                      multiline \n                      value={dayData.des }\n                      onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                      InputProps={{\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Button \n                              variant=\"text\" \n                              onClick={() => handleFocus(\"des\")}\n                              size=\"small\"\n                            >\n                              {!loadingInfo ? '获取描述' : '正在获取描述中'}\n                            </Button>\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                    <TextField \n                      multiline \n                      label=\"picURL\" \n                      value={dayData.picURL}\n                      onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                      InputProps={{\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Button \n                              variant=\"text\" \n                              onClick={() => handleFocus(\"picURL\")}\n                              size=\"small\"\n                            >\n                              {!loadingPic ? '获取图片' : '正在获取图片中'}\n                            </Button>\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                    <TextField \n                      label=\"pointOrNot\" \n                      value={dayData.pointOrNot}\n                      onChange={(e) => {changeContent(e.target.value, \"pointOrNot\")}}\n                    />\n                    <TextField \n                      label=\"category\" \n                      value={dayData.category}\n                      onChange={(e) => {changeContent(e.target.value, \"category\")}}\n                    />\n                    <TextField \n                      label=\"contructor\" \n                      value={dayData.contructor}\n                      onChange={(e) => {changeContent(e.target.value, \"contructor\")}}\n                    />\n                    <div className='btnContainer'>\n                      <Button \n                          color=\"primary\" \n                          variant=\"contained\"\n                          onClick={addItemFromMap}\n                      >\n                          保存到当日行程\n                      </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog open={rePlanOpen} onClose={closeReplanModal}>\n                <DialogTitle>请拖动排序：</DialogTitle>\n                <div className='replanContainer2'>\n                {\n                    totalData.map((item, index) => (\n                        <div key={index} className='replanContainer1'>\n                            <div className='titlereplan'>{`第${index + 1}天`}</div>   \n                            <Container \n                                orientation=\"horizontal\"\n                                className='replanContainer' \n                                style={style}\n                                groupName=\"1\"\n                                getChildPayload={(i) => replanStart(i, index)}\n                                onDrop={replan}\n                            >\n                                {\n                                    item.map((item2, index2) => (\n                                        <Draggable \n                                            key={item2.nameOfScence} \n                                            style={{height: '30px'}}\n                                        >\n                                        <div \n                                            className='itemContainer'\n                                        >\n                                            {item2.nameOfScence}\n                                        </div>\n                                        </Draggable>\n                                    ))\n                                }\n                            </Container>\n                        </div>\n                    ))\n                }\n                </div>\n            </Dialog> \n        </div>\n    );\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (googleKey)\n})(GoogleMapComponent)\n\nclass InfoWindowEx extends Component {\n  constructor(props) {\n    super(props);\n    this.infoWindowRef = React.createRef();\n    this.contentElement = document.createElement(`div`);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.children !== prevProps.children) {\n      ReactDOM.render(\n        React.Children.only(this.props.children),\n        this.contentElement\n      );\n      this.infoWindowRef.current.infowindow.setContent(this.contentElement);\n    }\n  }\n\n  render() {\n    return <InfoWindow ref={this.infoWindowRef} {...this.props} />;\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport RemoveIcon from '@material-ui/icons/RemoveCircleOutline';\nimport { connect } from 'react-redux';\nimport Link from '@material-ui/core/Link';\nimport { Daytrip, checkNullInObj, checkInArray } from '../tools'\nimport MapComponent from './mapView';\nimport GoogleMapComponent from './googleMapView';\nimport{\n  saveTripSaga\n} from '../store/action'\nimport clsx from 'clsx';\n\nconst drawerWidth = 200;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    //padding: theme.spacing(3),\n  },\n  contentMode: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  drawerTitle: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  btn: {\n    marginTop: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  mapContainer: {\n    // backgroundColor: theme.palette.secondary.main,\n    // padding: 0,\n    // margin: 0,\n    // width: '100%',\n    // height: '100%',\n  },\n  coverBTN: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'end'\n  },\n  coverUrlTextContainer: {\n    width: '100%',\n  }\n}));\n\nfunction ResponsiveDrawer({window, trip, dispatch, location}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  \n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  \n  const [data, setData] = React.useState(trip || location.params);\n\n  const [open, setOpen] = React.useState(false)//模式\n  \n  //const tripRef = useRef();\n\n  // useEffect(()=>{\n  //   tripRef.current = trip\n  //   console.log('tripRef.current',tripRef.current)\n  // }, [])\n\n  const change = (e, str, index) => {\n    if(str === 'category'){\n      data.detail[selectedIndex][index][str] = parseInt(e.target.value)\n    }else {\n      data.detail[selectedIndex][index][str] = e.target.value\n    }\n    setData({...data})\n  }\n\n  const changeCover = (valueURL) => {\n    data.cover = valueURL\n    setData({...data})\n  }\n\n  const removeItem = (index) => {\n    data.detail[selectedIndex].splice(index, 1)\n    setData({...data})\n  }\n\n  const removeDay = (e, index) => {\n    e.stopPropagation()\n    data.detail.splice(index, 1)\n    setData({...data})\n    if(index === selectedIndex){\n      setSelectedIndex(0)\n    }\n  }\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const submit = () => {\n    const array = data.detail\n    for (let i = 0 ; i < array.length ; i++){\n      let innerArray = array[i]\n      for (let j = 0 ; j < innerArray.length ; j++){\n        if(!checkNullInObj(innerArray[j])){\n          return alert('有未填的项目！')\n        }\n      }\n    }\n    \n    dispatch(saveTripSaga(data))\n    // if(R.equals(data, tripRef.current)){\n    //   alert('已保存！')\n    // } else {\n    //   alert('已发送！')\n    // }\n  }\n\n  const changePlan = (arr) => {\n    let newData = JSON.parse(JSON.stringify(data))\n    newData.detail = arr\n    console.log('终极数据：', newData)\n    setData(newData)\n  }\n\n  const AddOneItem = (o) => {\n    console.log(o)\n    let obj = null\n    if(o !== 'edit'){\n      o.longitude = o.longitude.toString()\n      o.latitude = o.latitude.toString()\n      obj = {...o}\n    } else {\n      obj = new Daytrip()\n    }\n    console.log('即将存的值：',obj)\n    if(data.detail.length > 0){\n      data.detail[selectedIndex].push(obj)\n      setData({...data})\n    }\n  }\n\n  const rePlaceOneItem = (index, obj) => {\n    data.detail[selectedIndex][index] = obj\n    setData({...data})\n  }\n\n  const FirstEditMode = () => {\n    setOpen(!open)\n  }\n\n  const addOneDay = () => {\n    data.detail.push([])\n    setData({...data})\n  }\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} >\n        <p className={classes.drawerTitle}>\n          {data.tripName}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`by ${data.designer}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`城市：${data.city}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`国家：${data.country}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`标签：${data.tags}`}\n        </p>\n      </div>\n      <img alt='' \n        src={data?.cover} \n        width={'100%'} \n        //height={'40px'}\n        //onClick={()=>{setCoverDisplay(false)}} \n      />\n      <div>\n        <TextField \n          className={classes.coverUrlTextContainer}\n          value={data?.cover || ''}\n          id=\"cover\" \n          label=\"封面\" \n          //variant=\"outlined\"\n          onChange={(e) => {changeCover(e.target.value)}}\n        />\n      </div>\n      <Divider />\n      <List>\n        <ListItem button onClick={addOneDay}>\n          添加一日行程\n          <ListItemIcon><AddIcon /></ListItemIcon>\n        </ListItem>\n        {\n          data.detail != null && data.detail.length > 0\n          ?data.detail.map((text, index) => (\n            <ListItem \n              button \n              key={index} \n              selected={selectedIndex === index}\n              onClick={() => {setSelectedIndex(index)}}\n            >\n              <ListItemText primary={`Day${index + 1}`}/>\n              <ListItemIcon\n                onClick={(e) => {removeDay(e, index)}}\n              >\n                <RemoveIcon />\n              </ListItemIcon>\n            </ListItem>\n          ))\n          : null\n        }\n      </List>\n      <Divider />\n    </div>\n  )\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n  //console.log(data.detail[selectedIndex])\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {\n      data\n      ?<React.Fragment>\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap className={classes.title}>\n              <Link color=\"inherit\" href=\"/editinit\">\n                地图数据编辑\n              </Link>\n            </Typography>\n            {\n              data.detail.length > 0 && data.detail[selectedIndex] && data.detail[selectedIndex].length >= 0\n              ?<Button style={{marginRight: '5px'}}variant=\"outlined\" color=\"inherit\" onClick={FirstEditMode}>{!open ? '编辑模式' : '地图模式'}</Button>\n              : null\n            }\n            {\n              open && data.detail.length > 0\n              ?<Button style={{marginRight: '5px'}}variant=\"outlined\" color=\"inherit\" onClick={() => AddOneItem('edit')}>当天新增一点</Button>\n              : null\n            }\n            {\n              data.detail.length > 0 && checkInArray(data.detail)\n              ?<Button variant=\"outlined\" color=\"inherit\" onClick={submit}>SAVE</Button>\n              : null\n            }\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={clsx(!open && classes.content, open && classes.contentMode)}>\n        { \n          open && data.detail[selectedIndex] && data.detail[selectedIndex].length > 0\n          ?data.detail[selectedIndex].map((item, index) => {\n            return(\n            <React.Fragment key={index}>\n              <div className={classes.toolbar} />\n              <div>\n                <TextField \n                  label=\"nameOfScence\" \n                  value={item.nameOfScence}\n                  onChange={(e) => {change(e, 'nameOfScence', index)}}\n                />\n              </div>\n              <div>\n                <TextField \n                  value={item.longitude} \n                  label=\"longitude\"\n                  onChange={(e) => {change(e, 'longitude', index)}}\n                />\n                <TextField \n                  value={item.latitude} \n                  label=\"latitude\"\n                  onChange={(e) => {change(e, 'latitude', index)}}\n                />\n              </div>\n              <div>\n                <TextField\n                  value={item.des}\n                  multiline \n                  label=\"des\"\n                  onChange={(e) => {change(e, 'des', index)}}\n                />\n              </div>\n              <div>\n                <TextField \n                  multiline \n                  label=\"picURL\"\n                  value={item.picURL}\n                  onChange={(e) => {change(e, 'picURL', index)}}\n                />\n              </div>\n              <TextField \n                value={item.pointOrNot}\n                label=\"pointOrNot\" \n                onChange={(e) => {change(e, 'pointOrNot', index)}}\n              />\n              <TextField \n                value={item.category}\n                label=\"category\"\n                onChange={(e) => {change(e, 'category', index)}}\n              />\n              <div>\n                <TextField \n                  value={item.contructor}\n                  label=\"contructor\" \n                  onChange={(e) => {change(e, 'contructor', index)}}\n                />\n              </div>\n              <div className={classes.btn}>\n                <Button \n                  color=\"secondary\" \n                  variant=\"contained\"\n                  onClick={() => removeItem(index)}\n                >\n                {`删除第${selectedIndex + 1}天第${index + 1}个景点`}\n                </Button>\n              </div>\n              <Divider />\n            </React.Fragment>\n          )})\n          : data.domestic === 1 ?\n          <MapComponent \n            data={data.detail[selectedIndex]}\n            totalData={data.detail}\n            removeItem={removeItem}\n            AddOneItem={AddOneItem}\n            selectedIndex={selectedIndex}\n            changePlan={changePlan}\n            rePlaceOneItem={rePlaceOneItem}\n          />\n          :<GoogleMapComponent\n            data={data.detail[selectedIndex]}\n            totalData={data.detail}\n            removeItem={removeItem}\n            AddOneItem={AddOneItem}\n            selectedIndex={selectedIndex}\n            changePlan={changePlan}\n            rePlaceOneItem={rePlaceOneItem}\n          />\n        }     \n        </main>\n      </React.Fragment>\n      :null\n      }\n    </div>\n  );\n}\n\nResponsiveDrawer.propTypes = {\n  window: PropTypes.func,\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(ResponsiveDrawer);","import React, { useState, useEffect, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport axios from 'axios'\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\n\n// 图片优化函数 - 仅在支持的情况下应用\nconst getOptimizedImageUrl = (url, width = 100, height = 100, quality = 80) => {\n  if (!url) return url;\n  \n  // 检查是否为外部图片服务（如CDN）才应用优化参数\n  const isExternalImage = url.includes('cdn') || url.includes('oss') || url.includes('qiniu') || url.includes('amazonaws');\n  \n  if (!isExternalImage) {\n    // 本地或不支持的服务器，直接返回原URL\n    return url;\n  }\n  \n  // 检查是否支持 WebP\n  const supportsWebP = (() => {\n    try {\n      return document.createElement('canvas')\n        .toDataURL('image/webp').indexOf('webp') > -1;\n    } catch {\n      return false;\n    }\n  })();\n  \n  // 构建优化参数\n  const params = new URLSearchParams();\n  params.append('w', width);\n  params.append('h', height);\n  params.append('q', quality);\n  if (supportsWebP) {\n    params.append('format', 'webp');\n  }\n  \n  // 如果URL已经有参数，使用&连接，否则使用?\n  const separator = url.includes('?') ? '&' : '?';\n  return `${url}${separator}${params.toString()}`;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n  },\n  content: {\n    padding: theme.spacing(10, 2, 0, 2),\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(110px, 1fr))',\n    gap: theme.spacing(1.5),\n    minHeight: '80vh',\n    gridAutoRows: 'max-content',\n  },\n  squareContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    border: '1px solid #ccc',\n    borderRadius: '4px',\n    overflow: 'hidden',\n    height: 'fit-content',\n    margin: theme.spacing(0.5),\n    transition: 'transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out',\n    '&:hover': {\n      transform: 'translateY(-2px)',\n      boxShadow: theme.shadows[4],\n    },\n  },\n  square: {\n    width: '100%',\n    aspectRatio: '1',\n    cursor: 'pointer',\n    overflow: 'hidden',\n    backgroundColor: theme.palette.grey[100],\n    position: 'relative',\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    display: 'block',\n    transition: 'transform 0.2s ease-in-out',\n  },\n  sceneName: {\n    textAlign: 'center',\n    fontSize: '0.8rem',\n    padding: theme.spacing(0.5, 1),\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    backgroundColor: '#f9f9f9',\n    borderTop: '1px solid #eee',\n    minHeight: '2em',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  emptyMessage: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '1.5rem',\n    color: '#666',\n  },\n  loadingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: theme.spacing(4),\n  },\n  paginationContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: theme.spacing(3, 0),\n    gap: theme.spacing(2),\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(2),\n  },\n  paginationButton: {\n    minWidth: 40,\n    height: 40,\n    borderRadius: '50%',\n    border: `1px solid ${theme.palette.divider}`,\n    backgroundColor: 'white',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transition: 'all 0.2s ease-in-out',\n    '&:hover': {\n      backgroundColor: theme.palette.primary.light,\n      color: 'white',\n    },\n    '&.active': {\n      backgroundColor: theme.palette.primary.main,\n      color: 'white',\n      border: `1px solid ${theme.palette.primary.main}`,\n    },\n    '&.disabled': {\n      cursor: 'not-allowed',\n      opacity: 0.5,\n      '&:hover': {\n        backgroundColor: 'white',\n        color: 'inherit',\n      },\n    },\n  },\n  pageInfo: {\n    fontSize: '0.9rem',\n    color: theme.palette.text.secondary,\n    padding: theme.spacing(0, 2),\n  },\n  dialogImage: {\n    maxWidth: '100%',\n    maxHeight: '70vh',  // 减小图片高度以适应输入框\n  },\n  inputContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    padding: theme.spacing(2),\n    backgroundColor: '#fff',\n  },\n  input: {\n    flex: 1,\n  },\n  divContainer: {\n    marginLeft: theme.spacing(1),\n  }\n}));\n\nexport default function Preview({ history, location}) {\n  const [allPics, setAllPics] = useState([]) // 所有图片数据\n  const [currentPage, setCurrentPage] = useState(1) // 当前页码\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imageUrl, setImageUrl] = useState('');\n  const [tripName, setTripName] = useState('');\n  const [nameOfScence, setNameOfScence] = useState('');\n  const [open, setOpen] = useState(false);\n  const [isCover, setIsCover] = useState(false);\n  const [loading, setLoading] = useState(false)\n  const [initialLoading, setInitialLoading] = useState(true)\n  const classes = useStyles();\n  \n  // 分页参数\n  const ITEMS_PER_PAGE = 85; // 每页显示85张图片\n  const totalPages = Math.ceil(allPics.length / ITEMS_PER_PAGE);\n  \n  // 获取当前页图片\n  const currentPics = allPics.slice(\n    (currentPage - 1) * ITEMS_PER_PAGE,\n    currentPage * ITEMS_PER_PAGE\n  );\n\n  // 图片预加载功能\n  const preloadImages = useCallback((imageList, count = 85) => {\n    imageList.slice(0, count).forEach(item => {\n      if (item.url) {\n        const img = new Image();\n        img.src = item.url;\n      }\n    });\n  }, []);\n  \n  // 翻页函数\n  const handlePageChange = useCallback((page) => {\n    setCurrentPage(page);\n    // 滚动到顶部\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n    \n    // 预加载当前页图片\n    const startIndex = (page - 1) * ITEMS_PER_PAGE;\n    const endIndex = startIndex + ITEMS_PER_PAGE;\n    const pagePics = allPics.slice(startIndex, endIndex);\n    preloadImages(pagePics, ITEMS_PER_PAGE);\n  }, [allPics, preloadImages]);\n\n  useEffect(()=>{\n    setInitialLoading(true);\n    axios.get('/api/trip/previewImgs')\n    .then(res => {\n      setAllPics(res.data)\n      // 预加载前85张图片（第一页）\n      if (res.data && res.data.length > 0) {\n        preloadImages(res.data, ITEMS_PER_PAGE);\n      }\n    })\n    .catch(err => console.error('Error fetching images:', err))\n    .finally(() => setInitialLoading(false));\n  }, [preloadImages])\n\n  const handleImageError = (e) => {\n    e.target.style.display = 'none';\n  };\n\n  const handleImageClick = (item) => {\n    console.log(item)\n    setOpen(true)\n    setSelectedImage(item.url);\n    setImageUrl(item.url);\n    setTripName(item.tripName)\n    setNameOfScence(item.nameOfScence)\n    setIsCover(item.cover)\n  };\n\n  const handleClose = () => {\n    setSelectedImage(null);\n    setImageUrl('');\n    setTripName('');\n    setNameOfScence('');\n    setOpen(false)\n  };\n\n  const handleUrlChange = (e) => {\n    const newUrl = e.target.value;\n    setImageUrl(newUrl);\n    setSelectedImage(newUrl);  // 同时更新显示的图片\n  };\n\n  const handleSave = () => {\n    console.log({\n      \"url\": imageUrl,\n      \"nameOfScence\": nameOfScence,\n      \"tripName\": tripName,\n      \"cover\": isCover\n    })\n    axios.post('/api/trip/updatePointImg', {\n      \"url\": imageUrl,\n      \"nameOfScence\": nameOfScence,\n      \"tripName\": tripName,\n      \"cover\": isCover\n    })\n    .then(res => {\n      setAllPics(prevPics => \n        prevPics.map(item => \n          item.nameOfScence === nameOfScence \n            ? { ...item, url: imageUrl} \n            : item\n        )\n      )\n      handleClose()\n    })\n    .catch(err => console.error('Error fetching images:', err));\n  };\n\n  const handleGetImage = async () => {\n    setLoading(true); // 开始加载\n    try {\n      await getIMG(); // 调用获取图片的函数\n    } catch (error) {\n      console.error(\"获取图片失败:\", error);\n    } finally {\n      setLoading(false); // 无论成功或失败，都结束加载\n    }\n  };\n\n\n  const getIMG = async() => {\n    return new Promise((resolve, reject) => {\n      if(nameOfScence){\n      axios.get('/api/trip/getBingImg', {\n        params: {\n          point: nameOfScence\n        }\n      })\n      .then(res => {\n        console.log(res.data, loading)\n        if(res.data){\n          setImageUrl(res.data)\n          setSelectedImage(res.data)\n          resolve();\n        }      \n        })\n      .catch(err => {\n        console.error('Error fetching images:', err)\n        reject(err)\n      });\n      }\n    })\n  }\n\n  return (\n    <div className={classes.root}>\n      <Bar title={'图片预览'} history={history}/>\n      <div className={classes.content}>\n        {initialLoading ? (\n          <div className={classes.loadingContainer}>\n            <Typography>Loading...</Typography>\n          </div>\n        ) : currentPics.length > 0 ? (\n          currentPics.map((item, index) => (\n            <div \n              key={`${currentPage}-${index}`}\n              className={classes.squareContainer}\n            >\n              <div \n                className={classes.square}\n                onClick={() => handleImageClick(item)}\n              >\n                <img \n                  src={item.url}\n                  alt={`preview-${index}`}\n                  className={classes.image}\n                  onError={handleImageError}\n                  loading=\"lazy\"\n                />\n              </div>\n              <Typography variant=\"body2\" className={classes.sceneName}>\n                {item.nameOfScence}\n              </Typography>\n            </div>\n          ))\n        ) : (\n          <div className={classes.emptyMessage}>\n            暂无图片\n          </div>\n        )}\n      </div>\n      \n      {/* 分页组件 */}\n      {totalPages > 1 && (\n        <div className={classes.paginationContainer}>\n          {/* 上一页 */}\n          <div \n            className={`${classes.paginationButton} ${currentPage === 1 ? 'disabled' : ''}`}\n            onClick={() => currentPage > 1 && handlePageChange(currentPage - 1)}\n          >\n            ‹\n          </div>\n          \n          {/* 页码 */}\n          {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => {\n            // 显示逻辑：显示当前页前后2页，加上第一页和最后一页\n            const showPage = page === 1 || page === totalPages || \n                           Math.abs(page - currentPage) <= 2;\n            \n            if (!showPage) {\n              // 显示省略号\n              if (page === currentPage - 3 || page === currentPage + 3) {\n                return (\n                  <span key={page} className={classes.pageInfo}>\n                    ...\n                  </span>\n                );\n              }\n              return null;\n            }\n            \n            return (\n              <div\n                key={page}\n                className={`${classes.paginationButton} ${page === currentPage ? 'active' : ''}`}\n                onClick={() => handlePageChange(page)}\n              >\n                {page}\n              </div>\n            );\n          })}\n          \n          {/* 下一页 */}\n          <div \n            className={`${classes.paginationButton} ${currentPage === totalPages ? 'disabled' : ''}`}\n            onClick={() => currentPage < totalPages && handlePageChange(currentPage + 1)}\n          >\n            ›\n          </div>\n          \n          {/* 页码信息 */}\n          <div className={classes.pageInfo}>\n            第 {currentPage} 页 / 共 {totalPages} 页 (共 {allPics.length} 张图片)\n          </div>\n        </div>\n      )}\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"lg\"\n      >\n        <DialogContent>\n          <img\n            src={selectedImage}\n            alt=\"preview\"\n            className={classes.dialogImage}\n            onError={handleImageError}\n            key={selectedImage}\n          />\n          <div className={classes.inputContainer}>\n            <TextField\n              className={classes.input}\n              value={imageUrl}\n              onChange={handleUrlChange}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n            <Button\n              className={classes.divContainer}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleSave}\n            >\n              保存\n            </Button>\n            <Button\n              className={classes.divContainer}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleGetImage}\n            >\n              {\n               loading ? '获取中...' : '获取图片'\n              }\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","import React, { useState, useEffect, useCallback } from 'react';\nimport Bar from '../components/appbar';\nimport { connect } from 'react-redux';\n\nconst List = ({dispatch, history}) => {\n  const [trips, setTrips] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [pre, setPre] = useState(0);\n\n  const handleScroll = useCallback(() => {\n    const { scrollTop, clientHeight, scrollHeight } = document.documentElement;\n    // 检查是否滚动到底部（距离底部50px以内）\n    if (scrollTop + clientHeight >= scrollHeight - 50) {\n        if(trips.length - pre === 20 && loading === false) {\n            console.log('Loading more trips...');\n            setLoading(true);\n            fetchTrips(page + 1);\n            setPage(page + 1);\n        }\n    }\n  }, [pre, trips.length, loading, page]);\n\n  useEffect(() => {\n    setLoading(true)\n    fetchTrips(page);\n  }, [page]);\n\n  const fetchTrips = async (index) => {\n    try {\n      const response = await fetch(`/api/trip/getAllTrip?page=${index}`);\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json()\n      setTrips([...data]);\n      setLoading(false);\n      if(index > 1) {\n        setPre(trips.length);\n      }\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [handleScroll]);\n\n  const handleImageClick = (trip) => {\n    console.log(trip);\n    history.push({pathname: '/show', params: trip});\n  }\n\n  if (loading && page === 1) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        width: '100vw',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.8)'\n      }}>\n        <div style={{\n          fontSize: '24px',\n          fontWeight: 'bold'\n        }}>Loading...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        width: '100vw',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.8)'\n      }}>\n        <div style={{\n          fontSize: '24px',\n          fontWeight: 'bold',\n          color: 'red'\n        }}>Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ margin: 0, padding: 0 }}>\n      <Bar title={'行程列表'} history={history}/>\n      <div style={{ margin: 0, paddingTop: '50px' }}>\n        {trips.map((trip, index) => (\n          <div \n            key={index} \n            style={{ \n              position: 'relative', \n              margin: 0, \n              padding: 0,\n              cursor: 'pointer' \n            }}\n            onClick={() => handleImageClick(trip)}\n          >\n            {trip.detail && trip.detail[0] && trip.detail[0][0].picURL && (\n              <>\n                <img \n                  src={trip.detail[0][0].picURL} \n                  alt={`Trip ${index}`}\n                  style={{ \n                    height: '150px', \n                    width: '100%', \n                    objectFit: 'cover',\n                    display: 'block',\n                    margin: 0,\n                    padding: 0\n                  }}\n                />\n                <div style={{\n                  position: 'absolute',\n                  top: '50%',\n                  left: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  textAlign: 'center',\n                  color: 'white',\n                  textShadow: '1px 1px 3px rgba(0,0,0,0.8)'\n                }}>\n                  <h2 style={{ margin: 0 }}>{trip.tripName}</h2>\n                  <p style={{ margin: '8px 0 0 0' }}>{`by:${trip.designer}`}</p>\n                </div>\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(List);","import React, { useState, useEffect, useImperativeHandle, forwardRef } from 'react'\nimport AMapLoader from '@amap/amap-jsapi-loader'\nimport '../css/mapView.css'\nimport {\n    getClientHeight,\n    Daytrip,\n    gaodeKey\n} from '../tools'\n\nconst Gaode = forwardRef(({ totalData, data, removeItem, AddOneItem, changePlan, pointIndex }, ref) => {\n    const [mapG, setMapG] = useState(null)\n    const [pointsG, setPointsG] = useState([]) \n    const [windowsG, setWindowsG] = useState([]) \n    const [amapClass, setAmapClass] = useState(null)\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData] = useState(new Daytrip())\n\n    useEffect(() => {\n        console.log('地图开始渲染！', totalData)\n        AMapLoader.load({\n            key: gaodeKey,                     \n            version:\"2.0\",             \n            plugins:['AMap.Scale','AMap.Geolocation','AMap.AutoComplete','AMap.PlaceSearch'],             \n        }).then((AMap)=>{\n            let map = new AMap.Map(\"container\",{ \n                viewMode:\"3D\",       \n                zoom:15,              \n                center:center(data, pointIndex), \n            });\n\n            map.addControl(new AMap.Scale());\n            map.addControl(new AMap.Geolocation());\n\n            let pointsArray = []\n            let infoWindowsArray = []\n            let lonLat = []\n            if(data && data.length > 0){\n                data.forEach((item, index) => {\n                    lonLat.push([parseFloat(item.longitude), parseFloat(item.latitude)])\n                    let window = windowConstructor(AMap, item.nameOfScence, item.des, item.picURL, removeItem, add, editItem, index)\n                    infoWindowsArray.push(window)\n                    let point = markerConstructor(AMap, parseFloat(item.longitude), parseFloat(item.latitude), item.nameOfScence, index)\n                    point.on('click', (obj) => openOrcloseWindow(obj, window, map))\n                    pointsArray.push(point)\n                })\n                map.add(pointsArray);\n                infoWindowsArray[pointIndex].open(map,lonLat[pointIndex]);\n\n                setPointsG(pointsArray)\n                setWindowsG(infoWindowsArray)\n            }\n            setAmapClass(AMap)\n            setMapG(map)\n        })\n        .catch(e=>{\n            console.log(e);\n        })\n    },[totalData, data, data?.length, removeItem])\n\n    const markerConstructor = (amapClass, longitude, latitude, title, extData) => {\n        let point = new amapClass.Marker({\n            position: new amapClass.LngLat(longitude, latitude),\n            title: title,\n            extData: extData\n        })\n        return point\n    }\n\n    const windowConstructor = (amapClass, title, des, picURL, fn, fn1, fn2, index) => {\n        let window = new amapClass.InfoWindow({\n            isCustom: true,\n            content: content (title, des, picURL, fn, fn1, fn2, index), \n            offset: new amapClass.Pixel(0, -30)\n        })\n        return window\n    }\n\n    const center = (data, pointIndex) => {\n        if(data && data.length > 0){\n            return [parseFloat(data[pointIndex].longitude),parseFloat(data[pointIndex].latitude)]\n        } else {\n            return [116.39, 39.9]\n        }\n    }\n\n    const openAPP = () => {\n        const point = data[pointIndex];\n        const { longitude, latitude } = point;\n        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n        const isAndroid = /Android/i.test(navigator.userAgent);\n        let navUrl = '';\n        if (isIOS) {\n            navUrl = `iosamap://path?sourceApplication=NextSticker&dlon=${longitude}&dlat=${latitude}&dev=0&t=2`\n        } else if (isAndroid) {\n            navUrl = `amapuri://route/plan/?sourceApplication=NextSticker&dlat=${latitude}&dlon=${longitude}&dev=0&t=2`;\n        } else {\n            alert('当前设备不支持打开高德地图');\n            return;\n        }\n        window.location.href = navUrl;\n    }\n\n    const content  = (title1, des1, picUrl, fn, fn1, fn2, index) => {\n        var windowContainer = document.createElement(\"div\");\n        windowContainer.className = 'windowContainer'\n        \n        var title = document.createElement(\"div\");\n        title.className = 'title'\n        title.innerHTML = title1\n        windowContainer.appendChild(title)\n\n        var des = document.createElement(\"div\");\n        des.className = 'des'\n        des.innerHTML = des1\n\n        if(des1){\n            windowContainer.appendChild(des)\n        }\n\n        if(picUrl){\n            var imgContainer = document.createElement(\"div\");\n            imgContainer.className = 'imgContainer'\n\n            var img = document.createElement(\"img\");\n            img.className = 'img'\n            img.src = picUrl\n            img.onclick = openAPP\n            imgContainer.appendChild(img)\n            windowContainer.appendChild(imgContainer)\n        } \n\n        return windowContainer\n    }\n\n    const add = () => {\n        console.log(\"添加详细数据弹窗：\")\n        console.log(getInfo())\n        dayData.nameOfScence = getInfo().name\n        dayData.longitude = getInfo().lng\n        dayData.latitude = getInfo().lat\n        setOpen(true)\n    }\n    //排序\n    const editItem = (index) => {\n        setRePlanOpen(true)\n    }\n\n    const getInfo = () => {\n        let obj = {}\n        let points = mapG.getAllOverlays('marker')\n        data.forEach((item) => {\n            for(let i = 0 ; i < points.length ; i++){\n                if(points[i].getTitle() === item.nameOfScence){\n                    points.splice(i, 1)\n                }\n            }\n        })\n        obj.name = points[0].getTitle()\n        obj.lng = points[0].getPosition().lng\n        obj.lat = points[0].getPosition().lat\n        return obj\n    }\n\n    const openOrcloseWindow = (obj, window, map) => {\n        try {\n            console.log(obj.target.getTitle())\n            // 获取点击的 Marker 的坐标\n            const position = obj.target.getPosition();\n            \n            // 如果信息窗体已经打开，则关闭它\n            if (window.getIsOpen()) {\n                window.close();\n            } else {\n                // 否则，在点击的 Marker 位置打开信息窗体\n                window.open(map, position);\n                // 将地图中心移动到该 Marker\n                map.panTo(position);\n            }\n        } catch (error) {\n            console.error('Error in openOrcloseWindow:', error);\n        }\n    };\n\n    const choosePoint = (index) => {\n        if(!windowsG[index].getIsOpen()){\n            windowsG[index].open(mapG,pointsG[index].getPosition());\n        }\n        mapG.panTo(pointsG[index].getPosition())\n    }\n\n    useImperativeHandle(ref, () => ({\n        choosePoint,\n    }));\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n            </div>\n        </div>\n    );\n})\n\nexport default React.memo(Gaode)","import React, { useState, useEffect, Component, useImperativeHandle, forwardRef, useRef } from 'react'\nimport ReactDOM from \"react-dom\";\nimport '../css/mapView.css'\nimport {\n  Map, \n  InfoWindow, \n  Marker, \n  GoogleApiWrapper\n} from 'google-maps-react';\n\nimport {\n    getClientHeight,\n    Daytrip,\n    googleKey,\n    googleMapcontainerStyle,\n} from '../tools'\n\nconst Google = forwardRef(({ google, totalData, data, removeItem, AddOneItem, changePlan, pointIndex }, ref) => {\n    const [mapG, setMapG] = useState(null)\n    const [activeMarker, setActiveMarker] = useState(null)\n    const [centerPointObj, setCenterPointObj] = useState(null)\n    const [titleG, setTitleG] = useState('')\n    const [desG, setDesG] = useState('')\n    const [imgUrl, setImgUrl] = useState('')\n    const [showingInfoWindow, setShowingInfoWindow] = useState(false)\n    const [placeService, setPlaceService] = useState(null)\n    const markersRef = useRef([])\n    useEffect(() => {\n      console.log('google地图开始渲染！', totalData, data)\n      if(data && data.length > 0){\n        setCenter(data[pointIndex])\n      }\n      if(showingInfoWindow){\n        setShowingInfoWindow(false)\n      }\n    },[totalData, data, data?.length, removeItem])\n\n    const setCenter = (data) => {\n      let obj = {}\n      obj.lat = parseFloat(data.latitude)\n      obj.lng = parseFloat(data.longitude)\n      setCenterPointObj(obj)\n    }\n\n    const fetchPlaces = (mapProps, map) => {\n      console.log('地图完成初始化：', mapProps)\n      \n      const {google} = mapProps;\n      let service = new google.maps.places.PlacesService(map)\n      setPlaceService(service)\n      setMapG(map)\n      if (data && data.length > 0) {\n        setTitleG(data[0].nameOfScence);\n        setDesG(data[0].des);\n        setImgUrl(data[0].picURL);\n        setCenterPointObj({\n          lat: parseFloat(data[0].latitude),\n          lng: parseFloat(data[0].longitude),\n        });\n        \n        // 设置第一个 Marker 为 activeMarker\n        // 注意：markersRef.current[0] 可能需要在 Marker 渲染完成后才能访问\n        // 因此可以稍延迟执行（例如使用 setTimeout）\n        setTimeout(() => {\n          if (markersRef.current[0]) {\n            setActiveMarker(markersRef.current[0].marker);\n            setShowingInfoWindow(true);\n          }\n        }, 1000); // 延迟 100ms 确保 Marker 已渲染\n      }\n    }\n\n    const onMarkerClick = (props, marker) => {\n      console.log(marker)\n      let objArray = data.filter((item) => {\n        return item.nameOfScence === props.title\n      })\n      if(objArray[0].nameOfScence !== titleG){\n        setTitleG(objArray[0].nameOfScence)\n        setDesG(objArray[0].des)\n        setImgUrl(objArray[0].picURL)\n        setCenterPointObj(props.position)\n        setActiveMarker(marker)\n        setShowingInfoWindow(true)\n      } else {\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const onMapClicked = (props) => {\n      console.log('点击地图', props)\n    }\n\n    const closeWindow = () => {\n      setTitleG('')\n      setDesG('')\n      setImgUrl('')\n      setActiveMarker(null)\n      setShowingInfoWindow(false)\n    }\n\n    const choosePoint = (index) => {\n        console.log('点击了', index)  \n        setCenter(data[index])\n        const marker = markersRef.current[index];\n        if (marker) {\n          setTitleG(data[index].nameOfScence)\n          setDesG(data[index].des)\n          setImgUrl(data[index].picURL)\n          setActiveMarker(marker.marker);\n          setShowingInfoWindow(true);\n        }\n    }\n\n    useImperativeHandle(ref, () => ({\n        choosePoint,\n    }))\n\n    const openAPP = () => {\n      const point = data[pointIndex];\n      const { latitude, longitude } = point;\n\n      const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n      const isAndroid = /Android/i.test(navigator.userAgent);\n\n      let navUrl = '';\n\n      if (isIOS) {\n        // iOS 使用 comgooglemaps URL Scheme\n        navUrl = `comgooglemaps://?daddr=${latitude},${longitude}&directionsmode=transit`;\n      } else if (isAndroid) {\n        // Android 使用 intent:// scheme\n        navUrl = `intent://maps.google.com/maps?daddr=${latitude},${longitude}&directionsmode=transit#Intent;scheme=https;package=com.google.android.apps.maps;end;`;\n      } else {\n        alert('当前平台暂不支持地图跳转');\n        return;\n      }\n      window.location.href = navUrl;\n    }\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n              {    \n                <Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          ref={(marker) => {\n                            if (marker) markersRef.current[index] = marker;\n                          }}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt='' onClick={openAPP}/>\n                      </div>              \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n              }\n            </div> \n        </div>\n    );\n})\n\nconst GoogleWithRef = forwardRef((props, ref) => {\n    const Wrapped = GoogleApiWrapper({\n        apiKey: (googleKey)\n    })((props) => <Google {...props} ref={ref} />);\n    \n    return <Wrapped {...props} />;\n});\n\nexport default React.memo(GoogleWithRef)\n\nclass InfoWindowEx extends Component {\n  constructor(props) {\n    super(props);\n    this.infoWindowRef = React.createRef();\n    this.contentElement = document.createElement(`div`);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.children !== prevProps.children) {\n      ReactDOM.render(\n        React.Children.only(this.props.children),\n        this.contentElement\n      );\n      this.infoWindowRef.current.infowindow.setContent(this.contentElement);\n    }\n  }\n\n  render() {\n    return <InfoWindow ref={this.infoWindowRef} {...this.props} />;\n  }\n}","import React, { useRef }  from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Collapse from '@material-ui/core/Collapse';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport Link from '@material-ui/core/Link';\nimport Gaode from './gaodeShow';\nimport Google from './googleShow';\nimport clsx from 'clsx';\nimport { ExpandLess, ExpandMore } from '@material-ui/icons';\nimport{\n  setPointIndex,\n} from '../store/action'\nconst MemoizedGaode = React.memo(Gaode);\nconst MemoizedGoogle = React.memo(Google);\nconst drawerWidth = 200;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    //padding: theme.spacing(3),\n  },\n  contentMode: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  drawerTitle: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  btn: {\n    marginTop: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  mapContainer: {\n    // backgroundColor: theme.palette.secondary.main,\n    // padding: 0,\n    // margin: 0,\n    // width: '100%',\n    // height: '100%',\n  },\n  coverBTN: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'end'\n  },\n  coverUrlTextContainer: {\n    width: '100%',\n  }\n}));\n\nfunction ResponsiveDrawer({window, trip, dispatch, location, pointIndex}) {\n  \n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  \n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  \n  const [data] = React.useState(trip || location.params)\n\n  const [open] = React.useState(false)//模式\n\n  const gaodeRef = useRef()\n  const googleRef = useRef()\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const clickPoint = (data, item) => {\n    let obj = data?.detail.flat(Infinity).map((item1, index) => ({ item1, index })).filter(({ item1 }) => item1.nameOfScence === item.nameOfScence)\n    //dispatch(setPointIndex(obj[0].index))\n    if (gaodeRef.current && data.domestic === 1) {\n      gaodeRef.current.choosePoint(obj[0].index)\n    } else if (googleRef.current && data.domestic === 0){\n      googleRef.current.choosePoint(obj[0].index)\n    }\n    setMobileOpen(!mobileOpen);\n  }\n\n  const drawer = (\n    <div>\n      {/* 在 Drawer 内部添加 AppBar */}\n      <AppBar position=\"static\" color=\"primary\" elevation={0}>\n        <Toolbar>\n          <Typography variant=\"h6\">行程信息如下：</Typography>\n        </Toolbar>\n      </AppBar>\n      \n      <Divider />\n      \n      {/* 可折叠列表 */}\n      <List>\n        {data?.detail?.map((day, dayIndex) => (\n          <React.Fragment key={dayIndex}>\n            <ListItem \n              button \n              onClick={() => setSelectedIndex(dayIndex)}\n              selected={selectedIndex === dayIndex}\n            >\n              <ListItemText primary={`第 ${dayIndex + 1} 天`} />\n              {selectedIndex === dayIndex ? (\n                <ExpandLess style={{ marginRight: 8 }} />\n              ) : (\n                <ExpandMore style={{ marginRight: 8 }} />\n              )}\n            </ListItem>\n            {/* 可折叠的子项列表 */}\n            <Collapse in={selectedIndex === dayIndex} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n                {day.map((item, itemIndex) => (\n                  <ListItem \n                    key={itemIndex} \n                    button \n                    sx={{ pl: 4 }}\n                    onClick={() => clickPoint(data, item)}\n                  >\n                    <ListItemText primary={item.nameOfScence} />\n                  </ListItem>\n                ))}\n              </List>\n            </Collapse>\n          </React.Fragment>\n        ))}\n      </List>\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n  //console.log(data.detail[selectedIndex])\n  const mapData = React.useMemo(() => data.detail.flat(Infinity), [data.detail]);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {\n      data\n      ?<React.Fragment>\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap className={classes.title}>\n              <Link color=\"inherit\" href=\"/editinit\">\n                地图数据编辑\n              </Link>\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant={ \"temporary\"} \n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={clsx(!open && classes.content, open && classes.contentMode)}>\n        { \n         data.domestic === 1 \n         ?<MemoizedGaode \n            data={mapData}\n            totalData={data.detail}\n            ref={gaodeRef}\n            pointIndex={pointIndex}\n          />\n          :<MemoizedGoogle\n            data={mapData}\n            totalData={data.detail}\n            ref={googleRef}\n            pointIndex={pointIndex}\n          />\n        }     \n        </main>\n      </React.Fragment>\n      :null\n      }\n    </div>\n  );\n}\n\nResponsiveDrawer.propTypes = {\n  window: PropTypes.func,\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(ResponsiveDrawer);","import React, { useState, useEffect } from 'react';\nimport Bar from '../components/appbar';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport io from 'socket.io-client';\nimport axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    maxWidth: '100%',\n    padding: theme.spacing(2),\n    boxSizing: 'border-box',\n  },\n  toolbar: theme.mixins.toolbar,\n  row: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    boxSizing: 'border-box',\n  },\n  text: {\n    fontSize: '14px',\n    color: theme.palette.text.primary,\n    paddingLeft: theme.spacing(1),\n  },\n  progressList: {\n    marginTop: theme.spacing(2),\n    maxHeight: '400px',\n    overflowY: 'auto',\n    border: '1px solid #ccc',\n    padding: theme.spacing(1),\n    borderRadius: 4,\n  },\n  progressItem: {\n    marginBottom: theme.spacing(1),\n  },\n}));\n\nconst Test = ({ dispatch, history }) => {\n  const classes = useStyles();\n  const [status, setStatus] = useState('等待检测...');\n  const [progress, setProgress] = useState([]); // 存储每个景点的进度\n  const [socket, setSocket] = useState(null);\n\n  // 初始化 Socket.IO 连接\n  useEffect(() => {\n    const s = io(); // 默认连接当前域名\n    setSocket(s);\n\n    s.on('progress', data => {\n      setProgress(prev => [...prev, data]); // 每次收到新的进度追加\n    });\n\n    return () => {\n      s.disconnect();\n    };\n  }, []);\n\n  // 点击按钮调用服务器接口，将任务加入队列\n  const handleCheck = async () => {\n    setStatus('正在检测...');\n    setProgress([]); // 重置进度列表\n    try {\n      const res = await axios.get('/api/trip/checkUrlQueue'); // 后端队列接口\n      if (res.data && res.data.message) {\n        setStatus('任务已加入后台队列');\n      } else {\n        setStatus('任务已加入后台队列');\n      }\n    } catch (err) {\n      setStatus('任务加入失败');\n    }\n  };\n\n  return (\n    <div style={{ margin: 0, padding: 0 }}>\n      <Bar title={'测试图片链接'} history={history} />\n\n      <div className={classes.toolbar} />\n\n      <div className={classes.root}>\n        <div className={classes.row}>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleCheck}>\n            检测图片链接\n          </Button>\n          <span className={classes.text}>{status}</span>\n        </div>\n\n        {/* 实时进度列表 */}\n        <div className={classes.progressList}>\n          {progress.map((item, index) => (\n            <div key={index} className={classes.progressItem}>\n              {item.tripName} - {item.pointName}: {item.status}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect(\n  state => state,\n  dispatch => ({ dispatch })\n)(Test);\n","import React from 'react'\nimport { Route, Redirect, withRouter, Switch} from 'react-router-dom'\n\nimport { connect } from 'react-redux';\n\nimport Index from '../pages/index'\nimport Submit from '../pages/submit'\nimport SubmitArrange from '../pages/submitArrange'\nimport Signin from '../commonComponents/signin'\nimport Logon from '../commonComponents/logon'\nimport Photos from '../commonComponents/photos'\nimport EditInit from '../commonComponents/editinit'\nimport Story from '../commonComponents/story'\nimport PhotosInput from '../commonComponents/photosInput'\nimport PhotosEdit from '../commonComponents/photosEdit'\nimport TotalStorys from '../commonComponents/totalStorys'\nimport TotalTrips from '../commonComponents/totalTrips'\nimport Client from '../commonComponents/client'\nimport Edit from '../commonComponents/edit'\nimport Preview from '../commonComponents/preview'\nimport List from '../commonComponents/list'\nimport Show from '../commonComponents/show'\nimport Test from '../commonComponents/test'\n\nconst RouteController = ({user, path, component: Component, ...rest}) => {\n\t//console.log(user,path)\n\treturn(\n\t\t<Route \n\t\t\t{...rest}\n\t\t\trender = {\n\t\t\t\t(props) =>  (user ? <Component {...props} /> : <Redirect to=\"/signin\" />)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst EditController = ({trip, component: Component, ...rest}) => {\n\t//console.log({...rest})\n\treturn(\n\t\t<Route \n\t\t\t{...rest}\n\t\t\trender = {\n\t\t\t\t(props) =>  (props.location.params || trip ? <Component {...props} /> : <Redirect to=\"/editinit\" />)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst InjectedRoute = withRouter(connect(function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(RouteController))\n\nconst InjectedEditRoute = withRouter(connect(function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(EditController))\n\nexport default () => \n\t<Switch>\n\t\t<InjectedRoute path='/' component ={Index} exact key='main'/>,\n\t\t<InjectedRoute path='/submit' component ={Submit} exact key='submit'/>,\n\t\t<InjectedRoute path='/submitArrange' component ={SubmitArrange} exact key='submitArrange'/>,\n\t\t<Route path='/signin' component ={Signin} exact key='signin'/>,\n\t\t<Route path='/logon' component ={Logon} exact key='logon'/>,\n\t\t<Route path='/photos' component ={Photos} exact key='photos'/>,\n\t\t<InjectedRoute path='/photosInput' component ={PhotosInput} exact key='photosInput'/>,\n\t\t<InjectedRoute path='/photosEdit' component ={PhotosEdit} exact key='photosEdit'/>,\n\t\t<InjectedRoute path='/story' component ={Story} exact key='story'/>,\n\t\t<InjectedRoute path='/totalStorys' component ={TotalStorys} exact key='totalstorys'/>,\n\t\t<InjectedRoute path='/client' component ={Client} exact key='client'/>,\n\t\t<InjectedRoute path='/editinit' component ={EditInit} exact key='editinit'/>,\n\t\t<InjectedRoute path='/totalTrips' component ={TotalTrips} exact key='totalTrips'/>,\n\t\t<InjectedEditRoute path='/edit' component ={Edit} exact key='edit'/>,\n\t\t<InjectedRoute path='/preview' component={Preview} exact key='preview'/>,\n\t\t<InjectedRoute path='/list' component={List} exact key='list'/>,\n\t\t<InjectedRoute path='/test' component={Test} exact key='test'/>,\n\t\t<InjectedEditRoute path='/show' component ={Show} exact key='show'/>,\n\t\t{/* <Route path='*' exact key='404' render = {() => (<Redirect to=\"/signin\" />)}/>, */}\n\t</Switch>\n","import {\n  SET_NEXTSTICKERUSERSINCREASED,\n  SET_ALL,\n  SET_LOADING,\n\tSET_USER,\n  SET_FENYE,\n\tSET_PAGE,\n  SET_WORKERS,\n  SET_CHART_DATA,\n  SET_TABLE_DATA,\n  SET_ARRANGEDATA,\n  SET_ARRANGEDATA_ARRAY,\n  SET_ARRANGEDATA_DELETE,\n  SET_LEFT,\n  SET_RIGHT,\n  SET_TRIP,\n  SET_ITEM,\n  SET_PAGEINDEX,\n  SET_POINT_INDEX\n} from './action'\n\nimport { \n  ATTANGEDATA,\n  expire,\n  saveData,\n  workers, \n  format, \n  whichPage\n} from '../tools';\n\nexport default {\n  chartData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_CHART_DATA:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  tableData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_TABLE_DATA:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  left(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_LEFT:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  right(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_RIGHT:\n        return payload;\n      default:\n    }\n    return state;\n  },\n\tuser(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_USER:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  trip(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_TRIP:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  item(state = '', action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ITEM:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  all(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ALL:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  loading(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_LOADING:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  whichPage(state = whichPage, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_PAGE:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  pointIndex(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_POINT_INDEX:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  fenye(state = 1, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_FENYE:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  nextstickerUsersIncreased(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_NEXTSTICKERUSERSINCREASED:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  workers(state = format(workers), action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_WORKERS:\n        let arr = [...state]\n        arr.forEach((i) => {\n          i.forEach((item, index) => {\n            if(payload && item.name === payload){\n              item.isChoosed = !item.isChoosed\n            } else if(!payload){\n              item.isChoosed = false\n            }\n          })\n        })\n        return arr;\n      default:\n    }\n    return state;\n  },\n  list(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_WORKERS:\n        if(!payload){\n          return []\n        }\n        let newList1 = [...state]\n        if(newList1.length > 0){\n          let index = newList1.findIndex(i => i === payload)\n          if(index > -1){\n            newList1.splice(index, 1)\n          } else {\n            newList1.push(payload)\n          }\n        } else {\n          newList1.push(payload)\n        }\n        return newList1;\n      default:\n    }\n    return state;\n  },\n  arrangeData(state = [], action){\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ARRANGEDATA:\n        const { date, list } = payload\n        let data = {'date': date, 'list': list}\n        let arr = [...state]\n        let index = arr.findIndex( i => i.date === date)\n        if(index > -1){\n          arr.splice(index, 1, data)\n        } else {\n          arr.push(data)\n          arr.sort(function(a, b){return a.date - b.date})\n        }\n        saveData(ATTANGEDATA, arr, expire)\n        return arr;\n      case SET_ARRANGEDATA_ARRAY:\n        let arr2 = [...payload]\n        return arr2;\n      case SET_ARRANGEDATA_DELETE:\n        let arr1 = [...state]\n        arr1.splice(payload, 1)\n        saveData(ATTANGEDATA, arr1, expire)\n        return arr1;\n      default:\n    }\n    return state;\n  },\n  pageIndex(state = 1, action){\n    const { type, payload } = action;\n    switch (type) {\n      case SET_PAGEINDEX:\n        return payload;\n      default:\n    }\n    return state;\n  }\n}","import axios from 'axios'\nimport { push } from 'connected-react-router'\nimport { all, put, takeEvery } from 'redux-saga/effects'\nimport {\n  setUser,\n  setWorker,\n  setArrangeDataArray,\n  setPage,\n  setChartData,\n  setTableData,\n  setAll,\n  setLoading,\n  setFenye,\n  setLeft,\n  setRight,\n  setTrip,\n  setItem,\n\n  SET_LIST_SAGA,\n  GET_ARRANGEDATA_SAGA,\n  GET_USER_SAGA,\n  LOGIN_SAGA,\n  REGISTER_SAGA,\n  LOGOUT_SAGA,\n  SUBMIT_SAGA,\n  COUNT_SAGA,\n  PHOTOS_SAGA,\n  NEWTRIP_SAGA,\n  NEWITEM_SAGA,\n  SAVETRIP_SAGA,\n} from './action'\n\nimport { \n  ATTANGEDATA,\n  USER,\n  TOKEN,\n  expire,\n  workers, \n  readData,\n  deleteData,\n  saveData,\n  width,\n  pic,\n  getImg,\n  Trip\n} from '../tools'\n\n\n\nfunction* check(action){\n  const { payload } = action;\n  let index = workers.findIndex(i => i.name === payload)\n  if (index > -1){\n    yield put(setWorker(payload))\n  } else {\n    return \n  }\n}\n\nfunction* getArrangeData(){\n  let cache = readData(ATTANGEDATA)\n  if (cache && Date.now() < cache.expires) {\n    yield put(setArrangeDataArray(cache.data))\n    return\n  } else if(cache){\n    deleteData(ATTANGEDATA)\n  } else {return}\n}\n\nfunction* getUserData(){\n  let cache = readData(USER)\n  if (cache && Date.now() < cache.expires) {\n    yield put(setUser(cache.data))\n    return\n  } else if(cache){\n    deleteData(USER)\n  } else {return}\n}\n\nfunction* loginSaga(action){\n  try{\n    const data = yield axios.post('/api/users/login',{...action.payload})\n      if(data.data){\n        yield put(setUser(data.data.name))\n        saveData(USER, data.data.name, expire)\n        saveData(TOKEN, data.data.token, expire)\n        yield put(push('/'))\n      } else {\n        alert('查无此人！')\n      }\n  }catch(e){\n    alert(e)\n  }\n  \n}\n\nfunction* registerSaga(action){\n  try{\n    const data = yield axios.post('/api/users',{...action.payload})\n    if(data.data && typeof data.data === 'string'){\n      alert('用户已存在，请直接登录！')\n    } else if(data.data && typeof data.data === 'object'){\n      alert('注册成功！！')\n    } else {\n      alert('系统出错，稍后再试！')\n    }\n  }\n  catch(e){\n    alert(e)\n  }\n}\n\nfunction* logoutSaga(){\n  yield axios.post('/api/users/logout')\n  yield put(setUser(null))\n  deleteData(USER)\n  deleteData(TOKEN)\n  yield put(setPage(0))\n}\n\nfunction* submitSaga(action){\n  const work = yield axios.post('/api/work/submit',{...action.payload},{\n    headers: {'Authorization': 'Bearer ' +readData(TOKEN).data}\n  })\n  if(work.data){\n    yield put(push('/'))\n  }\n}\n\nfunction* countSage(action){\n  yield put(setLoading(true))\n  const work = yield axios.get('/api/work/count',{params: {\n    page: action.payload\n  }})\n  //console.log(work.data.output)\n  yield put(setChartData(work.data.output))\n  yield put(setTableData(work.data.arrWork))\n  yield put(setAll(work.data.total))\n  yield put(setLoading(false))\n  let page = action.payload + 1\n  yield put(setFenye(page))\n}\n\nfunction* photosSage(action){\n  //console.log(action.payload)\n  \n  let a = []\n  let prevLeft = 0;\n  let prevRight = 0;\n  let right = []\n  let left = []\n\n  for (let i = 0 ; i < pic.length ; i++){\n    let b = yield getImg(pic[i], width)\n    a.push(b)\n    if(prevLeft >= prevRight){\n      right.push(a[i])\n      prevRight = prevRight + a[i].height\n    } else {\n      left.push(a[i])\n      prevLeft = prevLeft + a[i].height\n    }\n  }\n\n  yield put(setLeft(left))\n  yield put(setRight(right))\n}\n\nfunction* newTripSage (action) {\n  if(typeof action.payload === 'object'){\n    console.log(action.payload)\n    const {tripName, designer, uid, domestic, city, country, tags, cover} = action.payload\n    try{\n      const trip = yield axios.get('/api/trip/get',{params: {\n        uid: uid\n      }})\n      if(trip.data){\n        alert('该行程编号对应的行程已存在！')\n        yield put(setTrip(trip.data))\n        yield put(push('/edit'))\n      } else {\n        //let obj = new Daytrip()\n        let newTrip = new Trip(uid, tripName, designer, domestic, city, country, tags, cover ,[[]])\n        console.log(newTrip)\n        yield put(setTrip(newTrip))\n        yield put(push('/edit'))\n      }\n    }catch(err){\n      alert(err)\n    }\n  } else {\n    try{\n      const trip = yield axios.get('/api/trip/get',{params: {\n        uid: action.payload\n      }})\n      if(trip.data){\n        yield put(setTrip(trip.data))\n        yield put(push('/edit'))\n      } else {\n        alert('无对应的行程！')\n      }\n    }catch(err){\n      alert(err)\n    }\n  }\n}\n\nfunction* saveTripSage (action) {\n  try{\n    const trip = yield axios.post('/api/trip/new',{...action.payload})\n    if(trip.data){\n      alert('保存成功！')\n      yield put(push('/editinit'))\n    }\n  }catch(err){\n    alert(err)\n  }\n}\n\nfunction* newItemSage (action){\n  try{\n    const item = yield axios.post('/api/trip/newItem',{...action.payload})\n    if(item.data){\n      alert('添加成功！')\n      yield put(setItem(''))\n    } else{\n      alert('不可添加重复的文章！！')\n    }\n  }catch(err){\n    alert(err)\n  }\n}\n\nexport default function* mySaga (){\n\tyield all(\n    [\n      takeEvery(SET_LIST_SAGA, check),\n      takeEvery(GET_ARRANGEDATA_SAGA, getArrangeData),\n      takeEvery(GET_USER_SAGA, getUserData),\n      takeEvery(LOGIN_SAGA, loginSaga),\n      takeEvery(REGISTER_SAGA, registerSaga),\n      takeEvery(LOGOUT_SAGA, logoutSaga),\n      takeEvery(SUBMIT_SAGA, submitSaga),\n      takeEvery(COUNT_SAGA, countSage),\n      takeEvery(PHOTOS_SAGA, photosSage),\n      takeEvery(NEWTRIP_SAGA, newTripSage),\n      takeEvery(NEWITEM_SAGA, newItemSage),\n      takeEvery(SAVETRIP_SAGA, saveTripSage),\n    ]\n  )\n}","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\n\nimport reducer from './reducer'\nimport {workers, format, whichPage} from '../tools'\nimport mySaga from './sagas'\n\nexport const history = createBrowserHistory()\n\nconst routeMiddleware = routerMiddleware(history)\nconst sagaMiddleware = createSagaMiddleware()\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    combineReducers({\n    \t...reducer,\n    \trouter: connectRouter(history),\n    }),\n    { \n      fenye: 1,\n      all: 0,\n      loading: false,\n      user: null,\n      chartData: null,\n      tableData: null,\n      whichPage: whichPage,\n      workers: format(workers),\n      list: [],\n      arrangeData: [],\n      left: [],\n      right: [],\n      trip: null,\n      item: '',\n      pageIndex: 1,\n      nextstickerUsersIncreased: 0,\n      pointIndex: 0\n    },\n    composeEnhancers(applyMiddleware(routeMiddleware, sagaMiddleware))\n);\n\nsagaMiddleware.run(mySaga)\n\nexport default store","import React from 'react';\nimport Routes from './routers';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { Provider } from 'react-redux';\nimport store, { history } from './store/store'\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t<Routes />\n\t\t\t</ConnectedRouter>\n\t\t</Provider>\n\t)\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nif ('production' === process.env.NODE_ENV) {\n  serviceWorker.register();\n} else {\n  serviceWorker.unregister();\n}\n"],"sourceRoot":""}