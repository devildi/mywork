{"version":3,"sources":["components/bottomNavigation.js","components/appbar.js","components/fab.js","components/table.js","components/tab.js","tools.js","commonComponents/chart.js","pages/chart.js","commonComponents/DateSelector.jsx","pages/arrange.js","pages/profile.js","store/action.js","pages/index.js","components/date.js","pages/submit.js","pages/submitArrange.js","commonComponents/signin.js","commonComponents/logon.js","commonComponents/photos.js","commonComponents/editinit.js","commonComponents/story.js","commonComponents/photosInput.js","commonComponents/photosEdit.js","commonComponents/totalStorys.js","commonComponents/totalTrips.js","commonComponents/client.js","commonComponents/mapView.js","commonComponents/googleMapView.js","commonComponents/edit.js","routers/index.js","store/reducer.js","store/sagas.js","store/store.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","root","width","position","right","bottom","borderTop","Navigation","props","classes","whichPage","onSelect","nextstickerUsersIncreased","BottomNavigation","value","onChange","event","newValue","className","BottomNavigationAction","icon","Badge","badgeContent","color","theme","textAlign","Bar","title","history","AppBar","Toolbar","IconButton","edge","onClick","goBack","margin","spacing","FloatingActionButtons","add","push","clear","arrange","useHistory","Fab","aria-label","table","minWidth","SimpleTable","rows","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","length","Fragment","map","row","index","key","scope","Date","date","getMonth","getDate","shootnums","program","des","TabPanel","children","other","Typography","role","hidden","id","aria-labelledby","Box","p","backgroundColor","palette","background","paper","div","height","FullWidthTabs","useTheme","React","useState","setValue","Tabs","indicatorColor","textColor","variant","scrollButtons","item","Tab","label","whose","name","a11yProps","axis","direction","onChangeIndex","dir","googleMapcontainerStyle","picUrl","vedioUrl","avatarUrl","saveData","str","data","expire","window","localStorage","setItem","JSON","stringify","expires","now","readData","parse","getItem","deleteData","removeItem","h0","timestamp","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","roles","format","workers","filter","i","isChoosed","days","fomatURL","url","includes","split","falmatData","array","colorArray","Math","floor","random","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","getScrollHeight","max","scrollHeight","getOrigiHeight","Promise","resolve","reject","img","Image","src","set","setInterval","clearInterval","getImg","screenWidth","a","outHeight","clientWidth","checkNullInObj","obj","pic","Trip","uid","tripName","designer","domestic","city","country","tags","detail","this","Daytrip","nameOfScence","longitude","latitude","picURL","pointOrNot","contructor","category","done","style","display","flexDirection","flexWrap","padding","borderRadius","filterUser","arr","Object","keys","flex","justifyContent","alignItems","Chart","strokeDasharray","dataKey","type","stroke","Day","day","getDay","dateString","classnames","Week","idx","Month","startingTimeInMonth","block","startDay","currentDay","setDate","Array","fill","concat","weeks","week","slice","colSpan","getFullYear","DateSelector","which","h1","monthSequence","month","paddingBottom","div1","marginBottom","border","chip","top","div2","div3","overflow","Data","toArrange","clearDay","showMessage","setShowMessage","useEffect","Grow","in","timeout","e","stopPropagation","clearThisDay","list","index1","Chip","Arrange","arrangeData","paddingTop","avatar","btn","marginTop","fontSize","container","Profile","user","logout","flag","pushTo","pathname","Avatar","Grid","xs","elevation","Button","startIcon","setTrip","payload","setLoading","loading","setPageIndex","setFenye","page","setUser","setPage","setWorker","whichIsChoosed","setRight","countSaga","newTripSaga","connect","state","dispatch","A","fenye","chartData","tableData","all","tableDataRef","useRef","allRef","fenyeRef","setWidth","current","addEventListener","resize","removeEventListener","scroll","getlength","findIndex","styles","createStyles","withStyles","selectedDate","setSelectedDate","utils","DateFnsUtils","DatePicker","$d","autoOk","inputVariant","form","submit","setShootnums","setProgram","setDes","noValidate","autoComplete","TextField","v","alert","trim","location","dateRef","setListSaga","innerHTML","clickable","disabled","ref","vedioBackground","minHeight","zIndex","backgroundRepeat","backgroundSize","backgroundImage","left","topBlock","avatarContainer","secondary","main","fix","notFix","font","BootstrapInput","input","borderBottom","common","white","InputBase","Copyright","Link","href","setScrollHeight","setName","password","setPassword","Container","maxWidth","CssBaseline","placeholder","fullWidth","onSubmit","proload","autoPlay","loop","muted","getBorderRadius","auth","setAuth","console","log","overFlow","circular","alt","CircularProgress","textField","handleMouseDownPassword","preventDefault","uid1","setUid1","setTripName","setDesigner","setUid","setDomestic","setCity","setCountry","setTags","FormControl","clsx","InputLabel","htmlFor","Input","endAdornment","InputAdornment","onMouseDown","parseInt","passedData","params","articleName","setArticleName","setPicURL","articleURL","setArticleURL","undefined","setHeight","getWidthAndHeight","axios","get","InputProps","updatedObj","post","then","res","status","catch","err","listContainer","imgContainer","maxHeight","img2","dele","pageIndex","total","setTotal","dataArray","setDataArray","items","previous","next","_id","splice","_jump","ListItem","button","ListItemText","primary","users","setUsers","getdata","destination","wechat","MapComponent","totalData","AddOneItem","changePlan","mapG","setMapG","pointsG","setPointsG","windowsG","setWindowsG","aMapClass","setAmapClass","result","setResult","open","setOpen","rePlanOpen","setRePlanOpen","dayData","setDayData","cache","setCache","replanIndex","setReplanIndex","AMapLoader","load","version","plugins","AMap","Map","viewMode","zoom","center","addControl","Scale","Geolocation","pointsArray","infoWindowsArray","lonLat","forEach","parseFloat","windowConstructor","editItem","point","markerConstructor","on","openOrcloseWindow","amapClass","extData","Marker","LngLat","fn","fn1","fn2","InfoWindow","isCustom","content","offset","Pixel","title1","des1","windowContainer","createElement","appendChild","onclick","rePlan","appand","check","getInfo","lng","lat","getAllOverlays","getTitle","getPosition","getIsOpen","close","lnglat","panTo","closeModal","changeContent","c","replan","newIndex","removedIndex","addedIndex","indexARRAY","indexArr","j","OutlinedInput","remove","clearInfoWindow","PlaceSearch","search","info","poiList","pois","List","inJectPoint","choosePoint","Divider","Dialog","onClose","DialogTitle","multiline","orientation","groupName","getChildPayload","deleteItem","replanStart","onDrop","item2","index2","GoogleApiWrapper","apiKey","google","activeMarker","setActiveMarker","centerPointObj","setCenterPointObj","titleG","setTitleG","desG","setDesG","imgUrl","setImgUrl","showingInfoWindow","setShowingInfoWindow","placeService","setPlaceService","cacheMarker","setCacheMarker","setCenter","geometry","fetchPlaces","mapProps","service","maps","places","PlacesService","onMarkerClick","marker","objArray","onMapClicked","test","closeWindow","containerStyle","onReady","visible","setMap","request","query","fields","findPlaceFromQuery","results","PlacesServiceStatus","OK","error","infowindow","ariaLabel","addListener","anchor","InfoWindowEx","infoWindowRef","createRef","contentElement","prevProps","ReactDOM","render","Children","only","setContent","Component","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","flexGrow","contentMode","drawerTitle","mapContainer","trip","mobileOpen","setMobileOpen","selectedIndex","setSelectedIndex","setData","change","handleDrawerToggle","newData","o","ListItemIcon","text","selected","removeDay","noWrap","checkInArray","innerArray","Hidden","smUp","implementation","Drawer","ModalProps","keepMounted","xsDown","InjectedRoute","withRouter","path","rest","to","InjectedEditRoute","Index","exact","Submit","SubmitArrange","Signin","Logon","Photos","PhotosInput","PhotosEdit","Story","TotalStorys","Client","EditInit","TotalTrips","Edit","action","newList1","sort","b","arr2","arr1","getArrangeData","getUserData","loginSaga","registerSaga","logoutSaga","submitSaga","countSage","photosSage","newTripSage","saveTripSage","newItemSage","mySaga","put","token","headers","work","output","arrWork","prevLeft","prevRight","newTrip","takeEvery","createBrowserHistory","routeMiddleware","routerMiddleware","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","reducer","router","connectRouter","applyMiddleware","run","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","getElementById","URL","process","origin","fetch","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0b25685d.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ProfileIcon from '@material-ui/icons/AccountCircle';\nimport Badge from '@material-ui/core/Badge'\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    borderTop:'1px solid #A9A9A9',\n  },\n});\n\nexport default function Navigation(props) {\n  const classes = useStyles();\n\n  const { \n    whichPage,\n    onSelect,\n    nextstickerUsersIncreased\n   } = props\n\n  return (\n    <BottomNavigation\n      value={whichPage}\n      onChange={(event, newValue) => {\n        onSelect(newValue)\n      }}\n      className={classes.root}\n    >\n      <BottomNavigationAction icon={\n        <Badge badgeContent={nextstickerUsersIncreased} color=\"secondary\">\n          <ProfileIcon />\n        </Badge>\n      } \n      />\n      <BottomNavigationAction icon={<FavoriteIcon />} />\n      <BottomNavigationAction icon={<RestoreIcon />} />\n    </BottomNavigation>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/ArrowBackIos';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n  },\n}));\n\nexport default function Bar ({title, history}) {\n\tconst classes = useStyles();\n\tconst back = () => {\n\t\t//history.push('/')\n\t\thistory.goBack()\n\t}\n\treturn (\n\t<AppBar>\n\t\t<Toolbar>\n\t\t\t{\n\t\t\t\thistory \n\t\t\t\t? <IconButton edge=\"start\" color=\"inherit\" onClick={back}>\n\t\t\t\t\t<MenuIcon />\n\t\t\t\t</IconButton> \n\t\t\t\t: null\n\t\t\t}\n\t\t\t<div className={classes.root}>\n\t\t\t\t<p>{title}</p>\n\t\t\t</div>\n\t\t</Toolbar>\n    </AppBar>\n\t)\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\n\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      position: 'fixed',\n      right: theme.spacing(1),\n      bottom: theme.spacing(8),\n    },\n  },\n}));\n\nexport default function FloatingActionButtons({add, push, clear, arrange}) {\n  const classes = useStyles();\n  let history = useHistory();\n\n  const click = () => {\n    history.push('./submit')\n  }\n\n  const back = () => {\n    history.goBack()\n    if(arrange) { clear() }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Fab \n        color=\"primary\" \n        aria-label=\"add\"\n        onClick={push ? click : back}\n      >\n        {\n          add \n          ? <AddIcon /> \n          : <ArrowBack />\n        }\n      </Fab>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: '650',\n  },\n});\n\nexport default function SimpleTable({rows}) {\n  const classes = useStyles();\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple dense table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>日期</TableCell>\n            <TableCell align=\"right\">镜头</TableCell>\n            <TableCell align=\"right\">节目</TableCell>\n            <TableCell align=\"right\">描述</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n        {\n          rows && rows.length > 0\n        ?<React.Fragment>\n          {rows.map((row, index) => (\n            <TableRow key={index}>\n              <TableCell component=\"th\" scope=\"row\">\n                {`${new Date(row.date).getMonth()+1}月${new Date(row.date).getDate()}日`}\n              </TableCell>\n              <TableCell align=\"right\">{row.shootnums}</TableCell>\n              <TableCell align=\"right\">{row.program}</TableCell>\n              <TableCell align=\"right\">{row.des}</TableCell>\n            </TableRow>\n          ))}\n        </React.Fragment>\n        :null\n        }\n          \n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Table from './table'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  div: {\n    height: theme.spacing(7)\n  }\n}));\n\nexport default function FullWidthTabs({rows}) {\n  //console.log('rows', rows)\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = index => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      {\n        rows && rows.length\n      ?<React.Fragment>\n        <AppBar position=\"static\" color=\"default\">\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n            scrollButtons=\"auto\"\n            aria-label=\"scrollable auto tabs example\"\n          >\n          {\n            rows.map((item, index) => (\n              <Tab key={index}label={item[0].whose.name} {...a11yProps(index)} />\n            ))\n          }\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n          index={value}\n          onChangeIndex={handleChangeIndex}\n        >\n        {\n          rows.map((item, index) => (\n              <TabPanel key={index}value={value} index={index} dir={theme.direction}>\n                <Table rows={item}/>\n              </TabPanel>\n            )\n          )\n        }\n        </SwipeableViews>\n        <div className={classes.div}></div>\n      </React.Fragment>\n      :null\n      } \n    </div>\n  );\n}","export const authority = 'wudi'\nexport const googleMapcontainerStyle = {\n\tposition: 'relative',  \n\twidth: '100%',\n\theight: '100%'\n}\nexport const picUrl = [\n'https://cn.bing.com/th?id=OIP.WMpknoaU9SsncVEW7W6SzAHaLH&pid=Api&rs=1',\n'http://youimg1.c-ctrip.com/target/fd/tg/g4/M0A/CA/30/CggYHlbEXmaAYGfJAAnFAUl5-Pk911.jpg'\n]\nconst vedioUrlArray = [\n\t'https://cdn.moji.com/websrc/video/video621.mp4',\n\t'https://res.cloudinary.com/dnfhsjz8u/video/upload/v1584691245/DJI_20191006_114520_418_fl2drt.mp4'\n]\nexport const googleKeyWudi = 'AIzaSyAJHnZaO6czTIkkftjQNdtNcjL52pMxsIY'\nexport const googleKey = 'AIzaSyB5LS2bbGE_Iw1e7Dc3_al7glDliILip_c'\nexport const gaodeKey = 'fbe59813637de60223e3d22805a2486c'\nexport const vedioUrl = vedioUrlArray[0]\nexport const avatarUrl=\"https://res.cloudinary.com/dnfhsjz8u/image/upload/v1620372687/u_4168080911_4188088242_fm_15_gp_0_qfgrpg.jpg\"\n//localStorage\nexport const ATTANGEDATA = 'ARRANGEDATA'\nexport const USER = 'USER'\nexport const TOKEN = 'TOKEN'\nexport const expire = 3000//S\n\nexport const isVedio = true\nexport const whichPage = 0\n\nexport function saveData(str, data, expire){\n\twindow.localStorage.setItem(\n    str,\n    JSON.stringify({\n    \texpires: Date.now() + expire * 1000,\n      \tdata: data,\n    })\n  );\n}\n\nexport function readData(str){\n\tconst cache = JSON.parse(\n    window.localStorage.getItem(str) || '{}'\n  );\n  return cache\n}\n\nexport function deleteData(str){\n\twindow.localStorage.removeItem(str);\n}\n\nexport function h0(timestamp = Date.now()) {\n  const target = new Date(timestamp);\n  target.setHours(0);\n  target.setMinutes(0);\n  target.setSeconds(0);\n  target.setMilliseconds(0);\n  return target.getTime();\n}\n\nexport function h1(date , which){\n\tlet day = null\n\tlet block = null\n\tif(which === 0 && date > 6){\n\t\tday = date - 6\n\t}\n\t else if(which === 0 && date <= 6) {\n\t\tday = 1\n\t} else {\n\t\tday = date + 1 - which\n\t}\n\n\tif(day === 1 && which !== 1){\n\t\tblock = which - 1\n\t} else {\n\t\tblock = 0\n\t}\n\treturn{day, block}\n}\n\nexport function flatten(arr) {  \n  return arr.reduce((result, item) => {\n    return result.concat(Array.isArray(item) ? flatten(item) : item);\n  }, []);\n}\n\nconst roles = ['高级柜员', '柜员', '主管', '客户经理']\n\nexport function format(workers){\n\treturn [ \n\t\tworkers.filter((i) => i.role === '高级柜员'),\n\t\tworkers.filter((i) => i.role === '客户经理'),\n\t\tworkers.filter((i) => i.role === '主管'),\n\t\tworkers.filter((i) => i.role === '柜员'),\n\t]\n}\n\nexport const workers = [\n\t{\n\t\tname: '鞠小露',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠露',\n\t\trole: roles[1],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '小露',\n\t\trole: roles[2],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠小44',\n\t\trole: roles[3],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠66',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n\t{\n\t\tname: '鞠小露突突突',\n\t\trole: roles[0],\n\t\tisChoosed: false,\n\t\tdays: 0\n\t},\n]\nexport function fomatURL(url){\n\tif(url.includes('src=\"')){\n\t\tlet array =  url.split('src=\"')\n\t\tlet array1 = array[1].split('\"')\n\t\t//console.log(array1[0])\n\t\treturn array1[0]\n\t}else {\n\t\treturn url\n\t}\n} \n\nexport function falmatData(array){\n\tif(array && array.length > 0){\n\t\t\tfor(let i=0; i < array.length; i++){\n\t\t\tarray[i].name = (new Date(array[i].name).getMonth()+1) +'/' + (new Date(array[i].name).getDate())\n\t\t}\n\t\treturn array\n\t} else {\n\t\treturn array\n\t}\n}\n\nexport function color(){\n\tlet colorValue=\"0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f\";\n\tlet colorArray = colorValue.split(\",\");\n\tlet color=\"#\"\n\tfor(var i=0;i<6;i++){\n\t\tcolor+=colorArray[Math.floor(Math.random()*16)];\n\t}\n\tif(color === '#ffffff'){\n\t\tcolor()\n\t} else return color\n}\n\nexport function getScrollTop(){\n\tlet scrollTop=0\n\tif(document.documentElement&&document.documentElement.scrollTop)\n\t{\n\t\tscrollTop=document.documentElement.scrollTop\n\t}\n\telse if(document.body)\n\t{\n\t\tscrollTop=document.body.scrollTop\n\t}\n\treturn scrollTop\n}\n//获取视窗高度\nexport function getClientHeight(){    \n  let clientHeight=0\n  if(document.body.clientHeight&&document.documentElement.clientHeight){    \n      clientHeight=(document.body.clientHeight<document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight            \n  }else{    \n      clientHeight=(document.body.clientHeight>document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight       \n  }    \n  return clientHeight\n}\n//获取文档内容实际高度\nexport function getScrollHeight(){    \n  return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);   \n}\n\nexport const getOrigiHeight = (url) => new Promise((resolve, reject) => {\n\tlet img = new Image()\n\timg.src = url;\n\tlet check = function(){\n  \tif(img.width>0 || img.height>0) {\n\t    \tclearInterval(set);\n\t\t\tresolve(img)\n  \t\t}\n\t}\n\tlet set = setInterval(check,10)\n})\n\nexport const getImg = async (url, screenWidth) => {\n\tlet img = await getOrigiHeight(url)\n\tlet outHeight = Math.floor(img.height * screenWidth / img.width)\n\timg.height = outHeight\n\timg.width = screenWidth\n\treturn img\n}\n\nexport const width = Math.floor(document.body.clientWidth / 2)\n\nexport const checkNullInObj = (obj) => {\n\tfor (let key in obj){\n\t\tif(obj[key] === ''){\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const checkInArray = (arr) => {\n\tfor (let i = 0; i < arr.length; i++){\n\t\tif(arr[i].length === 0){\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const pic = [\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.RiVuBdPbyZfUqwaC_rMgaAHaFj?w=200&h=189&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.PjwD3caT4zGrmyx5OSmsXQHaE7?w=285&h=185&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse4-mm.cn.bing.net/th/id/OIP.D9KCoJ2Szl3p8iiUt1XQ7wHaJQ?w=166&h=198&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP.SAwRQOIAiwRcVE35WAu3lgHaEK?w=293&h=164&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP.kzjuEOfhlRGHlAU7XTcRtgHaNJ?w=115&h=184&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.rb333I9ISUGd2y2bjn-qiQAAAA?w=299&h=194&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.qEiMn_h7rMBHf9QlQw8k2QHaEo?w=260&h=162&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse2-mm.cn.bing.net/th/id/OIP._-DDuCgiElSuM37yuL-x9wHaE4?w=275&h=177&c=7&o=5&dpr=2&pid=1.7',\n\t'https://tse3-mm.cn.bing.net/th/id/OIP.s_SXVVhK1MZhrGXQjWdOUAHaFm?w=212&h=160&c=7&o=5&dpr=2&pid=1.7'\n]\n\nexport class Trip {\n\tconstructor(\n\t\tuid: '',\n\t\ttripName: '',\n\t\tdesigner: '',\n\t\tdomestic: 1,\n\t\tcity: '',\n\t\tcountry: '',\n\t\ttags: '',\n\t\tdetail: [],\n\t\t) {\n\t\tthis.uid = uid;\n\t\tthis.tripName = tripName\n\t\tthis.designer = designer\n\t\tthis.domestic = domestic\n\t\tthis.city = city;\n\t\tthis.country = country;\n\t\tthis.tags = tags;\n\t\tthis.detail = detail\n\t}\n}\n\nexport class Daytrip{\n\tconstructor(\n\t\tnameOfScence = '', \n\t\tlongitude = '', \n\t\tlatitude = '',\n\t\tdes = '',\n\t\tpicURL = '',\n\t\tpointOrNot = true,\n\t\tcontructor = 'contructor',\n\t\tcategory = 0,\n\t\tdone = false\n\t\t) {\n\t  this.nameOfScence = nameOfScence;\n\t  this.longitude = longitude\n\t  this.latitude = latitude\n\t  this.des = des\n\t  this.picURL = picURL\n\t  this.pointOrNot = pointOrNot\n\t  this.contructor = contructor\n\t  this.category = category\n\t  this.done = done\n\t}\n}\n\nexport const style = {\n    width: '400px',\n    margin: '5px',\n    height: '100px',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: '5px',\n    backgroundColor: '#f0f0f0',\n    borderRadius: '5px',\n}","import React from 'react';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { color } from '../tools'\n\nconst filterUser = (arr) => {\n  if(arr){\n    let arr1 = Object.keys(arr[0])\n    let arr2 = arr1.filter(i => i !== 'name')\n    return arr2\n  } else return null\n}\n\nconst useStyles = makeStyles(theme => ({\n  root:{\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n}));\n\nexport default function Chart ({data, width}) {\n  //console.log(data)\n  const classes = useStyles();\n  return (\n    <React.Fragment>\n    {\n      filterUser(data)\n      ?<LineChart\n        width={width}\n        height={200}\n        data={data}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        {\n          filterUser(data).map((i) => {\n            return (\n              <Line \n                type=\"monotone\" \n                key={i}\n                dataKey={i} \n                stroke={color()}\n              />\n            )\n          })\n        }\n      </LineChart>\n      :<div className={classes.root}>\n        暂无数据\n      </div>\n    }\n    </React.Fragment>\n  )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Fab from '../components/fab'\nimport Tab from '../components/tab'\nimport Chart from '../commonComponents/chart'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height:'100%',\n  },\n}));\n\nexport default function ({data, rows, width}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Chart data={data} width={width}/>\n      <Tab rows={rows}/>\n      <Fab add push/>\n    </div>\n  )\n}","import React from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { h0, h1} from '../tools';\n\nimport './DateSelector.css';\n\nfunction Day(props) {\n  const { day, onSelect } = props;\n\n  if (!day) {\n    return <td className=\"null\"></td>;\n  }\n\n  const classes = [];\n\n  const now = h0();\n\n  if (day < now) {\n    classes.push('disabled');\n  }\n\n  if ([6, 0].includes(new Date(day).getDay())) {\n    classes.push('weekend');\n  }\n\n  const dateString = now === day ? '今天' : new Date(day).getDate();\n\n  return (\n    <td \n      className={classnames(classes)} \n      onClick={() => onSelect(day)}\n    >\n      {dateString}\n    </td>\n  );\n}\n\nDay.propTypes = {\n  day: PropTypes.number,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Week(props) {\n  const { days, onSelect } = props;\n\n  return (\n    <tr className=\"date-table-days\">\n      {days.map((day, idx) => {\n          return <Day key={idx} day={day} onSelect={onSelect} />;\n      })}\n    </tr>\n  );\n}\n\nWeek.propTypes = {\n  days: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Month(props) {\n  const { startingTimeInMonth, onSelect, block } = props;\n  const startDay = new Date(startingTimeInMonth);\n  const currentDay = new Date(startingTimeInMonth);\n  let days = [];\n//currentDay.getMonth() === startDay.getMonth()\n  while (days.length !== (21 - block)) {\n    days.push(currentDay.getTime());\n    currentDay.setDate(currentDay.getDate() + 1);\n      //console.log(currentDay.getMonth())\n  }\n  days = new Array(startDay.getDay() ? startDay.getDay() - 1 : 6)\n      .fill(null)\n      .concat(days);\n\n  //const lastDay = new Date(days[days.length - 1]);\n\n  // days = days.concat(\n  //     new Array(lastDay.getDay() ? 7 - lastDay.getDay() : 0).fill(null)\n  // );\n\n  const weeks = [];\n\n  for (let row = 0; row < days.length / 7; ++row) {\n    const week = days.slice(row * 7, (row + 1) * 7);\n    weeks.push(week);\n  }\n\n  return (\n    <table className=\"date-table\">\n      <thead>\n        <tr>\n          <td colSpan=\"7\">\n            <h5>\n              {new Date().getFullYear()}年{new Date().getMonth() + 1}月\n            </h5>\n          </td>\n        </tr>\n      </thead>\n        <tbody>\n          <tr className=\"data-table-weeks\">\n            <th className=\"date-table-th\">周一</th>\n            <th className=\"date-table-th\">周二</th>\n            <th className=\"date-table-th\">周三</th>\n            <th className=\"date-table-th\">周四</th>\n            <th className=\"date-table-th\">周五</th>\n            <th className=\"weekend\">周六</th>\n            <th className=\"weekend\">周日</th>\n          </tr>\n          {weeks.map((week, idx) => {\n            return <Week \n              key={idx} \n              days={week} \n              onSelect={onSelect} \n            />;\n          })}\n        </tbody>\n    </table>\n  );\n}\n\nMonth.propTypes = {\n  startingTimeInMonth: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default function DateSelector(props) {\n  const { onSelect } = props;\n\n  const now = new Date();\n  const date = new Date().getDate();\n  const which = new Date().getDay();\n\n  now.setHours(0);\n  now.setMinutes(0);\n  now.setSeconds(0);\n  now.setMilliseconds(0);\n\n  const {day, block} = h1(date, which)\n\n  now.setDate(day);\n\n  const monthSequence = [now.getTime()];\n\n  // now.setMonth(now.getMonth() + 1);\n  // monthSequence.push(now.getTime());\n\n  // now.setMonth(now.getMonth() + 1);\n  // monthSequence.push(now.getTime());\n\n  return (\n    <div className={classnames('date-selector')}>\n      <div className=\"date-selector-tables\">\n        {monthSequence.map(month => {\n          return (\n            <Month\n              key={month}\n              onSelect={ onSelect }\n              startingTimeInMonth={month}\n              block={block}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nDateSelector.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n};","import React, { useState, useEffect} from 'react';\nimport Days from '../commonComponents/DateSelector'\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RemoveIcon from '@material-ui/icons/Clear';\nimport Typography from '@material-ui/core/Typography';\nimport Grow from '@material-ui/core/Grow';\nimport '../css/index.css';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    paddingBottom: theme.spacing(7)\n  },\n  div1: {\n  \tpadding: theme.spacing(0.5),\n  \tmarginBottom: theme.spacing(2),\n  \tborder:'1px solid #f0f0f0',\n    borderRadius: theme.spacing(1),\n    backgroundColor: '#f0f0f0'\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.5, 0.5 ,0),\n  },\n  title: {\n    position: 'relative',\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    right: 0\n  },\n  div2: {\n    display: 'flex',\n    justifyContent: \"center\",\n    //alignItems: 'center',\n    height:'100%'\n  },\n  div3: {\n    height: '100%',\n    overflow: 'hidden'\n  }\n}));\n\nfunction Data ({arr, toArrange, clearDay}){\n  const [showMessage, setShowMessage] = useState(false);\n\tconst classes = useStyles();\n\n  const clearThisDay = (e, index) => {\n    e.stopPropagation()\n    clearDay(index)\n  }\n\n  useEffect(()=>{\n    if(arr.length !== 0){\n      setShowMessage(true)\n    }\n  }, [arr.length])\n\n\treturn (\n\t\t<div className={classes.div}>\n  \t{\n  \t\tarr.map((i,index) => {\n  \t\t\treturn(\n          <Grow\n            in={showMessage}\n            key={index}\n            {...(showMessage ? { timeout: 500 * index } : {})}\n          >\n    \t\t\t\t<div \n              className={classes.div1} \n              key={i.date}\n              onClick={() => toArrange(index)}\n            > \n              <div className={classes.title}>\n      \t\t\t\t\t<Typography \n      \t\t\t\t\t\tvariant=\"h6\" \n      \t\t\t\t\t\tcomponent=\"h2\"\n      \t\t\t\t\t>\n                  {`${new Date(i.date).getMonth() + 1}月${new Date(i.date).getDate()}日排班情况：`}\n                </Typography>\n                <RemoveIcon \n                  className={classes.icon}\n                  onClick={(e) => clearThisDay(e,index)}\n                />\n              </div>\n  \t\t      \t<div>\n  \t\t      \t\t{\n  \t\t      \t\t\ti.list.map((row,index1) => (\n  \t\t      \t\t\t\t<Chip \n  \t\t                color=\"primary\"\n  \t\t                key={row}\n  \t\t                label={row} \n  \t\t                className={classes.chip}\n  \t\t                variant={'outlined'}\n  \t\t              />\n  \t\t      \t\t\t))\n  \t\t      \t\t}\n  \t\t      \t</div>\n  \t      \t</div>\n          </Grow>\n  \t\t\t)\n  \t\t})\n  \t}\n  \t</div>\n\t)\n}\n\nfunction Arrange({onSelect, arrangeData, toArrange, clearDay}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.div3}>\n      <Days onSelect={onSelect}/>\n      {\n      \tarrangeData && arrangeData.length > 0 \n        ? <Data \n            arr={arrangeData}\n            toArrange={toArrange}\n            clearDay={clearDay}\n          /> \n        : <div className={classes.div2}>\n            暂无数据\n          </div>\n      }\n    </div>\n  );\n}\n\nexport default Arrange;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport { authority, avatarUrl } from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    height: '100%',\n    overflow: 'hidden'\n  },\n  avatar: {\n  \twidth: theme.spacing(13),\n    height: theme.spacing(13),\n  },\n  btn: {\n  \tmarginTop: theme.spacing(4),\n  \twidth: theme.spacing(20),\n  },\n  paper: {\n    height: theme.spacing(10),\n    fontSize: 20,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  container: {\n    padding: theme.spacing(5,1,0,1)\n  },\n  div: {\n    height: theme.spacing(9)\n  }\n}));\n\nexport default function Profile ({user, logout, history, flag}) {\n\tconst classes = useStyles();\n  const logon = () => {\n    if(user === authority){\n      history.push('/logon')\n    }\n  }\n\n  const pushTo = (str) => {\n    history.push({pathname: str});\n  }\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Avatar \n        className={classes.avatar}\n        onClick={logon}\n        src={avatarUrl}\n      >\n        {user}\n      </Avatar>\n      <Grid container spacing={1} className={classes.container}>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/photosInput')}>照片录入</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/photosEdit')}>所有照片</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/story')}>瀑布流数据编辑</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/totalStorys')}>所有瀑布流数据</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/editinit')}>行程设计</Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/totalTrips')}>全部行程</Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <Paper elevation={3} className={classes.paper} onClick={() => pushTo('/client')}>{flag ? '有新增用户' : 'NextSticker的全体客户'}</Paper>\n        </Grid>\n      </Grid>\n\t\t\t<Button\n        variant=\"contained\"\n        color=\"secondary\"\n        startIcon={<ExitToApp />}\n        className={classes.btn}\n        onClick={() => logout()}\n      >\n        退出登录\n      </Button>\n      <div className={classes.div}></div>\n\t\t</div>\n\t)\n}","export const SET_ALL = 'SET_ALL';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SET_FENYE = 'SET_FENYE'\nexport const SET_USER = 'SET_USER';\nexport const SET_PAGE = 'SET_PAGE';\nexport const SET_WORKERS = 'SET_WORKERS';\nexport const SET_LIST = 'SET_LIST';\nexport const SET_ARRANGEDATA = 'SET_ARRANGEDATA';\nexport const SET_ARRANGEDATA_ARRAY = 'SET_ARRANGEDATA_ARRAY';\nexport const SET_ARRANGEDATA_DELETE = 'SET_ARRANGEDATA_DELETE';\nexport const SET_CHART_DATA = 'SET_CHART_DATA'\nexport const SET_TABLE_DATA = 'SET_TABLE_DATA'\nexport const SET_LEFT = 'SET_LEFT';\nexport const SET_RIGHT = 'SET_RIGHT';\nexport const SET_TRIP = 'SET_TRIP';\nexport const SET_ITEM = 'SET_ITEM';\nexport const SET_PAGEINDEX = 'SET_PAGEINDEX';\nexport const SET_NEXTSTICKERUSERSINCREASED = 'SET_NEXTSTICKERUSERSINCREASED'\n\nexport const SET_LIST_SAGA = 'SET_LIST_SAGA';\nexport const GET_ARRANGEDATA_SAGA = 'GET_ARRANGEDATA_SAGA';\nexport const GET_USER_SAGA = 'GET_USE_SAGA';\nexport const LOGIN_SAGA = 'LOGIN_SAGA';\nexport const REGISTER_SAGA = 'REGISTER_SAGA_SAGA';\nexport const LOGOUT_SAGA = 'LOGOUT_SAGA';\nexport const SUBMIT_SAGA = 'SUBMIT_SAGA';\nexport const COUNT_SAGA = 'COUNT_SAGA';\nexport const PHOTOS_SAGA = 'PHOTOS_SAGA';\nexport const NEWTRIP_SAGA = 'NEWTRIP_SAGA';\nexport const NEWITEM_SAGA = 'NEWITEM_SAGA';\nexport const SAVETRIP_SAGA = 'SAVETRIP_SAGA';\n\nexport function setTrip(data) {\n  return {\n    type: SET_TRIP,\n    payload: data,\n  };\n}\n\nexport function setItem(data) {\n  return {\n    type: SET_ITEM,\n    payload: data,\n  };\n}\n\nexport function setAll(all) {\n  return {\n    type: SET_ALL,\n    payload: all,\n  };\n}\n\nexport function setLoading(loading) {\n  return {\n    type: SET_LOADING,\n    payload: loading,\n  };\n}\n\nexport function setPageIndex(index) {\n  return {\n    type: SET_PAGEINDEX,\n    payload: index,\n  };\n}\n\nexport function setChartData(chartData) {\n  return {\n    type: SET_CHART_DATA,\n    payload: chartData,\n  };\n}\n\nexport function setTableData(tableData) {\n  return {\n    type: SET_TABLE_DATA,\n    payload: tableData,\n  };\n}\n\nexport function setFenye(page) {\n  return {\n    type: SET_FENYE,\n    payload: page,\n  };\n}\n\nexport function setNextstickerusersincreaesd(num) {\n  return {\n    type: SET_NEXTSTICKERUSERSINCREASED,\n    payload: num,\n  };\n}\n\nexport function setUser(user) {\n  return {\n    type: SET_USER,\n    payload: user,\n  };\n}\n\nexport function setPage(whichPage) {\n  return {\n    type: SET_PAGE,\n    payload: whichPage,\n  };\n}\n\nexport function setWorker(whichIsChoosed) {\n  return {\n    type: SET_WORKERS,\n    payload: whichIsChoosed,\n  };\n}\n\nexport function setList(list) {\n  return {\n    type: SET_LIST,\n    payload: list,\n  };\n}\n\nexport function setLeft(list) {\n  return {\n    type: SET_LEFT,\n    payload: list,\n  };\n}\n\nexport function setRight(list) {\n  return {\n    type: SET_RIGHT,\n    payload: list,\n  };\n}\n\nexport function setArrangeData(arrangeData){\n  return {\n    type: SET_ARRANGEDATA,\n    payload: arrangeData,\n  };\n}\n\nexport function setArrangeDataArray(arrangeDataArray){\n  return {\n    type: SET_ARRANGEDATA_ARRAY,\n    payload: arrangeDataArray,\n  };\n}\n\nexport function setArrangeDataDelete(index){\n  return {\n    type: SET_ARRANGEDATA_DELETE,\n    payload: index,\n  };\n}\n\nexport function setListSaga(list) {\n  return {\n    type: SET_LIST_SAGA,\n    payload: list,\n  };\n}\n\nexport function getArrangeDataSaga() {\n  return {\n    type: GET_ARRANGEDATA_SAGA\n  };\n}\n\nexport function getUserDataSaga() {\n  return {\n    type: GET_USER_SAGA\n  };\n}\n\nexport function loginSaga(payload) {\n  return {\n    type: LOGIN_SAGA,\n    payload: payload,\n  };\n}\n\nexport function registerSaga(payload) {\n  return {\n    type: REGISTER_SAGA,\n    payload: payload,\n  };\n}\n\nexport function logoutSaga() {\n  return {\n    type: LOGOUT_SAGA\n  };\n}\n\nexport function submitSaga(payload) {\n  return {\n    type: SUBMIT_SAGA,\n    payload: payload,\n  };\n}\n\nexport function countSaga(payload) {\n  return {\n    type: COUNT_SAGA,\n    payload: payload,\n  };\n}\n\nexport function photosSaga(payload) {\n  return {\n    type: PHOTOS_SAGA,\n    payload: payload,\n  };\n}\n\nexport function newTripSaga(payload) {\n  return {\n    type: NEWTRIP_SAGA,\n    payload: payload,\n  };\n}\n\nexport function newItemSaga(payload) {\n  return {\n    type: NEWITEM_SAGA,\n    payload: payload,\n  };\n}\n\nexport function saveTripSaga(payload) {\n  return {\n    type: SAVETRIP_SAGA,\n    payload: payload,\n  };\n}","import React, {useState, useEffect, useRef} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport io from 'socket.io-client'\n\nimport { connect } from 'react-redux'\n\nimport BottomNavigation from '../components/bottomNavigation'\nimport Bar from '../components/appbar'\n\nimport Chart from './chart'\nimport Arrange from './arrange'\nimport Profile from './profile'\nimport '../css/index.css'\nimport {\n  setPage,\n  setWorker,\n  setArrangeDataDelete,\n  getArrangeDataSaga,\n  logoutSaga,\n  countSaga,\n  //setNextstickerusersincreaesd\n} from '../store/action'\n\nimport { \n  h0, \n  falmatData,\n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(8, 0, 0, 0),\n    height: '100%'\n  },\n}));\n\nfunction getlength(arr){\n  let length = 0\n  if(arr){\n    for(let i = 0; i < arr.length; i++){\n      length = length + arr[i].length\n    }\n    return length\n  }else return length\n}\n//程序入口：\nfunction Index(props) {\n  const A = ['用户', '排班', '办公数据']\n  const {\n    user,\n    whichPage,\n    fenye,\n    history,\n    arrangeData,\n    chartData,\n    tableData,\n    all,\n    loading,\n    nextstickerUsersIncreased,\n    dispatch\n  } = props\n\n\tconst classes = useStyles()\n  \n\n  const tableDataRef = useRef();\n  const allRef = useRef();\n  const fenyeRef = useRef();\n\n  const [width, setWidth] = useState(document.body.clientWidth)\n\n  // useEffect(() => {\n  //   const socket = io(\"ws://localhost:3000\");\n  //   socket.on('init', (data) => {\n  //     console.log(data);\n  //   })\n  // }, [])\n\n  useEffect(() => {\n    tableDataRef.current = tableData\n    allRef.current = all\n    fenyeRef.current = fenye\n  });\n\n  useEffect(()=>{\n    window.addEventListener('resize', resize)\n    return () => {\n      window.removeEventListener('resize', () => {})\n    }\n  }, [])\n\n  const resize = () => {\n    setWidth(document.body.clientWidth)\n  }\n\n  useEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20&& !loading){\n      if(getlength(tableDataRef.current) < allRef.current){\n        dispatch(countSaga(fenyeRef.current))\n      } else {\n        return \n      }\n    }\n  }\n  //SSE===========================\n  // useEffect(() => {\n  //   const socket = io()\n  //   console.log('完成Socket连接！')\n  //   socket.on('addClient', msg => {\n  //     let num = nextstickerUsersIncreased\n  //     num++\n  //     dispatch(setNextstickerusersincreaesd(num))\n  //   })\n  // }, [dispatch, nextstickerUsersIncreased])\n\n  useEffect(() => {\n    dispatch(countSaga(1))\n    dispatch(getArrangeDataSaga())\n  }, [dispatch])\n\n  const onSelect = (p) => {dispatch(setPage(p))}\n\n  const onSelect1 = (day) => {\n    const now = h0();\n    if(day < now){\n      return\n    }\n\n    if(arrangeData && arrangeData.length > 0){\n\n      let index = arrangeData.findIndex(i => i.date === day)\n      if(index > -1){\n        let array = arrangeData[index].list\n        for(let index = 0; index < array.length; index++){\n          dispatch(setWorker(array[index]))\n        }\n      }\n    }\n\n    history.push({pathname: '/submitArrange',payload: { date: day }});\n  }\n\n  const toArrange = (i) => {\n    let array = arrangeData[i].list\n    for(let index = 0; index < array.length; index++){\n      dispatch(setWorker(array[index]))\n    }\n    history.push({pathname: '/submitArrange',payload: { date: arrangeData[i].date }});\n  }\n\n  const clearDay = (i) => {\n    dispatch(setArrangeDataDelete(i))\n  }\n\n  const logout = () => {\n    dispatch(logoutSaga())\n  }\n\n  return (\n\t\t<div className={classes.root}>\n    {\n      whichPage === 0\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Profile \n          user={user} \n          logout={logout}  \n          history={history}\n          flag={nextstickerUsersIncreased > 0} \n        />\n      </React.Fragment>\n    }\n    {\n      whichPage === 1\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Arrange \n          history={history} \n          onSelect={onSelect1} \n          arrangeData={arrangeData}\n          toArrange={toArrange}\n          clearDay={clearDay}\n        />\n      </React.Fragment>\n    }\n    {\n      whichPage === 2\n      &&<React.Fragment>\n        <Bar title={A[whichPage]} />\n        <Chart data={falmatData(chartData)} rows={tableData} width={width}/>\n      </React.Fragment>\n    }\n    \t<BottomNavigation \n        onSelect={onSelect} \n        whichPage={whichPage}\n        nextstickerUsersIncreased={nextstickerUsersIncreased}\n      />\n    </div>\n  )\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Index);","import React from 'react';\nimport DateFnsUtils from '@date-io/dayjs';\nimport {\n  MuiPickersUtilsProvider,\n  DatePicker,\n} from '@material-ui/pickers';\n\nimport { createStyles, withStyles, makeStyles } from '@material-ui/core/styles';\nimport { h0 } from '../tools'\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n}));\n\nfunction MaterialUIPickers({getDate}) {\n  const classes = useStyles();\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n\n  const handleDateChange = date => {\n    setSelectedDate(date);\n    getDate(h0(date.$d))\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <DatePicker\n        value={selectedDate} \n        onChange={handleDateChange}\n        autoOk\n        variant=\"inline\"\n        inputVariant=\"outlined\"\n        format=\"YYYY/MM/DD\"\n        className={classes.root}\n      />\n    </MuiPickersUtilsProvider>\n  );\n}\n\nconst styles = createStyles(theme => ({\n  \n}));\n\nexport default withStyles(styles)(MaterialUIPickers);","import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\nimport { connect } from 'react-redux';\nimport Fab from '../components/fab'\nimport DateC from '../components/date'\n\nimport { h0 } from '../tools'\n\nimport{\n  submitSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  }\n}));\n\nfunction BasicTextFields({dispatch}) {\n  const classes = useStyles();\n\n  const [shootnums, setShootnums] = useState(0)\n  const [program, setProgram] = useState('')\n  const [des, setDes] = useState('')\n  const [date, setDate] = useState(h0())\n\n  const onSubmit = () => {\n    if(!shootnums || !program){\n      return alert('有未填项！')\n    }\n    const obj = {\n      shootnums: shootnums.trim(),\n      program: program.trim(),\n      des: des ? des.trim() : des,\n      date: date\n    }\n    dispatch(submitSaga(obj))\n  }\n\n  const getDate = (v) => {\n    setDate(v)\n  }\n\n  return (\n    <div className={classes.root}>\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField \n          className={classes.submit} \n          id=\"number\" \n          label=\"镜头数\" \n          variant=\"outlined\"\n          onChange={(e) => {setShootnums(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"name\" \n          label=\"节目名字\" \n          variant=\"outlined\"\n          onChange={(e) => {setProgram(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"sth\" \n          label=\"备注\" \n          variant=\"outlined\"\n          onChange={(e) => {setDes(e.target.value)}}\n        />\n        <div className={classes.submit}>\n          <DateC getDate={getDate}/>\n        </div>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          startIcon={<SubdirectoryArrowRightIcon />}\n          onClick={onSubmit}\n        >\n          提交\n        </Button>\n      </form>\n      <Fab />\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(BasicTextFields);","import React, {useRef} from 'react';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\n\nimport Fab from '../components/fab'\n\nimport {\n  setWorker,\n  setListSaga,\n  setArrangeData,\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    border:'1px solid #f0f0f0',\n    borderRadius: theme.spacing(1),\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.5, 0.5 ,0),\n  }\n}));\n\nfunction SubmitArrange(props) {\n  const classes = useStyles();\n  const { \n    workers,\n    dispatch,\n    list,\n    location,\n    history\n   } = props\n\n  const dateRef = useRef()\n  if(!location.payload){\n    history.push('/')\n    return null\n  }\n  dateRef.current = location.payload.date\n  let day = dateRef.current\n\n  const onSelect = (e) => {\n    dispatch(setListSaga(e.target.innerHTML))\n  }\n\n  const submitArrange = () => {\n    dispatch(setArrangeData({date: day, list: list}))\n    dispatch(setWorker())\n    \n    history.goBack()\n  }\n\n  const clear = () => {\n    dispatch(setWorker())\n  }\n\n  return (\n    <div className={classes.root}>\n      {\n        workers.map((row, index) => (\n          <div className={classes.div} key={index}>\n            <Typography variant=\"h6\" component=\"h2\">\n              {row[0].role}\n            </Typography>\n            <div>\n              {\n                row.map(item => (\n                  <Chip \n                    color=\"primary\"\n                    key={item.name}\n                    label={item.name} \n                    variant={item.isChoosed ? \"default\" : 'outlined'}\n                    className={classes.chip}\n                    clickable\n                    onClick={onSelect}\n                  />\n                ))\n              }\n            </div>\n          </div>\n        ))\n      }\n      <Button \n        variant=\"contained\" \n        color=\"primary\" \n        className={classes.submit}\n        startIcon={<SubdirectoryArrowRightIcon />}\n        onClick={submitArrange}\n        disabled={list.length > 0 ? false : true}\n        ref={dateRef}\n      >\n        {`完成${new Date(day).getMonth() + 1}月${new Date(day).getDate()}日的排班：`}\n      </Button>\n      <Fab arrange clear={clear}/>\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n      return state;\n  },\n  function mapDispatchToProps(dispatch) {\n      return { dispatch };\n  }\n)(SubmitArrange);","import React , {useState, useEffect} from 'react';\nimport Link from '@material-ui/core/Link';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport InputBase from '@material-ui/core/InputBase';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  withStyles,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport { connect } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport{\n  loginSaga,\n  getUserDataSaga,\n} from '../store/action'\n\nimport { \n  picUrl,\n  vedioUrl,\n  isVedio,\n  avatarUrl,\n  getClientHeight,\n  getScrollHeight\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  container:{\n    overflow: 'hidden'\n  },\n  vedioBackground: {\n    position: 'fixed',//视频定位方式设为固定\n    right: 0,\n    bottom: 0,//视频位置\n    minWidth: '100%',\n    minHeight: '100%', //不会因视频尺寸造成页面需要滚动\n    width: 'auto',\n    height: 'auto', //尺寸保持原视频大小\n    zIndex: -10,//z轴定位，小于0即可\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  background: {\n    backgroundImage: `url(${picUrl[0]})`,\n    position:'fixed',\n    top: 0,\n    left: 0,\n    width:'100%',\n    height:'100%',\n    zIndex:-10,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  topBlock: {\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  block: {\n    height: '45px',\n  },\n  avatarContainer: {\n    margin: theme.spacing(1),\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: '45px'\n  },\n  fix: {\n    position: 'absolute',\n    textAlign: 'center',\n    bottom: 0,\n    right: 0,\n    left: 0,\n    color: '#fff'\n  },\n  notFix: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  font: {\n    color: '#fff'\n  }\n}));\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderTop: props =>\n      props.top === 'true'\n        ? ''\n        : 'none',\n    borderBottom: props =>\n      props.top === 'ture'\n        ? 'none'\n        : '',\n    borderRadius: props =>\n      props.top === 'true'\n        ? '5px 5px 0 0'\n        : '0 0 5px 5px',\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #fff',\n    fontSize: 16,\n    width: '100%',\n    height: '24px',\n    padding: '10px 12px',\n  },\n\n}))(InputBase);\n\nfunction Copyright({height, scrollHeight}) {\n  const classes = useStyles();\n  return (\n    <Typography \n      variant=\"body2\" \n      color=\"textSecondary\" \n      className={height === scrollHeight ? classes.fix : classes.notFix}\n    >\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"/logon\">\n        DevilDI\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nfunction SignIn({user, dispatch}) {\n  const classes = useStyles();\n  let history = useHistory();\n  const [height] = useState(getClientHeight())\n  const [scrollHeight, setScrollHeight] = useState(getScrollHeight())\n  const [name, setName] = useState('')\n  const [password, setPassword] = useState('');\n\n  const onSubmit = () => {\n    if(name.trim() && password.trim()){\n      dispatch(loginSaga({name: name.trim(), password: password.trim()}))\n    } else {\n      return alert('有未填的项目！')\n    } \n  }\n\n  useEffect(() => {\n    //console.log(getClientHeight(), getScrollHeight())\n    setScrollHeight(getScrollHeight())\n  }, [scrollHeight])\n\n  useEffect(() => {\n    dispatch(getUserDataSaga())\n  }, [dispatch])\n\n  useEffect(()=>{\n    if(user){ \n      history.push('/') \n    } \n  }, [user, history])\n\n  // useEffect(()=> {\n  //   video = document.querySelector('video')\n  //   video.oncanplay = ()=>{\n  //     console.log('can play')\n  //   }\n  // }, [])\n  \n  return (\n    <Container component=\"main\" className={classes.container} maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <div className={classes.topBlock}>\n          <Avatar className={classes.avatarContainer} src={avatarUrl}>\n            <LockOutlinedIcon className={classes.avatar}/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h3\" className={classes.font}>\n            Sign In\n          </Typography>\n        </div>\n        <div className={classes.form} noValidate>\n          <BootstrapInput \n            id=\"用户名\"\n            placeholder=\"用户名\"\n            type=\"text\"\n            style={{width:'100%'}}\n            top=\"true\"\n            onChange={(e) => {setName(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"密码\"\n            placeholder=\"密码\"\n            type=\"password\"\n            style={{width:'100%'}}\n            onChange={(e) => {setPassword(e.target.value)}}\n          />\n          <div className={classes.block}></div>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            startIcon={<LockOpen />}\n            onClick={() => onSubmit()}\n          >\n            登录\n          </Button>\n        </div>\n      </div>\n      <Copyright height={height} scrollHeight={scrollHeight}/>\n      {\n        isVedio\n        ?<video\n          proload='auto'\n          autoPlay\n          loop\n          muted\n          className={classes.vedioBackground}\n         >\n          <source src={vedioUrl} type=\"video/mp4\"/>\n         </video>\n         :<div className={classes.background}></div>\n      }\n    </Container>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(SignIn);","import React , {useState, useEffect} from 'react';\nimport Link from '@material-ui/core/Link';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport InputBase from '@material-ui/core/InputBase';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  withStyles,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport LockOpen from '@material-ui/icons/LockOpen';\nimport { connect } from 'react-redux';\nimport{\n  registerSaga,\n} from '../store/action'\n\nimport { \n  picUrl,\n  vedioUrl,\n  isVedio,\n  avatarUrl,\n  getClientHeight,\n  getScrollHeight\n} from '../tools'\n\nconst useStyles = makeStyles(theme => ({\n  container:{\n    overflow: 'hidden'\n  },\n  vedioBackground: {\n    position: 'fixed',//视频定位方式设为固定\n    right: 0,\n    bottom: 0,//视频位置\n    minWidth: '100%',\n    minHeight: '100%', //不会因视频尺寸造成页面需要滚动\n    width: 'auto',\n    height: 'auto', //尺寸保持原视频大小\n    zIndex: -10,//z轴定位，小于0即可\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  background: {\n    backgroundImage: `url(${picUrl[1]})`,\n    position:'fixed',\n    top: 0,\n    left: 0,\n    width:'100%',\n    height:'100%',\n    zIndex:-10,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  topBlock: {\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  block: {\n    height: '45px',\n  },\n  avatarContainer: {\n    margin: theme.spacing(1),\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: '45px'\n  },\n  fix: {\n    position: 'absolute',\n    textAlign: 'center',\n    bottom: 0,\n    right: 0,\n    left: 0,\n    color: '#fff'\n  },\n  notFix: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  font: {\n    color: '#fff'\n  }\n}));\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderTop: props =>\n      props.top === 'true'\n        ? ''\n        : 'none',\n    borderBottom: props =>\n      props.top === 'ture'\n        ? 'none'\n        : '',\n    borderRadius: props => getBorderRadius(props),\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #fff',\n    fontSize: 16,\n    width: '100%',\n    height: '24px',\n    padding: '10px 12px',\n  },\n\n}))(InputBase);\n\nfunction getBorderRadius(props){\n  if(props.position === 'top'){\n    return '5px 5px 0 0'\n  } else if(props.position === 'bottom'){\n    return '0 0 5px 5px'\n  } else {\n    return '0 0 0 0';\n  }\n}\n\nfunction Copyright({height, scrollHeight}) {\n  const classes = useStyles();\n  return (\n    <Typography \n      variant=\"body2\" \n      color=\"textSecondary\" \n      className={height === scrollHeight ? classes.fix : classes.notFix}\n    >\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"/signin\">\n        DevilDI\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nfunction LogOn({dispatch}) {\n  const classes = useStyles();\n  const [height] = useState(getClientHeight())\n  const [scrollHeight, setScrollHeight] = useState(getScrollHeight())\n  const [name, setName] = useState('')\n  const [password, setPassword] = useState('');\n  const [auth, setAuth] = useState('');\n\n  useEffect(() => {\n    console.log(getClientHeight(), getScrollHeight())\n    setScrollHeight(getScrollHeight())\n  }, [scrollHeight])\n\n\n  const onSubmit = () => {\n    if(name.trim() && password.trim() && auth.trim()){\n      dispatch(registerSaga({\n        name: name.trim(), \n        password: password.trim(),\n        auth: auth.trim()\n      }))\n    } else {\n      return alert('有未填的项目！')\n    } \n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <div className={classes.topBlock}>\n          <Avatar className={classes.avatarContainer} src={avatarUrl}>\n            <LockOutlinedIcon className={classes.avatar}/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h3\" className={classes.font}>\n            Log On\n          </Typography>\n        </div>\n        <div className={classes.form} noValidate>\n          <BootstrapInput \n            id=\"用户名\"\n            placeholder=\"用户名\"\n            type=\"text\"\n            style={{width:'100%'}}\n            position=\"top\"\n            onChange={(e) => {setName(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"密码\"\n            placeholder=\"密码\"\n            type=\"text\"\n            style={{width:'100%'}}\n            position=\"middle\"\n            onChange={(e) => {setPassword(e.target.value)}}\n          />\n          <BootstrapInput \n            id=\"授权码\"\n            placeholder=\"授权码\"\n            type=\"password\"\n            style={{width:'100%'}}\n            position=\"bottom\"\n            onChange={(e) => {setAuth(e.target.value)}}\n          />\n          <div className={classes.block}></div>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            startIcon={<LockOpen />}\n            onClick={() => onSubmit()}\n          >\n            注册新用户\n          </Button>\n        </div>\n      </div>\n      <Copyright height={height} scrollHeight={scrollHeight}/>\n      {\n        !isVedio\n        ?<div className={classes.background}></div>\n        :<video\n          autoPlay\n          loop\n          muted\n          className={classes.vedioBackground}\n         >\n           <source src={vedioUrl} type=\"video/mp4\"  />\n         </video>\n      }\n    </Container>\n  );\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(LogOn);","import React, {useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport Grid from '@material-ui/core/Grid';\nimport LazyLoad from 'react-lazyload';\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport Bar from '../components/appbar'\n\nimport { \n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\n\nimport {\n  photosSaga,\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot:{\n\t\twidth: '100%',\n\t},\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(7),\n\t},\n\tblock: {\n\t\toverFlow: 'hidden',\n\t\tpadding: 1\n\t},\n\tcircular:{\n\t\twidth: '100%',\n\t\tposition: 'absolute',\n\t\tbottom: 0,\n\t\ttop:0,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: \"center\",\n\t\talignItems: 'center',\n\t}\n}));\n\nfunction Photos({left, right, loading, dispatch, history}) {\n\n\tconst classes = useStyles();\n\n\tuseEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20&& !loading){\n      if(1){\n        \n      } else {\n        return \n      }\n    }\n  }\n\t\n\tuseEffect(()=>{\n\t\tdispatch(photosSaga(1))\n\t}, [dispatch])\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t<Bar title={'照片'} history={history}/>\n\t\t<div className={classes.container}>\n\t\t\t<Grid container >\n\t\t\t{\n\t\t\t\tleft.length > 0 && right.length > 0\n\t\t\t?<React.Fragment>\n\t\t\t\t<Grid item xs={6} className={classes.block}>\n\t\t\t\t{\n\t\t\t\t\tleft.map((item, index) => (\n\t\t\t\t\t\t<LazyLoad key={index} height={item.height}>\n\t\t\t\t\t\t\t<img alt='' \n\t\t\t\t\t\t\t\tsrc={item.src} \n\t\t\t\t\t\t\t\twidth={'100%'} \n\t\t\t\t\t\t\t\theight={item.height}\n\t\t\t\t\t\t\t\tonClick={()=>{console.log(item)}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LazyLoad>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} className={classes.block}>\n\t\t\t\t{\n\t\t\t\t\tright.map((item, index) => (\n\t\t\t\t\t\t<LazyLoad key={index} height={item.height}>\n\t\t\t\t\t\t\t<img alt='' \n\t\t\t\t\t\t\t\tsrc={item.src} \n\t\t\t\t\t\t\t\twidth={'100%'} \n\t\t\t\t\t\t\t\theight={item.height}\n\t\t\t\t\t\t\t\tonClick={()=>{console.log(item)}} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LazyLoad>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t</React.Fragment>\n\t\t\t: <div className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</div>\n\t\t\t}\t\t\n\t\t\t</Grid>\n\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Photos);","import React, {useState} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport Bar from '../components/appbar';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport FormControl from '@material-ui/core/FormControl';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\nimport{\n  newTripSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(6,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nconst handleMouseDownPassword = (event) => {\n  event.preventDefault();\n};\n\n\nfunction Editinit({dispatch, history}){\n\tconst classes = useStyles()\n\n  const [uid1, setUid1] = useState('')\n\n\tconst [tripName, setTripName] = useState('')\n  const [designer, setDesigner] = useState('')\n  const [uid, setUid] = useState('')\n  const [domestic, setDomestic] = useState(1)\n  const [city, setCity] = useState('')\n  const [country, setCountry] = useState('')\n  const [tags, setTags] = useState('')\n\n  const updateTrip = () => {\n  \tif(!uid1){\n      return alert('有未填项！')\n    }\n    dispatch(newTripSaga(uid1))\n  }\n\n  const newTrip = () => {\n\t\tif(!tripName || !designer|| !uid || !domestic || !city || !country || !tags){\n      return alert('有未填项！')\n    }\n    const obj = {\n      tripName: tripName.trim(),\n      designer: designer.trim(),\n      uid: uid,\n      city: city,\n      country: country,\n      tags: tags,\n      domestic: parseInt(domestic)\n    }\n    dispatch(newTripSaga(obj))\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={'地图数据编辑'} history={history}/>\n\t\t\t<FormControl className={clsx(classes.form, classes.textField)} variant=\"outlined\">\n        <InputLabel htmlFor=\"outlined-adornment-password\">输入行程编号</InputLabel>\n        <Input\n        \tclassName={classes.input}\n          type='text'\n          //value={values.password}\n          onChange={(e) => {setUid1(e.target.value)}}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                aria-label=\"visibility\"\n                onClick={updateTrip}\n                onMouseDown={handleMouseDownPassword}\n                edge=\"end\"\n              >\n                <ArrowForwardIcon />\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n    \t</FormControl>\n    \t或者\n    \t<form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField \n          className={classes.submit} \n          id=\"number\" \n          label=\"行程名字\" \n          variant=\"outlined\"\n          onChange={(e) => {setTripName(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"name\" \n          label=\"设计者\" \n          variant=\"outlined\"\n          onChange={(e) => {setDesigner(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"domestic\" \n          label=\"国内还是国外（1/0）\" \n          variant=\"outlined\"\n          onChange={(e) => {setDomestic(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"sth\" \n          label=\"行程编号\" \n          variant=\"outlined\"\n          onChange={(e) => {setUid(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"city\" \n          label=\"城市\" \n          variant=\"outlined\"\n          onChange={(e) => {setCity(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"country\" \n          label=\"国家\" \n          variant=\"outlined\"\n          onChange={(e) => {setCountry(e.target.value)}}\n        />\n        <TextField \n          className={classes.submit} \n          id=\"tags\" \n          label=\"标签（英文 / 分割）\" \n          variant=\"outlined\"\n          onChange={(e) => {setTags(e.target.value)}}\n        />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          onClick={newTrip}\n        >\n          新建行程\n        </Button>\n      </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Editinit);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\n\nimport axios from 'axios'\n\nimport{\n  newItemSaga\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(7,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nfunction Story({dispatch, item, history, location}){\n  useEffect(()=>{\n    \n  })\n  \n  const passedData = location.params\n\tconst classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\tconst [articleName, setArticleName] = useState(passedData? passedData.articleName :item)\n  const [picURL, setPicURL] = useState(passedData? passedData.picURL :item)\n  const [articleURL, setArticleURL] = useState(passedData? passedData.articleURL :item)\n  const [width, setWidth] = useState(passedData && passedData.width !== undefined ? passedData.width :0)\n  const [height, setHeight] = useState(passedData && passedData.height !== undefined ? passedData.height :0)\n\n  const newTrip = () => {\n    if(!articleName || !picURL|| !articleURL){\n      return alert('有未填项！')\n    }\n    const obj = {\n      articleName: articleName.trim(),\n      picURL: picURL.trim(),\n      articleURL: articleURL,\n      width: width,\n      height: height\n    }\n    if(!passedData){\n      dispatch(newItemSaga(obj))\n  \n      setArticleName(item)\n      setPicURL(item)\n      setArticleURL(item)\n      setWidth(0)\n      setHeight(0)\n    } else {\n      //console.log(\"update\")\n      let updatedObj = {...passedData, ...obj}\n      console.log(updatedObj)\n      axios.post('/api/trip/updateItem',updatedObj)\n      .then((res) => {\n        if(res.status === 200 ){\n          alert(\"更改成功！\")\n        }else{\n          alert(\"系统出错，请重试！\")\n        }\n      })\n      .catch((err) => {\n        alert(err)\n      })\n    }\n\t}\n\n  const getWidthAndHeight = async() => {\n    setLoading(true)\n    //console.log(picURL)\n    //let img = await getOrigiHeight(picURL)\n    //console.log(img.height, img.width)\n    let data = await axios.get('/api/trip/getImgWAH',{params: {url: picURL}})\n    //console.log(data.data)\n    setWidth(data.data.width)\n    setHeight(data.data.height)\n    setLoading(false)\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={passedData ? '瀑布流页面数据修改：' : '瀑布流页面数据新增：'} history={history}/>\n    \t<form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField\n          value={articleName}\n          className={classes.submit} \n          id=\"number\" \n          label=\"文章名字\" \n          variant=\"outlined\"\n          onChange={(e) => {setArticleName(e.target.value)}}\n        />\n        <TextField\n          value={picURL}\n          className={classes.submit} \n          id=\"name\" \n          label=\"图片地址\" \n          variant=\"outlined\"\n          onChange={(e) => {setPicURL(e.target.value)}}\n        />\n        <TextField \n          value={articleURL}\n          className={classes.submit} \n          id=\"sth\" \n          label=\"页面地址\" \n          variant=\"outlined\"\n          onChange={(e) => {setArticleURL(e.target.value)}}\n        />\n        <TextField \n          value={width}\n          className={classes.submit} \n          id=\"width\" \n          label=\"图片宽度\" \n          variant=\"outlined\"\n          type=\"number\"\n          onChange={(e) => {setWidth(e.target.value)}}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  onClick={getWidthAndHeight}\n                  disabled={!picURL || loading}\n                >\n                  {loading ? 'Loading': '获取宽度'}\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <TextField \n          value={height}\n          className={classes.submit} \n          id=\"height\" \n          label=\"图片高度\"\n          type=\"number\"\n          variant=\"outlined\"\n          onChange={(e) => {setHeight(e.target.value)}}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  onClick={getWidthAndHeight}\n                  disabled={!picURL || loading}\n                >\n                  {loading ? 'Loading': '获取高度'}\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.submit}\n          onClick={newTrip}\n          disabled={picURL && width > 0 && height > 0 && articleName && articleURL ? false: true}\n        >\n          {passedData? '保存更改' : '提交' }\n        </Button>\n      </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Story);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\nimport { fomatURL } from '../tools'\nimport axios from 'axios'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  form: {\n    margin: theme.spacing(7,1,1,1),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  submit: {\n    width: '100%',\n    margin: theme.spacing(1),\n    height: theme.spacing(7)\n  },\n  textField: {\n    width: '100%',\n  },\n  input: {\n  \twidth: '100%',\n  }\n}));\n\nfunction PhotosInput({dispatch, item, history, location}){\n  useEffect(()=>{\n    \n  })\n  const passedData = location.params\n  \n  const classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\n  const [tags, setTags] = useState(passedData? passedData.tags :'')\n  const [picURL, setPicURL] = useState(passedData? passedData.picURL :'')\n  const [des, setDes] = useState(passedData? passedData.des :'')\n  const [width, setWidth] = useState(passedData && passedData.width !== undefined ? passedData.width :0)\n  const [height, setHeight] = useState(passedData && passedData.height !== undefined ? passedData.height :0)\n\n  const newTrip = () => {\n    if(!picURL){\n      return alert('请填写图片地址！')\n    }\n    if(width === 0 || height === 0){\n      return alert('请填写图片宽高！')\n    }\n    const obj = {\n      tags: tags.trim(),\n      picURL: fomatURL(picURL.trim()),\n      des: des.trim(),\n      width: width,\n      height: height\n    }\n    if(!passedData){\n      axios.post('/api/trip/photoInput',{...obj})\n      .then((res) => {\n          if(res.data){\n              alert(\"提交成功！\")\n              setTags('')\n              setPicURL('')\n              setDes('')\n              setWidth(0)\n              setHeight(0)\n          }else{\n              alert(\"图片提交出错！\")\n          }\n      })\n      .catch((err) => {\n          alert(\"图片提交出错！\")\n      })\n    }else{\n      let updatedObj = {...passedData, ...obj}\n      axios.post('/api/trip/updatePhoto',updatedObj)\n      .then((res) => {\n        if(res.status === 200 ){\n          alert(\"更改成功！\")\n          \n        }else{\n          alert(\"系统出错，请重试！\")\n        }\n      })\n      .catch((err) => {\n        alert(err)\n      })\n    }\n\t}\n\n  const getWidthAndHeight = async() => {\n    setLoading(true)\n    let data = await axios.get('/api/trip/getImgWAH',{params: {url: fomatURL(picURL)}})\n    // console.log(data.data)\n    if(data.data === 'error'){\n      alert('获取图片宽高出错，请检查图片URL！')\n    } else {\n      setWidth(data.data.width)\n      setHeight(data.data.height)\n    }\n    setLoading(false)\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={passedData ? '照片修改：' : '照片数据新增：'} history={history}/>\n            <form className={classes.form} noValidate autoComplete=\"off\">\n                <TextField\n                    value={tags}\n                    className={classes.submit} \n                    id=\"tags\" \n                    label=\"图片标签，以 | 分割\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setTags(e.target.value)}}\n                />\n                <TextField\n                    value={picURL}\n                    className={classes.submit} \n                    id=\"name\" \n                    label=\"图片地址\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setPicURL(e.target.value)}}\n                />\n                <TextField \n                    value={des}\n                    className={classes.submit} \n                    id=\"sth\" \n                    label=\"图片描述\" \n                    variant=\"outlined\"\n                    onChange={(e) => {setDes(e.target.value)}}\n                />\n                <TextField \n                    value={width}\n                    className={classes.submit} \n                    id=\"width\" \n                    label=\"图片宽度\" \n                    variant=\"outlined\"\n                    type=\"number\"\n                    onChange={(e) => {setWidth(e.target.value)}}\n                    InputProps={{\n                        endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <Button \n                            variant=\"contained\" \n                            color=\"secondary\"\n                            onClick={getWidthAndHeight}\n                            disabled={!picURL || loading}\n                            >\n                            {loading ? 'Loading': '获取宽度'}\n                            </Button>\n                        </InputAdornment>\n                        ),\n                    }}\n                />\n                <TextField \n                    value={height}\n                    className={classes.submit} \n                    id=\"height\" \n                    label=\"图片高度\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={(e) => {setHeight(e.target.value)}}\n                    InputProps={{\n                        endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <Button \n                            variant=\"contained\" \n                            color=\"secondary\"\n                            onClick={getWidthAndHeight}\n                            disabled={!picURL || loading}\n                            >\n                            {loading ? 'Loading': '获取高度'}\n                            </Button>\n                        </InputAdornment>\n                        ),\n                    }}\n                />\n                <Button \n                    variant=\"contained\" \n                    color=\"primary\" \n                    className={classes.submit}\n                    onClick={newTrip}\n                    disabled={picURL && width > 0 && height > 0 ? false: true}\n                >\n                    {passedData? '保存更改' : '提交' }\n                </Button>\n            </form>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(PhotosInput);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport{\n    setPageIndex\n} from '../store/action'\nimport HighlightOff from '@material-ui/icons/HighlightOff';\n\nconst useStyles = makeStyles(theme => ({\n\tlistContainer: {\n        margin: theme.spacing(8,0,2,0),\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap'\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        padding: theme.spacing(0,0,1,0)\n    },\n    imgContainer:{\n        margin: theme.spacing(1,0,0,1),\n        position: 'relative',\n        width: '200px',\n        height: '200px',\n        overflow: 'hidden',\n        backgroundColor: '#f0f0f0'\n    },\n    img: {\n        display: 'block',\n        maxHeight: '100%',\n        height: 'auto'\n    },\n    img2: {\n        display: 'block',\n        maxWidth: '100%',\n        width: 'auto'\n    },\n    dele: {\n        position: 'absolute',\n        right: 0,\n        top: 0,\n        color: 'white',\n    }\n}));\n\nfunction TotalStorys({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getPhotos',{params: {page: pageIndex}})\n        .then((res) => {\n            //console.log(res.data.allItems.length)\n            setDataArray(res.data.items)\n            setTotal(res.data.total)\n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getPhotos',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getPhotos',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/photosInput', params: item});\n    }\n    const dele = async(index, item, e) => {\n        e.stopPropagation()\n        const data = await axios.post('/api/trip/deletePhoto',{id: item._id})\n        if(data.data){\n            alert(\"已删除！\")\n            dataArray.splice(index, 1)\n            setDataArray([...dataArray])\n        } else {\n            alert(\"系统错误！\")\n        }\n    }\n\treturn (\n\t\t<div >\n\t\t\t<Bar title={'全部图片：'} history={history}/>\n            <div className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <div \n                        key={index} \n                        className={classes.imgContainer} \n                        onClick={() => _jump(item)}\n                    >\n                        <img \n                            alt='' \n                            className={item.width > item.height ? classes.img : classes.img2} \n                            src={item.picURL}\n                        />\n                        <div \n                            className={classes.dele}\n                            onClick={(e) => dele(index, item, e)} \n                        >\n                            <HighlightOff />\n                        </div>\n                    </div>\n                ))\n                : null\n            }\n            </div>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            上一页\n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            下一页\n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalStorys);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport{\n    setPageIndex\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        overflow: 'hidden'\n    },\n\tlistContainer: {\n        margin: theme.spacing(8,0,1,0),\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        margin: theme.spacing(0,0,1,0)\n    }\n}));\n\nfunction TotalStorys({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex}})\n        .then((res) => {\n            setDataArray(res.data.items)\n            setTotal(res.data.total) \n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getStoryByPage',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/story', params: item});\n    }\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<Bar title={'全部瀑布流页面数据：'} history={history}/>\n            <div className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <ListItem button key={index} onClick={() => _jump(item)}>\n                        <ListItemText primary={item.articleName} />\n                    </ListItem>\n                ))\n                : null\n            }\n            </div>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            上一页\n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            下一页\n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalStorys);\n","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport{\n    setPageIndex\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\tlistContainer: {\n        padding: theme.spacing(8,0,1,0),\n    },\n    btn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        margin: theme.spacing(0,0,1,0)\n    }\n}));\n\nfunction TotalTrips({dispatch, item, history, pageIndex}){\n    const classes = useStyles();\n    const [total, setTotal] = useState(null)\n    const [dataArray, setDataArray] = useState([])\n    useEffect(()=>{\n        axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex}})\n        .then((res) => {\n\n            setDataArray(res.data.items)\n            setTotal(res.data.total) \n        })\n        .catch((err) => alert(err))\n    },[pageIndex])\n    const previous = async() => {\n        const data = await axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex - 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex - 1))\n    }\n    const next = async() => {\n        const data = await axios.get('/api/trip/getAllTripByPage',{params: {page: pageIndex + 1}})\n        setDataArray(data.data.items)\n        dispatch(setPageIndex(pageIndex + 1))\n    }\n    const _jump = (item) => {\n        history.push({pathname: '/edit', params: item});\n    }\n\treturn (\n\t\t<div >\n\t\t\t<Bar title={'全部行程数据：'} history={history}/>\n            <div className={classes.listContainer}>\n            {\n                dataArray && dataArray.length > 0\n                ?dataArray.map((item, index) => (\n                    <ListItem button key={index} onClick={() => _jump(item)}>\n                        <ListItemText primary={`行程编号：${item.uid} | ${item.tripName} | ${item.detail.length}天 | ${item.tags} | ${item.city}`} />\n                    </ListItem>\n                ))\n                : null\n            }\n            </div>\n            <div className={classes.btn}>\n                {\n                    dataArray && dataArray.length > 0\n                    ?<React.Fragment>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === 1} onClick={previous}>\n                            上一页\n                        </Button>\n                        <Button variant=\"contained\" color=\"primary\" disabled={pageIndex === total} onClick={next}>\n                            下一页\n                        </Button>\n                    </React.Fragment>\n                    : null\n                }\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(TotalTrips);\n","import React, { useEffect} from 'react';\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Bar from '../components/appbar';\nimport { connect } from 'react-redux';\nimport { \n  getScrollTop,\n  getClientHeight,\n  getScrollHeight,\n} from '../tools';\nimport {\n  setNextstickerusersincreaesd\n} from '../store/action'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    padding: theme.spacing(2,2,0,2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: \"center\",\n    alignItems: 'center',\n  },\n  div: {\n    margin: theme.spacing(5,1,1,1),\n  },\n  div1: {\n    width: '100%',\n    height: theme.spacing(6),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  }\n}));\n\nfunction Client({history, dispatch, nextstickerUsersIncreased}){\n  const [total, setTotal] = React.useState(0)\n  const [users, setUsers] = React.useState([])\n  const loading = React.useState(false)\n\n  useEffect(()=>{\n    dispatch(setNextstickerusersincreaesd(0))\n  },[dispatch])\n\n  useEffect(()=>{\n    getdata()\n  },[])\n\n  useEffect(()=>{\n    window.addEventListener('scroll', scroll)\n    return () => {\n      window.removeEventListener('scroll', () => {})\n    }\n  })\n\n  const scroll = () => {\n    if((getScrollHeight() - getScrollTop() - getClientHeight()) <= 20 && !loading){\n      if(users.length < total){\n        \n      } else {\n        return \n      }\n    }\n  }\n\n\tconst classes = useStyles();\n\n  const getdata = () => {\n    axios.get('/api/users/getClient')\n    .then((res) => {\n      if(res.status === 200){\n        setTotal(res.data.length)\n        setUsers(res.data)\n      }\n    })\n    .catch((err)=>{\n      alert(err)\n    })\n  }\n  \n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Bar title={`NextSticker的总用户为 ${total}`} history={history} />\n      <div className={classes.div}></div>\n      {\n        users.length > 0\n        ?<React.Fragment>\n        {\n          users.map((item, index) => (\n            <div className={classes.div1} key={index}>\n              <div>目的地：{item.destination}</div><div>微信号：{item.wechat}</div>\n            </div>\n          ))\n        }\n        </React.Fragment>\n        :<div className={classes.div2}>暂时无用户！</div>\n      }\n\t\t</div>\n\t)\n}\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(Client);\n","import React, { useState, useEffect } from 'react'\nimport AMapLoader from '@amap/amap-jsapi-loader'\nimport '../css/mapView.css'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport Search from '@material-ui/icons/Search';\nimport Clear from '@material-ui/icons/Clear';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Container, Draggable } from 'react-smooth-dnd';\nimport {\n    getClientHeight,\n    Daytrip,\n    style,\n    gaodeKey\n} from '../tools'\n\nfunction  MapComponent ({totalData, data, removeItem, AddOneItem, changePlan}){\n    const [mapG, setMapG] = useState(null)\n    const [pointsG, setPointsG] = useState([]) \n    const [windowsG, setWindowsG] = useState([]) \n    const [value, setValue] = useState('')//搜索框\n    const [aMapClass, setAmapClass] = useState(null)\n    const [result, setResult] = useState([])\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData, setDayData] = useState(new Daytrip())\n    const [cache, setCache] = useState(new Daytrip())\n    const [replanIndex, setReplanIndex] = useState(0)\n\n    useEffect(() => {\n        console.log('地图开始渲染！', totalData)\n        AMapLoader.load({\n            key: gaodeKey,                     \n            version:\"2.0\",             \n            plugins:['AMap.Scale','AMap.Geolocation','AMap.AutoComplete','AMap.PlaceSearch'],             \n        }).then((AMap)=>{\n            let map = new AMap.Map(\"container\",{ \n                viewMode:\"3D\",       \n                zoom:15,              \n                center:center(data), \n            });\n\n            map.addControl(new AMap.Scale());\n            map.addControl(new AMap.Geolocation());\n\n            let pointsArray = []\n            let infoWindowsArray = []\n            let lonLat = []\n            if(data && data.length > 0){\n                data.forEach((item, index) => {\n                    lonLat.push([parseFloat(item.longitude), parseFloat(item.latitude)])\n                    let window = windowConstructor(AMap, item.nameOfScence, item.des, item.picURL, removeItem, add, editItem, index)\n                    infoWindowsArray.push(window)\n                    let point = markerConstructor(AMap, parseFloat(item.longitude), parseFloat(item.latitude), item.nameOfScence, index)\n                    point.on('click', (obj) => openOrcloseWindow(obj, window, map))\n                    pointsArray.push(point)\n                })\n                map.add(pointsArray);\n                infoWindowsArray[0].open(map,lonLat[0]);\n\n                setPointsG(pointsArray)\n                setWindowsG(infoWindowsArray)\n            }\n            setAmapClass(AMap)\n            setMapG(map)\n        })\n        .catch(e=>{\n            console.log(e);\n        })\n    },[totalData, data, data?.length, removeItem])\n\n    const markerConstructor = (amapClass, longitude, latitude, title, extData) => {\n        let point = new amapClass.Marker({\n            position: new amapClass.LngLat(longitude, latitude),\n            title: title,\n            extData: extData\n        })\n        return point\n    }\n\n    const windowConstructor = (amapClass, title, des, picURL, fn, fn1, fn2, index) => {\n        let window = new amapClass.InfoWindow({\n            isCustom: true,\n            content: content (title, des, picURL, fn, fn1, fn2, index), \n            offset: new amapClass.Pixel(0, -30)\n        })\n        return window\n    }\n\n    const center = (data) => {\n        if(data && data.length > 0){\n            return [parseFloat(data[0].longitude),parseFloat(data[0].latitude)]\n        } else {\n            return [116.39, 39.9]\n        }\n    }\n\n    const content  = (title1, des1, picUrl, fn, fn1, fn2, index) => {\n        var windowContainer = document.createElement(\"div\");\n        windowContainer.className = 'windowContainer'\n\n        var title = document.createElement(\"div\");\n        title.className = 'title'\n        title.innerHTML = title1\n        windowContainer.appendChild(title)\n\n        var des = document.createElement(\"div\");\n        des.className = 'des'\n        des.innerHTML = des1\n\n        if(des1){\n            windowContainer.appendChild(des)\n        }\n\n        if(picUrl){\n            var imgContainer = document.createElement(\"div\");\n            imgContainer.className = 'imgContainer'\n\n            var img = document.createElement(\"img\");\n            img.className = 'img'\n            img.src = picUrl\n\n            imgContainer.appendChild(img)\n            windowContainer.appendChild(imgContainer)\n        } \n\n        var btn = document.createElement(\"div\");\n        btn.className = 'btn'\n        btn.innerHTML = '删除此点'\n        btn.onclick = () => fn(index)\n        \n        var rePlan = document.createElement(\"div\");\n        rePlan.className = 'rePlan'\n        rePlan.innerHTML = '景点排序'\n        rePlan.onclick = () => fn2(index)\n        \n        var appand = document.createElement(\"div\");\n        appand.className = 'btn'\n        appand.innerHTML = '添加到当日行程'\n        appand.onclick = fn1\n\n        if(check(title1, data)){\n            windowContainer.appendChild(btn)\n            windowContainer.appendChild(rePlan)\n        } else {\n            windowContainer.appendChild(appand)\n        }\n\n        return windowContainer\n    }\n\n    const add = () => {\n        dayData.nameOfScence = getInfo().name\n        dayData.longitude = getInfo().lng\n        dayData.latitude = getInfo().lat\n        setOpen(true)\n    }\n    //排序\n    const editItem = (index) => {\n        setRePlanOpen(true)\n    }\n\n    const getInfo = () => {\n        let point = mapG.getAllOverlays('marker')[0]\n        let obj = {}\n        obj.name = point.getTitle()\n        obj.lng = point.getPosition().lng\n        obj.lat = point.getPosition().lat\n        return obj\n    }\n\n    const openOrcloseWindow = (obj, window, map) => {\n        //let index = obj.target._originOpts.extData\n        if(window.getIsOpen()){\n            window.close()\n        } else {\n            window.open(map,[obj.lnglat.lng, obj.lnglat.lat]);\n            map.panTo([obj.lnglat.lng, obj.lnglat.lat])\n        }\n    }\n\n    const choosePoint = (index) => {\n        if(!windowsG[index].getIsOpen()){\n            windowsG[index].open(mapG,pointsG[index].getPosition());\n        }\n        mapG.panTo(pointsG[index].getPosition())\n    }\n\n    const search = ()=>{\n        if(value.trim() && value.trim()!== ''){\n            var placeSearch = new aMapClass.PlaceSearch();\n            placeSearch.search(value.trim(), function (status, result) {\n                if(result.info === 'OK'){\n                    setResult(result.poiList.pois)\n                } else {\n                    alert('无搜索结果，请精确输入关键字！')\n                }\n            });\n        } else {\n            alert('无搜索内容！')\n        }\n    }\n\n    const inJectPoint = (item) => {\n        if(data.length !== mapG.getAllOverlays('marker').length){\n            mapG.getAllOverlays('marker')[0].remove()\n        }\n        let window = windowConstructor(aMapClass, item.name, null, null, null, add, editItem, mapG.getAllOverlays('marker').length + 1)\n        let point = markerConstructor(aMapClass, item.location.lng, item.location.lat, item.name, mapG.getAllOverlays('marker').length + 1)\n        point.on('click', (obj) => openOrcloseWindow(obj, window, mapG))\n        mapG.add(point)\n        window.open(mapG, [item.location.lng, item.location.lat])\n        mapG.panTo([item.location.lng, item.location.lat])\n    } \n\n    const clear = () => {\n        setResult([])\n        setValue('')\n        if(data.length !== mapG.getAllOverlays('marker').length){\n            mapG.getAllOverlays('marker')[0].remove()\n            mapG.clearInfoWindow()\n        }\n    }\n\n    const check = (str, array) => {\n        let flag = false\n        for(let i = 0 ; i < array.length; i++){\n            if(array[i].nameOfScence === str){\n                flag = true\n                break\n            }\n        }\n        return flag\n    }\n\n    const closeModal = () => {\n        setOpen(false)\n    }\n\n    const closeReplanModal = () => {\n        setRePlanOpen(false)\n    }\n\n    const changeContent = (c, str) => {\n        if(str === 'category'){\n            dayData[str] = parseInt(c)\n        }else {\n            dayData[str] = c\n        }\n        dayData[str] = c\n        setDayData({...dayData})\n    }\n\n    const addItemFromMap = ()=> {\n        if(dayData.des === '' || dayData.picURL === ''){\n            return alert('有未填项目！')\n        }\n        AddOneItem(dayData)\n        closeModal()\n        setDayData(new Daytrip())\n        setResult([])\n        setValue('')\n    }\n\n    const replanStart = (item, index) => {\n        console.log(`将第${index+1}天的第${item +1}个景点移动到：`)\n        let deleteItem = totalData[index][item]\n        Object.keys(deleteItem).forEach((key) => {\n            cache[key] = deleteItem[key]\n        })\n        if(setReplanIndex !== 0){\n            setReplanIndex(0)\n        }\n    }\n\n    const findIndex = (arr, str) => {\n        let indexArr = []\n        for(let i = 0 ; i < arr.length; i++){\n            for(let j = 0 ; j < arr[i].length ; j++){\n                if(arr[i][j].nameOfScence === str){\n                    indexArr.push(i)\n                    indexArr.push(j)\n                    break\n                }\n            }\n        }\n        return indexArr\n    }\n\n    const replan = (e) => {\n        let newIndex = replanIndex + 1\n        if(replanIndex < totalData.length ){\n            setReplanIndex(newIndex)\n        }\n        const { removedIndex, addedIndex } = e\n        if (removedIndex === null && addedIndex === null) return \n        if(addedIndex !== null){\n            console.log(`第${replanIndex + 1}天的第${addedIndex + 1}处！`)\n            let arr = JSON.parse(JSON.stringify(totalData))//深拷贝\n            let indexARRAY = findIndex(arr, cache.nameOfScence)\n            arr[indexARRAY[0]].splice(indexARRAY[1], 1)\n            arr[replanIndex].splice(addedIndex, 0 ,cache)\n            changePlan(arr)\n            setCache(new Daytrip())\n        }\n    }\n   \n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n            </div>\n            <div className=\"textFieldContainer\">\n                <FormControl variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\">请输入关键字</InputLabel>\n                    <OutlinedInput\n                        id=\"outlined-adornment-password\"\n                        type='text' \n                        value={value}\n                        onChange={(e)=>{setValue(e.target.value)}}\n                        endAdornment={\n                            result && result.length > 0\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                onClick={clear}\n                                edge=\"end\"\n                                >\n                                    <Clear />\n                                </IconButton>\n                            </InputAdornment>\n                            :<InputAdornment position=\"end\">\n                            <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={search}\n                            edge=\"end\"\n                            >\n                                <Search />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                        label=\"Password\"\n                    />\n                </FormControl>\n                <div className=\"resultsContainer\">\n                {\n                    result && result.length > 0\n                    ?<List>\n                    {result.map((item, index) => {\n                        return (\n                            <div key={index} onClick={() => {inJectPoint(item)}}>\n                                <ListItem >\n                                    <ListItemText primary={item.name} />\n                                </ListItem>\n                            </div>  \n                        )\n                    })\n                    }\n                    </List>\n                    :null\n                }\n                </div>\n            </div>\n            <div className=\"listContainer\" style={{ left: document.body.clientWidth < getClientHeight() ? '20px' : '220px' }}>\n                {data && data.length > 0\n                    ?<List>\n                    {\n                      data.map((item, index) => {    \n                        return (\n                            <div \n                                key={item.nameOfScence} \n                                onClick={() => {choosePoint(index)}}\n                            >\n                                <ListItem >\n                                    <ListItemText primary={item.nameOfScence} />\n                                </ListItem>\n                                <Divider />\n                            </div>  \n                        )\n                    })  \n                    }\n                    </List>\n                    :null\n                }\n            </div>\n            <Dialog open={open} onClose={closeModal}>\n                <DialogTitle>请完善如下信息：</DialogTitle>\n                <div className=\"textContainer\">\n                    <TextField \n                        label=\"nameOfScence\" \n                        value={dayData.nameOfScence}\n                        onChange={(e) => {changeContent(e.target.value, \"nameOfScence\")}}\n                    />\n                    <div>\n                        <TextField \n                            label=\"longitude\" \n                            value={dayData.longitude}\n                            onChange={(e) => {changeContent(e.target.value, \"longitude\")}}\n                        />\n                        <TextField \n                            label=\"latitude\" \n                            value={dayData.latitude}\n                            onChange={(e) => {changeContent(e.target.value, \"latitude\")}}\n                        /> \n                    </div>\n                    <TextField \n                        label=\"des\" \n                        multiline \n                        value={dayData.des }\n                        onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                    />\n                    <TextField \n                        multiline \n                        label=\"picURL\" \n                        value={dayData.picURL}\n                        onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                    />\n                    <TextField \n                        label=\"pointOrNot\" \n                        value={dayData.pointOrNot}\n                        onChange={(e) => {changeContent(e.target.value, \"pointOrNot\")}}\n                    />\n                    <TextField \n                        label=\"category\" \n                        value={dayData.category}\n                        onChange={(e) => {changeContent(e.target.value, \"category\")}}\n                    />\n                    <TextField \n                        label=\"contructor\" \n                        value={dayData.contructor}\n                        onChange={(e) => {changeContent(e.target.value, \"contructor\")}}\n                    />\n                    <div className='btnContainer'>\n                        {/* <Button \n                            color=\"secondary\" \n                            variant=\"contained\"\n                            onClick={() => {}}\n                        >\n                            预览\n                        </Button> */}\n                        <Button \n                            color=\"primary\" \n                            variant=\"contained\"\n                            onClick={addItemFromMap}\n                        >\n                            保存到当日行程\n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog open={rePlanOpen} onClose={closeReplanModal}>\n                <DialogTitle>请拖动排序：</DialogTitle>\n                <div className='replanContainer2'>\n                {\n                    totalData.map((item, index) => (\n                        <div key={index} className='replanContainer1'>\n                            <div className='titlereplan'>{`第${index + 1}天`}</div>   \n                            <Container \n                                orientation=\"horizontal\"\n                                className='replanContainer' \n                                style={style}\n                                groupName=\"1\"\n                                getChildPayload={(i) => replanStart(i, index)}\n                                onDrop={replan}\n                            >\n                                {\n                                    item.map((item2, index2) => (\n                                        <Draggable \n                                            key={item2.nameOfScence} \n                                            style={{height: '30px'}}\n                                        >\n                                        <div \n                                            className='itemContainer'\n                                        >\n                                            {item2.nameOfScence}\n                                        </div>\n                                        </Draggable>\n                                    ))\n                                }\n                            </Container>\n                        </div>\n                    ))\n                }\n                </div>\n            </Dialog> \n        </div>\n    );\n}\n\nexport default MapComponent","import React, { useState, useEffect, Component } from 'react'\nimport ReactDOM from \"react-dom\";\nimport '../css/mapView.css'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport Search from '@material-ui/icons/Search';\nimport Clear from '@material-ui/icons/Clear';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Container, Draggable } from 'react-smooth-dnd';\nimport {\n  Map, \n  InfoWindow, \n  Marker, \n  GoogleApiWrapper\n} from 'google-maps-react';\n\nimport {\n    getClientHeight,\n    Daytrip,\n    style,\n    googleKey,\n    googleMapcontainerStyle,\n} from '../tools'\n\nfunction  GoogleMapComponent ({google, totalData, data, removeItem, AddOneItem, changePlan}){\n    const [mapG, setMapG] = useState(null)\n    const [value, setValue] = useState('')//搜索框\n    const [result, setResult] = useState([])\n    const [open, setOpen] = useState(false)\n    const [rePlanOpen, setRePlanOpen] = useState(false)\n    const [dayData, setDayData] = useState(new Daytrip())\n    const [cache, setCache] = useState(new Daytrip())\n    const [replanIndex, setReplanIndex] = useState(0)\n    const [activeMarker, setActiveMarker] = useState(null)\n    const [centerPointObj, setCenterPointObj] = useState(null)\n    const [titleG, setTitleG] = useState('')\n    const [desG, setDesG] = useState('')\n    const [imgUrl, setImgUrl] = useState('')\n    const [showingInfoWindow, setShowingInfoWindow] = useState(false)\n    const [placeService, setPlaceService] = useState(null)\n    const [cacheMarker, setCacheMarker] = useState(null)\n\n    useEffect(() => {\n      console.log('google地图开始渲染！', totalData, data)\n      if(data && data.length > 0){\n        setCenter(data[0])\n      }\n      if(showingInfoWindow){\n        setShowingInfoWindow(false)\n      }\n    },[totalData, data, data?.length, removeItem])\n\n    const setCenter = (data) => {\n      let obj = {}\n      obj.lat = parseFloat(data.latitude)\n      obj.lng = parseFloat(data.longitude)\n      setCenterPointObj(obj)\n    }\n\n    const content  = (name, fn, item) => {\n      var windowContainer = document.createElement(\"div\");\n      var title = document.createElement(\"div\");\n      title.innerHTML = name\n      windowContainer.appendChild(title)\n      var appand = document.createElement(\"div\");\n      appand.innerHTML = '添加到当日行程'\n      appand.onclick = () => fn(item)\n      windowContainer.appendChild(appand)\n      return windowContainer\n    }\n\n    const add = (item) => {\n      dayData.nameOfScence = item.name\n      dayData.longitude = item.geometry.location.lng()\n      dayData.latitude = item.geometry.location.lat()\n      setOpen(true)\n    }\n    //排序\n    const editItem = () => {\n      console.log('排序')\n      setRePlanOpen(true)\n      if(showingInfoWindow){\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const choosePoint = (index) => {\n        setCenter(data[index])\n    }\n\n    const search = ()=>{\n      if(value.trim() && value.trim()!== ''){\n        const request = {\n          query: value.trim(),\n          fields: [\"name\", \"formatted_address\", \"geometry\"],\n        }\n        try {\n          placeService.findPlaceFromQuery(\n            request,\n            (\n              results: google.maps.places.PlaceResult[] | null,\n              status: google.maps.places.PlacesServiceStatus\n            ) => {\n              if (status === google.maps.places.PlacesServiceStatus.OK && results) {\n                console.log(results[0].geometry.location.lat())\n                setResult(results)\n              }\n            }\n          )\n        } catch (error) {\n          alert('系统错误，请稍后重试！')\n          console.log(error)\n        }\n      }\n    }\n\n    const inJectPoint = (item) => {\n      if(cacheMarker){\n        cacheMarker.setMap(null)\n      }\n      let lat = item.geometry.location.lat()\n      let lng = item.geometry.location.lng()\n      const marker = new google.maps.Marker({\n        position: { lat: lat, lng: lng },\n        map: mapG,\n        title: item.name\n      });\n      const infowindow = new google.maps.InfoWindow({\n        content: content(item.name, add, item),\n        ariaLabel: item.name,\n      });\n      marker.addListener(\"click\", () => {\n        infowindow.open({\n          anchor: marker,\n          mapG,\n        });\n      });\n      let center = {}\n      center.lat = lat\n      center.lng = lng\n      setCenterPointObj(center)\n\n      setCacheMarker(marker)\n    } \n\n    const clear = () => {\n        setResult([])\n        setValue('')\n        if(cacheMarker){\n          cacheMarker.setMap(null)\n          setCacheMarker(null)\n        }\n    }\n\n    const closeModal = () => {\n        setOpen(false)\n    }\n\n    const closeReplanModal = () => {\n        setRePlanOpen(false)\n    }\n\n    const changeContent = (c, str) => {\n        if(str === 'category'){\n            dayData[str] = parseInt(c)\n        }else {\n            dayData[str] = c\n        }\n        dayData[str] = c\n        setDayData({...dayData})\n    }\n\n    const addItemFromMap = ()=> {\n        if(dayData.des === '' || dayData.picURL === ''){\n            return alert('有未填项目！')\n        }\n\n        AddOneItem(dayData)\n        closeModal()\n        setDayData(new Daytrip())\n        setResult([])\n        setValue('')\n        if(cacheMarker){\n          cacheMarker.setMap(null)\n          setCacheMarker(null)\n        }\n    }\n\n    const replanStart = (item, index) => {\n        console.log(`将第${index+1}天的第${item +1}个景点移动到：`)\n        let deleteItem = totalData[index][item]\n        Object.keys(deleteItem).forEach((key) => {\n            cache[key] = deleteItem[key]\n        })\n        if(setReplanIndex !== 0){\n            setReplanIndex(0)\n        }\n    }\n\n    const findIndex = (arr, str) => {\n        let indexArr = []\n        for(let i = 0 ; i < arr.length; i++){\n            for(let j = 0 ; j < arr[i].length ; j++){\n                if(arr[i][j].nameOfScence === str){\n                    indexArr.push(i)\n                    indexArr.push(j)\n                    break\n                }\n            }\n        }\n        return indexArr\n    }\n\n    const replan = (e) => {\n        let newIndex = replanIndex + 1\n        if(replanIndex < totalData.length ){\n            setReplanIndex(newIndex)\n        }\n        const { removedIndex, addedIndex } = e\n        if (removedIndex === null && addedIndex === null) return \n        if(addedIndex !== null){\n            console.log(`第${replanIndex + 1}天的第${addedIndex + 1}处！`)\n            let arr = JSON.parse(JSON.stringify(totalData))//深拷贝\n            let indexARRAY = findIndex(arr, cache.nameOfScence)\n            arr[indexARRAY[0]].splice(indexARRAY[1], 1)\n            arr[replanIndex].splice(addedIndex, 0 ,cache)\n            changePlan(arr)\n            setCache(new Daytrip())\n        }\n    }\n\n    const fetchPlaces = (mapProps, map) => {\n      console.log('地图完成初始化：', mapProps)\n      const {google} = mapProps;\n      let service = new google.maps.places.PlacesService(map)\n      setPlaceService(service)\n      setMapG(map)\n    }\n\n    const onMarkerClick = (props, marker) => {\n      console.log(marker)\n      let objArray = data.filter((item) => {\n        return item.nameOfScence === props.title\n      })\n      if(objArray[0].nameOfScence !== titleG){\n        setTitleG(objArray[0].nameOfScence)\n        setDesG(objArray[0].des)\n        setImgUrl(objArray[0].picURL)\n        setCenterPointObj(props.position)\n        setActiveMarker(marker)\n        setShowingInfoWindow(true)\n      } else {\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n    }\n\n    const onMapClicked = (props) => {\n      console.log('点击地图', props)\n    }\n\n    const test = (title) => {\n      if(showingInfoWindow){\n        setTitleG('')\n        setDesG('')\n        setImgUrl('')\n        setActiveMarker(null)\n        setShowingInfoWindow(false)\n      }\n      for(let i = 0; i < data.length; i++){\n        if(data[i].nameOfScence === title){\n          removeItem(i)\n        }\n      }\n    }\n\n    const closeWindow = () => {\n      setTitleG('')\n      setDesG('')\n      setImgUrl('')\n      setActiveMarker(null)\n      setShowingInfoWindow(false)\n    }\n\n    return (\n        <div className=\"outerContainer\">\n            <div id=\"container\" className=\"map\" style={{ height: `${getClientHeight()}px` }}>\n              {\n                data && data.length > 0\n                ?<Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt=''/>\n                      </div>\n                      <div className=\"btnContainer\">\n                        <div onClick={editItem}>景点排序</div>\n                        <div onClick={() => test(titleG)}>删除此点</div>\n                      </div>               \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n                :<Map \n                  google={google} \n                  zoom={15}\n                  containerStyle={googleMapcontainerStyle}\n                  onReady={fetchPlaces}\n                  onClick={onMapClicked}\n                  center={centerPointObj}\n                >\n                {\n                  data.map((item, index) => {\n                    let obj = {}\n                    obj.lat = parseFloat(item.latitude)\n                    obj.lng = parseFloat(item.longitude)\n                      return(\n                        <Marker\n                          key={index}\n                          title={item.nameOfScence}\n                          onClick={onMarkerClick}\n                          position={obj} \n                        >\n                        </Marker >\n                      )\n                    }\n                  )\n                }\n                  <InfoWindowEx\n                    marker={activeMarker}\n                    visible={showingInfoWindow}\n                    onClose={closeWindow}\n                  >\n                    <div className=\"windowContainerForGoogle\">\n                      <p>{titleG}</p>\n                      <p>{desG}</p>\n                      <div className=\"imgContainer\">\n                        <img className=\"img\" src={imgUrl} alt=''/>\n                      </div>\n                      <div className=\"btnContainer\">\n                        <div onClick={editItem}>景点排序</div>\n                        <div onClick={() => test(titleG)}>删除此点</div>\n                      </div>               \n                    </div>\n                  </InfoWindowEx>\n                </Map>\n              }\n            </div>\n            <div className=\"textFieldContainer\">\n                <FormControl variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\">请输入关键字</InputLabel>\n                    <OutlinedInput\n                        id=\"outlined-adornment-password\"\n                        type='text' \n                        value={value}\n                        onChange={(e)=>{setValue(e.target.value)}}\n                        endAdornment={\n                            result && result.length > 0\n                            ?<InputAdornment position=\"end\">\n                                <IconButton\n                                aria-label=\"toggle password visibility\"\n                                onClick={clear}\n                                edge=\"end\"\n                                >\n                                    <Clear />\n                                </IconButton>\n                            </InputAdornment>\n                            :<InputAdornment position=\"end\">\n                            <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={search}\n                            edge=\"end\"\n                            >\n                                <Search />\n                            </IconButton>\n                        </InputAdornment>\n                        }\n                        label=\"Password\"\n                    />\n                </FormControl>\n                <div className=\"resultsContainer\">\n                {\n                    result && result.length > 0\n                    ?<List>\n                    {result.map((item, index) => {\n                        return (\n                            <div key={index} onClick={() => {inJectPoint(item)}}>\n                                <ListItem >\n                                    <ListItemText primary={item.name} />\n                                </ListItem>\n                            </div>  \n                        )\n                    })\n                    }\n                    </List>\n                    :null\n                }\n                </div>\n            </div>\n            <div className=\"listContainer\" style={{ left: document.body.clientWidth < getClientHeight() ? '20px' : '220px' }}>\n                {data && data.length > 0\n                  ?<List>\n                  {\n                    data.map((item, index) => {    \n                      return (\n                        <div \n                          key={item.nameOfScence} \n                          onClick={() => {choosePoint(index)}}\n                        >\n                          <ListItem >\n                            <ListItemText primary={item.nameOfScence} />\n                          </ListItem>\n                          <Divider />\n                        </div>  \n                      )\n                  })  \n                  }\n                  </List>\n                  :null\n                }\n            </div>\n            <Dialog open={open} onClose={closeModal}>\n                <DialogTitle>请完善如下信息：</DialogTitle>\n                <div className=\"textContainer\">\n                    <TextField\n                      label=\"nameOfScence\" \n                      value={dayData.nameOfScence}\n                      onChange={(e) => {changeContent(e.target.value, \"nameOfScence\")}}\n                    />\n                    <div>\n                      <TextField \n                        label=\"longitude\" \n                        value={dayData.longitude}\n                        onChange={(e) => {changeContent(e.target.value, \"longitude\")}}\n                      />\n                      <TextField \n                        label=\"latitude\" \n                        value={dayData.latitude}\n                        onChange={(e) => {changeContent(e.target.value, \"latitude\")}}\n                      /> \n                    </div>\n                    <TextField \n                      label=\"des\" \n                      multiline \n                      value={dayData.des }\n                      onChange={(e) => {changeContent(e.target.value, \"des\")}}\n                    />\n                    <TextField \n                      multiline \n                      label=\"picURL\" \n                      value={dayData.picURL}\n                      onChange={(e) => {changeContent(e.target.value, \"picURL\")}}\n                    />\n                    <TextField \n                      label=\"pointOrNot\" \n                      value={dayData.pointOrNot}\n                      onChange={(e) => {changeContent(e.target.value, \"pointOrNot\")}}\n                    />\n                    <TextField \n                      label=\"category\" \n                      value={dayData.category}\n                      onChange={(e) => {changeContent(e.target.value, \"category\")}}\n                    />\n                    <TextField \n                      label=\"contructor\" \n                      value={dayData.contructor}\n                      onChange={(e) => {changeContent(e.target.value, \"contructor\")}}\n                    />\n                    <div className='btnContainer'>\n                      <Button \n                          color=\"primary\" \n                          variant=\"contained\"\n                          onClick={addItemFromMap}\n                      >\n                          保存到当日行程\n                      </Button>\n                    </div>\n                </div>\n            </Dialog>\n            <Dialog open={rePlanOpen} onClose={closeReplanModal}>\n                <DialogTitle>请拖动排序：</DialogTitle>\n                <div className='replanContainer2'>\n                {\n                    totalData.map((item, index) => (\n                        <div key={index} className='replanContainer1'>\n                            <div className='titlereplan'>{`第${index + 1}天`}</div>   \n                            <Container \n                                orientation=\"horizontal\"\n                                className='replanContainer' \n                                style={style}\n                                groupName=\"1\"\n                                getChildPayload={(i) => replanStart(i, index)}\n                                onDrop={replan}\n                            >\n                                {\n                                    item.map((item2, index2) => (\n                                        <Draggable \n                                            key={item2.nameOfScence} \n                                            style={{height: '30px'}}\n                                        >\n                                        <div \n                                            className='itemContainer'\n                                        >\n                                            {item2.nameOfScence}\n                                        </div>\n                                        </Draggable>\n                                    ))\n                                }\n                            </Container>\n                        </div>\n                    ))\n                }\n                </div>\n            </Dialog> \n        </div>\n    );\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (googleKey)\n})(GoogleMapComponent)\n\nclass InfoWindowEx extends Component {\n  constructor(props) {\n    super(props);\n    this.infoWindowRef = React.createRef();\n    this.contentElement = document.createElement(`div`);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.children !== prevProps.children) {\n      ReactDOM.render(\n        React.Children.only(this.props.children),\n        this.contentElement\n      );\n      this.infoWindowRef.current.infowindow.setContent(this.contentElement);\n    }\n  }\n\n  render() {\n    return <InfoWindow ref={this.infoWindowRef} {...this.props} />;\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport RemoveIcon from '@material-ui/icons/RemoveCircleOutline';\nimport { connect } from 'react-redux';\nimport Link from '@material-ui/core/Link';\nimport { Daytrip, checkNullInObj, checkInArray } from '../tools'\nimport MapComponent from './mapView';\nimport GoogleMapComponent from './googleMapView';\nimport{\n  saveTripSaga\n} from '../store/action'\nimport clsx from 'clsx';\n\nconst drawerWidth = 200;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    //padding: theme.spacing(3),\n  },\n  contentMode: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  drawerTitle: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  btn: {\n    marginTop: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  mapContainer: {\n    // backgroundColor: theme.palette.secondary.main,\n    // padding: 0,\n    // margin: 0,\n    // width: '100%',\n    // height: '100%',\n  },\n}));\n\nfunction ResponsiveDrawer({window, trip, dispatch, location}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  \n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  \n  const [data, setData] = React.useState(trip || location.params);\n\n  const [open, setOpen] = React.useState(false)//模式\n  \n  //const tripRef = useRef();\n\n  // useEffect(()=>{\n  //   tripRef.current = trip\n  //   console.log('tripRef.current',tripRef.current)\n  // }, [])\n\n  const change = (e, str, index) => {\n    if(str === 'category'){\n      data.detail[selectedIndex][index][str] = parseInt(e.target.value)\n    }else {\n      data.detail[selectedIndex][index][str] = e.target.value\n    }\n    setData({...data})\n  }\n\n  const removeItem = (index) => {\n    data.detail[selectedIndex].splice(index, 1)\n    setData({...data})\n  }\n\n  const removeDay = (e, index) => {\n    e.stopPropagation()\n    data.detail.splice(index, 1)\n    setData({...data})\n    if(index === selectedIndex){\n      setSelectedIndex(0)\n    }\n  }\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const submit = () => {\n    const array = data.detail\n    for (let i = 0 ; i < array.length ; i++){\n      let innerArray = array[i]\n      for (let j = 0 ; j < innerArray.length ; j++){\n        if(!checkNullInObj(innerArray[j])){\n          return alert('有未填的项目！')\n        }\n      }\n    }\n    \n    dispatch(saveTripSaga(data))\n    // if(R.equals(data, tripRef.current)){\n    //   alert('已保存！')\n    // } else {\n    //   alert('已发送！')\n    // }\n  }\n\n  const changePlan = (arr) => {\n    let newData = JSON.parse(JSON.stringify(data))\n    newData.detail = arr\n    console.log('终极数据：', newData)\n    setData(newData)\n  }\n\n  const AddOneItem = (o) => {\n    let obj = null\n    if(o){\n      obj = o\n    } else {\n      obj = new Daytrip()\n    }\n    //console.log('即将存的值：',obj)\n    if(data.detail.length > 0){\n      data.detail[selectedIndex].push(obj)\n      setData({...data})\n    }\n  }\n\n  const FirstEditMode = () => {\n    setOpen(!open)\n  }\n\n  const addOneDay = () => {\n    data.detail.push([])\n    setData({...data})\n  }\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} >\n        <p className={classes.drawerTitle}>\n          {data.tripName}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`by ${data.designer}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`行程编号：${data.uid}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`城市：${data.city}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`国家：${data.country}`}\n        </p>\n        <p className={classes.drawerTitle}>\n          {`标签：${data.tags}`}\n        </p>\n      </div>\n      <Divider />\n      <List>\n        <ListItem button onClick={addOneDay}>\n          添加一日行程\n          <ListItemIcon><AddIcon /></ListItemIcon>\n        </ListItem>\n        {\n          data.detail != null && data.detail.length > 0\n          ?data.detail.map((text, index) => (\n            <ListItem \n              button \n              key={index} \n              selected={selectedIndex === index}\n              onClick={() => {setSelectedIndex(index)}}\n            >\n              <ListItemText primary={`Day${index + 1}`}/>\n              <ListItemIcon\n                onClick={(e) => {removeDay(e, index)}}\n              >\n                <RemoveIcon />\n              </ListItemIcon>\n            </ListItem>\n          ))\n          : null\n        }\n      </List>\n      <Divider />\n    </div>\n  )\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n  //console.log(data.detail[selectedIndex])\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {\n      data\n      ?<React.Fragment>\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap className={classes.title}>\n              <Link color=\"inherit\" href=\"/editinit\">\n                地图数据编辑\n              </Link>\n            </Typography>\n            {\n              data.detail.length > 0 && data.detail[selectedIndex] && data.detail[selectedIndex].length > 0\n              ?<Button style={{marginRight: '5px'}}variant=\"outlined\" color=\"inherit\" onClick={FirstEditMode}>{!open ? '编辑模式' : '地图模式'}</Button>\n              : null\n            }\n            {\n              open && data.detail.length > 0\n              ?<Button style={{marginRight: '5px'}}variant=\"outlined\" color=\"inherit\" onClick={AddOneItem}>当天新增一点</Button>\n              : null\n            }\n            {\n              data.detail.length > 0 && checkInArray(data.detail)\n              ?<Button variant=\"outlined\" color=\"inherit\" onClick={submit}>SAVE</Button>\n              : null\n            }\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={clsx(!open && classes.content, open && classes.contentMode)}>\n        { \n          open && data.detail[selectedIndex] && data.detail[selectedIndex].length > 0\n          ?data.detail[selectedIndex].map((item, index) => {\n            return(\n            <React.Fragment key={index}>\n              <div className={classes.toolbar} />\n              <div>\n                <TextField \n                  label=\"nameOfScence\" \n                  value={item.nameOfScence}\n                  onChange={(e) => {change(e, 'nameOfScence', index)}}\n                />\n              </div>\n              <div>\n                <TextField \n                  value={item.longitude} \n                  label=\"longitude\"\n                  onChange={(e) => {change(e, 'longitude', index)}}\n                />\n                <TextField \n                  value={item.latitude} \n                  label=\"latitude\"\n                  onChange={(e) => {change(e, 'latitude', index)}}\n                />\n              </div>\n              <div>\n                <TextField\n                  value={item.des}\n                  multiline \n                  label=\"des\"\n                  onChange={(e) => {change(e, 'des', index)}}\n                />\n              </div>\n              <div>\n                <TextField \n                  multiline \n                  label=\"picURL\"\n                  value={item.picURL}\n                  onChange={(e) => {change(e, 'picURL', index)}}\n                />\n              </div>\n              <TextField \n                value={item.pointOrNot}\n                label=\"pointOrNot\" \n                onChange={(e) => {change(e, 'pointOrNot', index)}}\n              />\n              <TextField \n                value={item.category}\n                label=\"category\"\n                onChange={(e) => {change(e, 'category', index)}}\n              />\n              <div>\n                <TextField \n                  value={item.contructor}\n                  label=\"contructor\" \n                  onChange={(e) => {change(e, 'contructor', index)}}\n                />\n              </div>\n              <div className={classes.btn}>\n                <Button \n                  color=\"secondary\" \n                  variant=\"contained\"\n                  onClick={() => removeItem(index)}\n                >\n                {`删除第${selectedIndex + 1}天第${index + 1}个景点`}\n                </Button>\n              </div>\n              <Divider />\n            </React.Fragment>\n          )})\n          : data.domestic === 1 ?\n          <MapComponent \n            data={data.detail[selectedIndex]}\n            totalData={data.detail}\n            removeItem={removeItem}\n            AddOneItem={AddOneItem}\n            selectedIndex={selectedIndex}\n            changePlan={changePlan}\n          />\n          :<GoogleMapComponent\n            data={data.detail[selectedIndex]}\n            totalData={data.detail}\n            removeItem={removeItem}\n            AddOneItem={AddOneItem}\n            selectedIndex={selectedIndex}\n            changePlan={changePlan}\n          />\n        }     \n        </main>\n      </React.Fragment>\n      :null\n      }\n    </div>\n  );\n}\n\nResponsiveDrawer.propTypes = {\n  window: PropTypes.func,\n};\n\nexport default connect(\n  function mapStateToProps(state) {\n    return state;\n  },\n  function mapDispatchToProps(dispatch) {\n    return { dispatch };\n  }\n)(ResponsiveDrawer);","import React from 'react'\nimport { Route, Redirect, withRouter, Switch} from 'react-router-dom'\n\nimport { connect } from 'react-redux';\n\nimport Index from '../pages/index'\nimport Submit from '../pages/submit'\nimport SubmitArrange from '../pages/submitArrange'\nimport Signin from '../commonComponents/signin'\nimport Logon from '../commonComponents/logon'\nimport Photos from '../commonComponents/photos'\nimport EditInit from '../commonComponents/editinit'\nimport Story from '../commonComponents/story'\nimport PhotosInput from '../commonComponents/photosInput'\nimport PhotosEdit from '../commonComponents/photosEdit'\nimport TotalStorys from '../commonComponents/totalStorys'\nimport TotalTrips from '../commonComponents/totalTrips'\nimport Client from '../commonComponents/client'\nimport Edit from '../commonComponents/edit'\n\nconst RouteController = ({user, path, component: Component, ...rest}) => {\n\t//console.log(user,path)\n\treturn(\n\t\t<Route \n\t\t\t{...rest}\n\t\t\trender = {\n\t\t\t\t(props) =>  (user ? <Component {...props} /> : <Redirect to=\"/signin\" />)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst EditController = ({trip, component: Component, ...rest}) => {\n\t//console.log({...rest})\n\treturn(\n\t\t<Route \n\t\t\t{...rest}\n\t\t\trender = {\n\t\t\t\t(props) =>  (props.location.params || trip ? <Component {...props} /> : <Redirect to=\"/editinit\" />)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst InjectedRoute = withRouter(connect(function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(RouteController))\n\nconst InjectedEditRoute = withRouter(connect(function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(EditController))\n\nexport default () => \n\t<Switch>\n\t\t<InjectedRoute path='/' component ={Index} exact key='main'/>,\n\t\t<InjectedRoute path='/submit' component ={Submit} exact key='submit'/>,\n\t\t<InjectedRoute path='/submitArrange' component ={SubmitArrange} exact key='submitArrange'/>,\n\t\t<Route path='/signin' component ={Signin} exact key='signin'/>,\n\t\t<Route path='/logon' component ={Logon} exact key='logon'/>,\n\t\t<Route path='/photos' component ={Photos} exact key='photos'/>,\n\t\t<InjectedRoute path='/photosInput' component ={PhotosInput} exact key='photosInput'/>,\n\t\t<InjectedRoute path='/photosEdit' component ={PhotosEdit} exact key='photosEdit'/>,\n\t\t<InjectedRoute path='/story' component ={Story} exact key='story'/>,\n\t\t<InjectedRoute path='/totalStorys' component ={TotalStorys} exact key='totalstorys'/>,\n\t\t<InjectedRoute path='/client' component ={Client} exact key='client'/>,\n\t\t<InjectedRoute path='/editinit' component ={EditInit} exact key='editinit'/>,\n\t\t<InjectedRoute path='/totalTrips' component ={TotalTrips} exact key='totalTrips'/>,\n\t\t<InjectedEditRoute path='/edit' component ={Edit} exact key='edit'/>,\n\t\t{/* <Route path='*' exact key='404' render = {() => (<Redirect to=\"/signin\" />)}/>, */}\n\t</Switch>\n","import {\n  SET_NEXTSTICKERUSERSINCREASED,\n  SET_ALL,\n  SET_LOADING,\n\tSET_USER,\n  SET_FENYE,\n\tSET_PAGE,\n  SET_WORKERS,\n  SET_CHART_DATA,\n  SET_TABLE_DATA,\n  SET_ARRANGEDATA,\n  SET_ARRANGEDATA_ARRAY,\n  SET_ARRANGEDATA_DELETE,\n  SET_LEFT,\n  SET_RIGHT,\n  SET_TRIP,\n  SET_ITEM,\n  SET_PAGEINDEX,\n} from './action'\n\nimport { \n  ATTANGEDATA,\n  expire,\n  saveData,\n  workers, \n  format, \n  whichPage\n} from '../tools';\n\nexport default {\n  chartData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_CHART_DATA:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  tableData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_TABLE_DATA:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  left(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_LEFT:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  right(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_RIGHT:\n        return payload;\n      default:\n    }\n    return state;\n  },\n\tuser(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_USER:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  trip(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_TRIP:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  item(state = '', action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ITEM:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  all(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ALL:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  loading(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_LOADING:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  whichPage(state = whichPage, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_PAGE:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  fenye(state = 1, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_FENYE:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  nextstickerUsersIncreased(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_NEXTSTICKERUSERSINCREASED:\n        return payload;\n      default:\n    }\n    return state;\n  },\n  workers(state = format(workers), action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_WORKERS:\n        let arr = [...state]\n        arr.forEach((i) => {\n          i.forEach((item, index) => {\n            if(payload && item.name === payload){\n              item.isChoosed = !item.isChoosed\n            } else if(!payload){\n              item.isChoosed = false\n            }\n          })\n        })\n        return arr;\n      default:\n    }\n    return state;\n  },\n  list(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case SET_WORKERS:\n        if(!payload){\n          return []\n        }\n        let newList1 = [...state]\n        if(newList1.length > 0){\n          let index = newList1.findIndex(i => i === payload)\n          if(index > -1){\n            newList1.splice(index, 1)\n          } else {\n            newList1.push(payload)\n          }\n        } else {\n          newList1.push(payload)\n        }\n        return newList1;\n      default:\n    }\n    return state;\n  },\n  arrangeData(state = [], action){\n    const { type, payload } = action;\n    switch (type) {\n      case SET_ARRANGEDATA:\n        const { date, list } = payload\n        let data = {'date': date, 'list': list}\n        let arr = [...state]\n        let index = arr.findIndex( i => i.date === date)\n        if(index > -1){\n          arr.splice(index, 1, data)\n        } else {\n          arr.push(data)\n          arr.sort(function(a, b){return a.date - b.date})\n        }\n        saveData(ATTANGEDATA, arr, expire)\n        return arr;\n      case SET_ARRANGEDATA_ARRAY:\n        let arr2 = [...payload]\n        return arr2;\n      case SET_ARRANGEDATA_DELETE:\n        let arr1 = [...state]\n        arr1.splice(payload, 1)\n        saveData(ATTANGEDATA, arr1, expire)\n        return arr1;\n      default:\n    }\n    return state;\n  },\n  pageIndex(state = 1, action){\n    const { type, payload } = action;\n    switch (type) {\n      case SET_PAGEINDEX:\n        return payload;\n      default:\n    }\n    return state;\n  }\n}","import axios from 'axios'\nimport { push } from 'connected-react-router'\nimport { all, put, takeEvery } from 'redux-saga/effects'\nimport {\n  setUser,\n  setWorker,\n  setArrangeDataArray,\n  setPage,\n  setChartData,\n  setTableData,\n  setAll,\n  setLoading,\n  setFenye,\n  setLeft,\n  setRight,\n  setTrip,\n  setItem,\n\n  SET_LIST_SAGA,\n  GET_ARRANGEDATA_SAGA,\n  GET_USER_SAGA,\n  LOGIN_SAGA,\n  REGISTER_SAGA,\n  LOGOUT_SAGA,\n  SUBMIT_SAGA,\n  COUNT_SAGA,\n  PHOTOS_SAGA,\n  NEWTRIP_SAGA,\n  NEWITEM_SAGA,\n  SAVETRIP_SAGA\n} from './action'\n\nimport { \n  ATTANGEDATA,\n  USER,\n  TOKEN,\n  expire,\n  workers, \n  readData,\n  deleteData,\n  saveData,\n  width,\n  pic,\n  getImg,\n  Trip\n} from '../tools'\n\nfunction* check(action){\n  const { payload } = action;\n  let index = workers.findIndex(i => i.name === payload)\n  if (index > -1){\n    yield put(setWorker(payload))\n  } else {\n    return \n  }\n}\n\nfunction* getArrangeData(){\n  let cache = readData(ATTANGEDATA)\n  if (cache && Date.now() < cache.expires) {\n    yield put(setArrangeDataArray(cache.data))\n    return\n  } else if(cache){\n    deleteData(ATTANGEDATA)\n  } else {return}\n}\n\nfunction* getUserData(){\n  let cache = readData(USER)\n  if (cache && Date.now() < cache.expires) {\n    yield put(setUser(cache.data))\n    return\n  } else if(cache){\n    deleteData(USER)\n  } else {return}\n}\n\nfunction* loginSaga(action){\n  try{\n    const data = yield axios.post('/api/users/login',{...action.payload})\n      if(data.data){\n        yield put(setUser(data.data.name))\n        saveData(USER, data.data.name, expire)\n        saveData(TOKEN, data.data.token, expire)\n        yield put(push('/'))\n      } else {\n        alert('查无此人！')\n      }\n  }catch(e){\n    alert(e)\n  }\n  \n}\n\nfunction* registerSaga(action){\n  try{\n    const data = yield axios.post('/api/users',{...action.payload})\n    if(data.data && typeof data.data === 'string'){\n      alert('用户已存在，请直接登录！')\n    } else if(data.data && typeof data.data === 'object'){\n      alert('注册成功！！')\n    } else {\n      alert('系统出错，稍后再试！')\n    }\n  }\n  catch(e){\n    alert(e)\n  }\n}\n\nfunction* logoutSaga(){\n  yield axios.post('/api/users/logout')\n  yield put(setUser(null))\n  deleteData(USER)\n  deleteData(TOKEN)\n  yield put(setPage(0))\n}\n\nfunction* submitSaga(action){\n  const work = yield axios.post('/api/work/submit',{...action.payload},{\n    headers: {'Authorization': 'Bearer ' +readData(TOKEN).data}\n  })\n  if(work.data){\n    yield put(push('/'))\n  }\n}\n\nfunction* countSage(action){\n  yield put(setLoading(true))\n  const work = yield axios.get('/api/work/count',{params: {\n    page: action.payload\n  }})\n  //console.log(work.data.output)\n  yield put(setChartData(work.data.output))\n  yield put(setTableData(work.data.arrWork))\n  yield put(setAll(work.data.total))\n  yield put(setLoading(false))\n  let page = action.payload + 1\n  yield put(setFenye(page))\n}\n\nfunction* photosSage(action){\n  //console.log(action.payload)\n  \n  let a = []\n  let prevLeft = 0;\n  let prevRight = 0;\n  let right = []\n  let left = []\n\n  for (let i = 0 ; i < pic.length ; i++){\n    let b = yield getImg(pic[i], width)\n    a.push(b)\n    if(prevLeft >= prevRight){\n      right.push(a[i])\n      prevRight = prevRight + a[i].height\n    } else {\n      left.push(a[i])\n      prevLeft = prevLeft + a[i].height\n    }\n  }\n\n  yield put(setLeft(left))\n  yield put(setRight(right))\n}\n\nfunction* newTripSage (action) {\n  if(typeof action.payload === 'object'){\n    console.log(action.payload)\n    const {tripName, designer, uid, domestic, city, country, tags} = action.payload\n    try{\n      const trip = yield axios.get('/api/trip/get',{params: {\n        uid: uid\n      }})\n      if(trip.data){\n        alert('该行程编号对应的行程已存在！')\n        yield put(setTrip(trip.data))\n        yield put(push('/edit'))\n      } else {\n        //let obj = new Daytrip()\n        let newTrip = new Trip(uid, tripName, designer, domestic, city, country, tags, [[]])\n        console.log(newTrip)\n        yield put(setTrip(newTrip))\n        yield put(push('/edit'))\n      }\n    }catch(err){\n      alert(err)\n    }\n  } else {\n    try{\n      const trip = yield axios.get('/api/trip/get',{params: {\n        uid: action.payload\n      }})\n      if(trip.data){\n        yield put(setTrip(trip.data))\n        yield put(push('/edit'))\n      } else {\n        alert('无对应的行程！')\n      }\n    }catch(err){\n      alert(err)\n    }\n  }\n}\n\nfunction* saveTripSage (action) {\n  try{\n    const trip = yield axios.post('/api/trip/new',{...action.payload})\n    if(trip.data){\n      alert('保存成功！')\n      yield put(push('/editinit'))\n    }\n  }catch(err){\n    alert(err)\n  }\n}\n\nfunction* newItemSage (action){\n  try{\n    const item = yield axios.post('/api/trip/newItem',{...action.payload})\n    if(item.data){\n      alert('添加成功！')\n      yield put(setItem(''))\n    } else{\n      alert('不可添加重复的文章！！')\n    }\n  }catch(err){\n    alert(err)\n  }\n}\n\nexport default function* mySaga (){\n\tyield all(\n    [\n      takeEvery(SET_LIST_SAGA, check),\n      takeEvery(GET_ARRANGEDATA_SAGA, getArrangeData),\n      takeEvery(GET_USER_SAGA, getUserData),\n      takeEvery(LOGIN_SAGA, loginSaga),\n      takeEvery(REGISTER_SAGA, registerSaga),\n      takeEvery(LOGOUT_SAGA, logoutSaga),\n      takeEvery(SUBMIT_SAGA, submitSaga),\n      takeEvery(COUNT_SAGA, countSage),\n      takeEvery(PHOTOS_SAGA, photosSage),\n      takeEvery(NEWTRIP_SAGA, newTripSage),\n      takeEvery(NEWITEM_SAGA, newItemSage),\n      takeEvery(SAVETRIP_SAGA, saveTripSage),\n    ]\n  )\n}","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\n\nimport reducer from './reducer'\nimport {workers, format, whichPage} from '../tools'\nimport mySaga from './sagas'\n\nexport const history = createBrowserHistory()\n\nconst routeMiddleware = routerMiddleware(history)\nconst sagaMiddleware = createSagaMiddleware()\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    combineReducers({\n    \t...reducer,\n    \trouter: connectRouter(history),\n    }),\n    { \n      fenye: 1,\n      all: 0,\n      loading: false,\n      user: null,\n      chartData: null,\n      tableData: null,\n      whichPage: whichPage,\n      workers: format(workers),\n      list: [],\n      arrangeData: [],\n      left: [],\n      right: [],\n      trip: null,\n      item: '',\n      pageIndex: 1,\n      nextstickerUsersIncreased: 0\n    },\n    composeEnhancers(applyMiddleware(routeMiddleware, sagaMiddleware))\n);\n\nsagaMiddleware.run(mySaga)\n\nexport default store","import React from 'react';\nimport Routes from './routers';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { Provider } from 'react-redux';\nimport store, { history } from './store/store'\n\nfunction App() {\n\t//console.log('start')\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t<Routes />\n\t\t\t</ConnectedRouter>\n\t\t</Provider>\n\t)\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nif ('production' === process.env.NODE_ENV) {\n  serviceWorker.register();\n} else {\n  serviceWorker.unregister();\n}\n"],"sourceRoot":""}