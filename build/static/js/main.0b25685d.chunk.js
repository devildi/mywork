(this.webpackJsonpmywork=this.webpackJsonpmywork||[]).push([[0],{284:function(e,t,a){},293:function(e,t,a){},370:function(e,t,a){e.exports=a(645)},375:function(e,t,a){},608:function(e,t,a){},645:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),o=(a(375),a(3)),l=a(158),u=a(17),s=a(5),m=a(296),d=(a(380),a(688)),p=a(690),f=a(299),g=a.n(f),h=a(298),b=a.n(h),v=a(297),E=a.n(v),y=a(691),O=Object(m.a)({root:{width:"100%",position:"fixed",right:0,bottom:0,borderTop:"1px solid #A9A9A9"}});function j(e){var t=O(),a=e.whichPage,n=e.onSelect,c=e.nextstickerUsersIncreased;return r.a.createElement(d.a,{value:a,onChange:function(e,t){n(t)},className:t.root},r.a.createElement(p.a,{icon:r.a.createElement(y.a,{badgeContent:c,color:"secondary"},r.a.createElement(E.a,null))}),r.a.createElement(p.a,{icon:r.a.createElement(b.a,null)}),r.a.createElement(p.a,{icon:r.a.createElement(g.a,null)}))}var w=a(694),x=a(300),k=a.n(x),S=a(693),C=a(692),N=Object(m.a)((function(e){return{root:{textAlign:"center"}}}));function A(e){var t=e.title,a=e.history,n=N();return r.a.createElement(C.a,null,r.a.createElement(S.a,null,a?r.a.createElement(w.a,{edge:"start",color:"inherit",onClick:function(){a.goBack()}},r.a.createElement(k.a,null)):null,r.a.createElement("div",{className:n.root},r.a.createElement("p",null,t))))}var T=a(695),I=a(302),D=a.n(I),R=a(303),_=a.n(R),P=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),position:"fixed",right:e.spacing(1),bottom:e.spacing(8)}}}}));function L(e){var t=e.add,a=e.push,n=e.clear,c=e.arrange,i=P(),o=Object(l.f)();return r.a.createElement("div",{className:i.root},r.a.createElement(T.a,{color:"primary","aria-label":"add",onClick:a?function(){o.push("./submit")}:function(){o.goBack(),c&&n()}},t?r.a.createElement(D.a,null):r.a.createElement(_.a,null)))}var G=a(304),M=a.n(G),U=a(29),H=a(723),F=a(702),W=a(97),B=a(720),z=a(697),K=a(701),V=a(700),J=a(696),Y=a(698),X=a(699),Q=a(204),q=Object(m.a)({table:{minWidth:"650"}});function Z(e){var t=e.rows,a=q();return r.a.createElement(J.a,{component:Q.a},r.a.createElement(z.a,{className:a.table,"aria-label":"simple dense table"},r.a.createElement(Y.a,null,r.a.createElement(X.a,null,r.a.createElement(V.a,null,"\u65e5\u671f"),r.a.createElement(V.a,{align:"right"},"\u955c\u5934"),r.a.createElement(V.a,{align:"right"},"\u8282\u76ee"),r.a.createElement(V.a,{align:"right"},"\u63cf\u8ff0"))),r.a.createElement(K.a,null,t&&t.length>0?r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement(X.a,{key:t},r.a.createElement(V.a,{component:"th",scope:"row"},"".concat(new Date(e.date).getMonth()+1,"\u6708").concat(new Date(e.date).getDate(),"\u65e5")),r.a.createElement(V.a,{align:"right"},e.shootnums),r.a.createElement(V.a,{align:"right"},e.program),r.a.createElement(V.a,{align:"right"},e.des))}))):null)))}function $(e){var t=e.children,a=e.value,n=e.index,c=Object(o.a)(e,["children","value","index"]);return r.a.createElement(W.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},c),a===n&&r.a.createElement(B.a,{p:3},t))}var ee=Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},div:{height:e.spacing(7)}}}));function te(e){var t=e.rows,a=ee(),n=Object(U.a)(),c=r.a.useState(0),i=Object(s.a)(c,2),o=i[0],l=i[1];return r.a.createElement("div",{className:a.root},t&&t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{position:"static",color:"default"},r.a.createElement(H.a,{value:o,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},t.map((function(e,t){return r.a.createElement(F.a,Object.assign({key:t,label:e[0].whose.name},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)))})))),r.a.createElement(M.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){l(e)}},t.map((function(e,t){return r.a.createElement($,{key:t,value:o,index:t,dir:n.direction},r.a.createElement(Z,{rows:e}))}))),r.a.createElement("div",{className:a.div})):null)}var ae=a(85),ne=a(41),re=a(11),ce=a.n(re),ie=a(36),oe={position:"relative",width:"100%",height:"100%"},le=["https://cn.bing.com/th?id=OIP.WMpknoaU9SsncVEW7W6SzAHaLH&pid=Api&rs=1","http://youimg1.c-ctrip.com/target/fd/tg/g4/M0A/CA/30/CggYHlbEXmaAYGfJAAnFAUl5-Pk911.jpg"],ue="https://cdn.moji.com/websrc/video/video621.mp4",se="https://res.cloudinary.com/dnfhsjz8u/image/upload/v1620372687/u_4168080911_4188088242_fm_15_gp_0_qfgrpg.jpg";function me(e,t,a){window.localStorage.setItem(e,JSON.stringify({expires:Date.now()+1e3*a,data:t}))}function de(e){return JSON.parse(window.localStorage.getItem(e)||"{}")}function pe(e){window.localStorage.removeItem(e)}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}var ge=["\u9ad8\u7ea7\u67dc\u5458","\u67dc\u5458","\u4e3b\u7ba1","\u5ba2\u6237\u7ecf\u7406"];function he(e){return[e.filter((function(e){return"\u9ad8\u7ea7\u67dc\u5458"===e.role})),e.filter((function(e){return"\u5ba2\u6237\u7ecf\u7406"===e.role})),e.filter((function(e){return"\u4e3b\u7ba1"===e.role})),e.filter((function(e){return"\u67dc\u5458"===e.role}))]}var be=[{name:"\u97a0\u5c0f\u9732",role:ge[0],isChoosed:!1,days:0},{name:"\u97a0\u9732",role:ge[1],isChoosed:!1,days:0},{name:"\u5c0f\u9732",role:ge[2],isChoosed:!1,days:0},{name:"\u97a0\u5c0f44",role:ge[3],isChoosed:!1,days:0},{name:"\u97a066",role:ge[0],isChoosed:!1,days:0},{name:"\u97a0\u5c0f\u9732\u7a81\u7a81\u7a81",role:ge[0],isChoosed:!1,days:0}];function ve(e){return e.includes('src="')?e.split('src="')[1].split('"')[0]:e}function Ee(e){if(e&&e.length>0){for(var t=0;t<e.length;t++)e[t].name=new Date(e[t].name).getMonth()+1+"/"+new Date(e[t].name).getDate();return e}return e}function ye(){for(var e="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(","),t="#",a=0;a<6;a++)t+=e[Math.floor(16*Math.random())];if("#ffffff"!==t)return t;t()}function Oe(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e}function je(){return document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight}function we(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}var xe=function(e){return new Promise((function(t,a){var n=new Image;n.src=e;var r=setInterval((function(){(n.width>0||n.height>0)&&(clearInterval(r),t(n))}),10)}))},ke=function(){var e=Object(ie.a)(ce.a.mark((function e(t,a){var n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:return n=e.sent,r=Math.floor(n.height*a/n.width),n.height=r,n.width=a,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Se=Math.floor(document.body.clientWidth/2),Ce=function(e){for(var t in e)if(""===e[t])return!1;return!0},Ne=["https://tse3-mm.cn.bing.net/th/id/OIP.RiVuBdPbyZfUqwaC_rMgaAHaFj?w=200&h=189&c=7&o=5&dpr=2&pid=1.7","https://tse3-mm.cn.bing.net/th/id/OIP.PjwD3caT4zGrmyx5OSmsXQHaE7?w=285&h=185&c=7&o=5&dpr=2&pid=1.7","https://tse4-mm.cn.bing.net/th/id/OIP.D9KCoJ2Szl3p8iiUt1XQ7wHaJQ?w=166&h=198&c=7&o=5&dpr=2&pid=1.7","https://tse2-mm.cn.bing.net/th/id/OIP.SAwRQOIAiwRcVE35WAu3lgHaEK?w=293&h=164&c=7&o=5&dpr=2&pid=1.7","https://tse2-mm.cn.bing.net/th/id/OIP.kzjuEOfhlRGHlAU7XTcRtgHaNJ?w=115&h=184&c=7&o=5&dpr=2&pid=1.7","https://tse3-mm.cn.bing.net/th/id/OIP.rb333I9ISUGd2y2bjn-qiQAAAA?w=299&h=194&c=7&o=5&dpr=2&pid=1.7","https://tse3-mm.cn.bing.net/th/id/OIP.qEiMn_h7rMBHf9QlQw8k2QHaEo?w=260&h=162&c=7&o=5&dpr=2&pid=1.7","https://tse2-mm.cn.bing.net/th/id/OIP._-DDuCgiElSuM37yuL-x9wHaE4?w=275&h=177&c=7&o=5&dpr=2&pid=1.7","https://tse3-mm.cn.bing.net/th/id/OIP.s_SXVVhK1MZhrGXQjWdOUAHaFm?w=212&h=160&c=7&o=5&dpr=2&pid=1.7"],Ae=function e(t,a,n,r,c,i,o,l){Object(ne.a)(this,e),this.uid=t,this.tripName=a,this.designer=n,this.domestic=r,this.city=c,this.country=i,this.tags=o,this.detail=l},Te=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"contructor",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Object(ne.a)(this,e),this.nameOfScence=t,this.longitude=a,this.latitude=n,this.des=r,this.picURL=c,this.pointOrNot=i,this.contructor=o,this.category=l,this.done=u},Ie={width:"400px",margin:"5px",height:"100px",display:"flex",flexDirection:"row",flexWrap:"wrap",padding:"5px",backgroundColor:"#f0f0f0",borderRadius:"5px"},De=function(e){return e?Object.keys(e[0]).filter((function(e){return"name"!==e})):null},Re=Object(m.a)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"}}}));function _e(e){var t=e.data,a=e.width,n=Re();return r.a.createElement(r.a.Fragment,null,De(t)?r.a.createElement(ae.d,{width:a,height:200,data:t},r.a.createElement(ae.a,{strokeDasharray:"3 3"}),r.a.createElement(ae.f,{dataKey:"name"}),r.a.createElement(ae.g,null),r.a.createElement(ae.e,null),r.a.createElement(ae.b,null),De(t).map((function(e){return r.a.createElement(ae.c,{type:"monotone",key:e,dataKey:e,stroke:ye()})}))):r.a.createElement("div",{className:n.root},"\u6682\u65e0\u6570\u636e"))}var Pe=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"}}})),Le=function(e){var t=e.data,a=e.rows,n=e.width,c=Pe();return r.a.createElement("div",{className:c.root},r.a.createElement(_e,{data:t,width:n}),r.a.createElement(te,{rows:a}),r.a.createElement(L,{add:!0,push:!0}))},Ge=a(14),Me=a.n(Ge);a(608);function Ue(e){var t=e.day,a=e.onSelect;if(!t)return r.a.createElement("td",{className:"null"});var n=[],c=fe();t<c&&n.push("disabled"),[6,0].includes(new Date(t).getDay())&&n.push("weekend");var i=c===t?"\u4eca\u5929":new Date(t).getDate();return r.a.createElement("td",{className:Me()(n),onClick:function(){return a(t)}},i)}function He(e){var t=e.days,a=e.onSelect;return r.a.createElement("tr",{className:"date-table-days"},t.map((function(e,t){return r.a.createElement(Ue,{key:t,day:e,onSelect:a})})))}function Fe(e){for(var t=e.startingTimeInMonth,a=e.onSelect,n=e.block,c=new Date(t),i=new Date(t),o=[];o.length!==21-n;)o.push(i.getTime()),i.setDate(i.getDate()+1);o=new Array(c.getDay()?c.getDay()-1:6).fill(null).concat(o);for(var l=[],u=0;u<o.length/7;++u){var s=o.slice(7*u,7*(u+1));l.push(s)}return r.a.createElement("table",{className:"date-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7"},r.a.createElement("h5",null,(new Date).getFullYear(),"\u5e74",(new Date).getMonth()+1,"\u6708")))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"data-table-weeks"},r.a.createElement("th",{className:"date-table-th"},"\u5468\u4e00"),r.a.createElement("th",{className:"date-table-th"},"\u5468\u4e8c"),r.a.createElement("th",{className:"date-table-th"},"\u5468\u4e09"),r.a.createElement("th",{className:"date-table-th"},"\u5468\u56db"),r.a.createElement("th",{className:"date-table-th"},"\u5468\u4e94"),r.a.createElement("th",{className:"weekend"},"\u5468\u516d"),r.a.createElement("th",{className:"weekend"},"\u5468\u65e5")),l.map((function(e,t){return r.a.createElement(He,{key:t,days:e,onSelect:a})}))))}function We(e){var t=e.onSelect,a=new Date,n=(new Date).getDate(),c=(new Date).getDay();a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);var i=function(e,t){var a=null;return{day:a=0===t&&e>6?e-6:0===t&&e<=6?1:e+1-t,block:1===a&&1!==t?t-1:0}}(n,c),o=i.day,l=i.block;a.setDate(o);var u=[a.getTime()];return r.a.createElement("div",{className:Me()("date-selector")},r.a.createElement("div",{className:"date-selector-tables"},u.map((function(e){return r.a.createElement(Fe,{key:e,onSelect:t,startingTimeInMonth:e,block:l})}))))}var Be=a(725),ze=a(106),Ke=a.n(ze),Ve=a(646),Je=(a(284),Object(m.a)((function(e){return{root:{margin:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},div:{padding:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:e.spacing(7)},div1:{padding:e.spacing(.5),marginBottom:e.spacing(2),border:"1px solid #f0f0f0",borderRadius:e.spacing(1),backgroundColor:"#f0f0f0"},chip:{margin:e.spacing(.5,.5,.5,0)},title:{position:"relative"},icon:{position:"absolute",top:0,right:0},div2:{display:"flex",justifyContent:"center",height:"100%"},div3:{height:"100%",overflow:"hidden"}}})));function Ye(e){var t=e.arr,a=e.toArrange,c=e.clearDay,i=Object(n.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1],m=Je();return Object(n.useEffect)((function(){0!==t.length&&u(!0)}),[t.length]),r.a.createElement("div",{className:m.div},t.map((function(e,t){return r.a.createElement(Ve.a,Object.assign({in:l,key:t},l?{timeout:500*t}:{}),r.a.createElement("div",{className:m.div1,key:e.date,onClick:function(){return a(t)}},r.a.createElement("div",{className:m.title},r.a.createElement(W.a,{variant:"h6",component:"h2"},"".concat(new Date(e.date).getMonth()+1,"\u6708").concat(new Date(e.date).getDate(),"\u65e5\u6392\u73ed\u60c5\u51b5\uff1a")),r.a.createElement(Ke.a,{className:m.icon,onClick:function(e){return function(e,t){e.stopPropagation(),c(t)}(e,t)}})),r.a.createElement("div",null,e.list.map((function(e,t){return r.a.createElement(Be.a,{color:"primary",key:e,label:e,className:m.chip,variant:"outlined"})})))))})))}var Xe=function(e){var t=e.onSelect,a=e.arrangeData,n=e.toArrange,c=e.clearDay,i=Je();return r.a.createElement("div",{className:i.div3},r.a.createElement(We,{onSelect:t}),a&&a.length>0?r.a.createElement(Ye,{arr:a,toArrange:n,clearDay:c}):r.a.createElement("div",{className:i.div2},"\u6682\u65e0\u6570\u636e"))},Qe=a(704),qe=a(726),Ze=a(314),$e=a.n(Ze),et=a(703),tt=Object(m.a)((function(e){return{root:{paddingTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",height:"100%",overflow:"hidden"},avatar:{width:e.spacing(13),height:e.spacing(13)},btn:{marginTop:e.spacing(4),width:e.spacing(20)},paper:{height:e.spacing(10),fontSize:20,display:"flex",alignItems:"center",justifyContent:"center"},container:{padding:e.spacing(5,1,0,1)},div:{height:e.spacing(9)}}}));function at(e){var t=e.user,a=e.logout,n=e.history,c=e.flag,i=tt(),o=function(e){n.push({pathname:e})};return r.a.createElement("div",{className:i.root},r.a.createElement(qe.a,{className:i.avatar,onClick:function(){"wudi"===t&&n.push("/logon")},src:se},t),r.a.createElement(et.a,{container:!0,spacing:1,className:i.container},r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/photosInput")}},"\u7167\u7247\u5f55\u5165")),r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/photosEdit")}},"\u6240\u6709\u7167\u7247")),r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/story")}},"\u7011\u5e03\u6d41\u6570\u636e\u7f16\u8f91")),r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/totalStorys")}},"\u6240\u6709\u7011\u5e03\u6d41\u6570\u636e")),r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/editinit")}},"\u884c\u7a0b\u8bbe\u8ba1")),r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/totalTrips")}},"\u5168\u90e8\u884c\u7a0b")),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(Q.a,{elevation:3,className:i.paper,onClick:function(){return o("/client")}},c?"\u6709\u65b0\u589e\u7528\u6237":"NextSticker\u7684\u5168\u4f53\u5ba2\u6237"))),r.a.createElement(Qe.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement($e.a,null),className:i.btn,onClick:function(){return a()}},"\u9000\u51fa\u767b\u5f55"),r.a.createElement("div",{className:i.div}))}function nt(e){return{type:"SET_TRIP",payload:e}}function rt(e){return{type:"SET_LOADING",payload:e}}function ct(e){return{type:"SET_PAGEINDEX",payload:e}}function it(e){return{type:"SET_FENYE",payload:e}}function ot(e){return{type:"SET_USER",payload:e}}function lt(e){return{type:"SET_PAGE",payload:e}}function ut(e){return{type:"SET_WORKERS",payload:e}}function st(e){return{type:"SET_RIGHT",payload:e}}function mt(e){return{type:"COUNT_SAGA",payload:e}}function dt(e){return{type:"NEWTRIP_SAGA",payload:e}}var pt=Object(m.a)((function(e){return{root:{padding:e.spacing(8,0,0,0),height:"100%"}}}));var ft=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=["\u7528\u6237","\u6392\u73ed","\u529e\u516c\u6570\u636e"],a=e.user,c=e.whichPage,i=e.fenye,o=e.history,l=e.arrangeData,u=e.chartData,m=e.tableData,d=e.all,p=e.loading,f=e.nextstickerUsersIncreased,g=e.dispatch,h=pt(),b=Object(n.useRef)(),v=Object(n.useRef)(),E=Object(n.useRef)(),y=Object(n.useState)(document.body.clientWidth),O=Object(s.a)(y,2),w=O[0],x=O[1];Object(n.useEffect)((function(){b.current=m,v.current=d,E.current=i})),Object(n.useEffect)((function(){return window.addEventListener("resize",k),function(){window.removeEventListener("resize",(function(){}))}}),[]);var k=function(){x(document.body.clientWidth)};Object(n.useEffect)((function(){return window.addEventListener("scroll",S),function(){window.removeEventListener("scroll",(function(){}))}}));var S=function(){if(we()-Oe()-je()<=20&&!p){if(!(function(e){var t=0;if(e){for(var a=0;a<e.length;a++)t+=e[a].length;return t}return t}(b.current)<v.current))return;g(mt(E.current))}};return Object(n.useEffect)((function(){g(mt(1)),g({type:"GET_ARRANGEDATA_SAGA"})}),[g]),r.a.createElement("div",{className:h.root},0===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{title:t[c]}),r.a.createElement(at,{user:a,logout:function(){g({type:"LOGOUT_SAGA"})},history:o,flag:f>0})),1===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{title:t[c]}),r.a.createElement(Xe,{history:o,onSelect:function(e){var t=fe();if(!(e<t)){if(l&&l.length>0){var a=l.findIndex((function(t){return t.date===e}));if(a>-1)for(var n=l[a].list,r=0;r<n.length;r++)g(ut(n[r]))}o.push({pathname:"/submitArrange",payload:{date:e}})}},arrangeData:l,toArrange:function(e){for(var t=l[e].list,a=0;a<t.length;a++)g(ut(t[a]));o.push({pathname:"/submitArrange",payload:{date:l[e].date}})},clearDay:function(e){g({type:"SET_ARRANGEDATA_DELETE",payload:e})}})),2===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{title:t[c]}),r.a.createElement(Le,{data:Ee(u),rows:m,width:w})),r.a.createElement(j,{onSelect:function(e){g(lt(e))},whichPage:c,nextstickerUsersIncreased:f}))})),gt=a(722),ht=a(154),bt=a.n(ht),vt=a(315),Et=a(37),yt=a(721),Ot=a(727),jt=a(7),wt=Object(m.a)((function(e){return{root:{width:"100%"}}}));var xt=Object(Ot.a)((function(e){return{}})),kt=Object(jt.a)(xt)((function(e){var t=e.getDate,a=wt(),n=r.a.useState(new Date),c=Object(s.a)(n,2),i=c[0],o=c[1];return r.a.createElement(Et.a,{utils:vt.a},r.a.createElement(yt.a,{value:i,onChange:function(e){o(e),t(fe(e.$d))},autoOk:!0,variant:"inline",inputVariant:"outlined",format:"YYYY/MM/DD",className:a.root}))})),St=Object(m.a)((function(e){return{root:{margin:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{margin:e.spacing(1),width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},submit:{width:"100%",margin:e.spacing(1),height:e.spacing(7)}}}));var Ct=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=St(),c=Object(n.useState)(0),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),h=g[0],b=g[1],v=Object(n.useState)(fe()),E=Object(s.a)(v,2),y=E[0],O=E[1];return r.a.createElement("div",{className:a.root},r.a.createElement("form",{className:a.form,noValidate:!0,autoComplete:"off"},r.a.createElement(gt.a,{className:a.submit,id:"number",label:"\u955c\u5934\u6570",variant:"outlined",onChange:function(e){l(e.target.value)}}),r.a.createElement(gt.a,{className:a.submit,id:"name",label:"\u8282\u76ee\u540d\u5b57",variant:"outlined",onChange:function(e){p(e.target.value)}}),r.a.createElement(gt.a,{className:a.submit,id:"sth",label:"\u5907\u6ce8",variant:"outlined",onChange:function(e){b(e.target.value)}}),r.a.createElement("div",{className:a.submit},r.a.createElement(kt,{getDate:function(e){O(e)}})),r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:a.submit,startIcon:r.a.createElement(bt.a,null),onClick:function(){if(!o||!d)return alert("\u6709\u672a\u586b\u9879\uff01");var e={shootnums:o.trim(),program:d.trim(),des:h?h.trim():h,date:y};t({type:"SUBMIT_SAGA",payload:e})}},"\u63d0\u4ea4")),r.a.createElement(L,null))})),Nt=Object(m.a)((function(e){return{root:{margin:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},div:{padding:e.spacing(1),marginBottom:e.spacing(1),width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",border:"1px solid #f0f0f0",borderRadius:e.spacing(1)},submit:{width:"100%",margin:e.spacing(1),height:e.spacing(7)},chip:{margin:e.spacing(.5,.5,.5,0)}}}));var At=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=Nt(),a=e.workers,c=e.dispatch,i=e.list,o=e.location,l=e.history,u=Object(n.useRef)();if(!o.payload)return l.push("/"),null;u.current=o.payload.date;var s=u.current,m=function(e){c(function(e){return{type:"SET_LIST_SAGA",payload:e}}(e.target.innerHTML))};return r.a.createElement("div",{className:t.root},a.map((function(e,a){return r.a.createElement("div",{className:t.div,key:a},r.a.createElement(W.a,{variant:"h6",component:"h2"},e[0].role),r.a.createElement("div",null,e.map((function(e){return r.a.createElement(Be.a,{color:"primary",key:e.name,label:e.name,variant:e.isChoosed?"default":"outlined",className:t.chip,clickable:!0,onClick:m})}))))})),r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:t.submit,startIcon:r.a.createElement(bt.a,null),onClick:function(){c({type:"SET_ARRANGEDATA",payload:{date:s,list:i}}),c(ut()),l.goBack()},disabled:!(i.length>0),ref:u},"\u5b8c\u6210".concat(new Date(s).getMonth()+1,"\u6708").concat(new Date(s).getDate(),"\u65e5\u7684\u6392\u73ed\uff1a")),r.a.createElement(L,{arrange:!0,clear:function(){c(ut())}}))})),Tt=a(712),It=a(714),Dt=a(649),Rt=a(155),_t=a.n(Rt),Pt=a(713),Lt=a(156),Gt=a.n(Lt),Mt=Object(m.a)((function(e){return{container:{overflow:"hidden"},vedioBackground:{position:"fixed",right:0,bottom:0,minWidth:"100%",minHeight:"100%",width:"auto",height:"auto",zIndex:-10,backgroundRepeat:"no-repeat",backgroundSize:"cover"},background:{backgroundImage:"url(".concat(le[0],")"),position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-10,backgroundRepeat:"no-repeat",backgroundSize:"cover"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},topBlock:{height:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},block:{height:"45px"},avatarContainer:{margin:e.spacing(1),width:e.spacing(10),height:e.spacing(10),backgroundColor:e.palette.secondary.main},avatar:{width:e.spacing(7),height:e.spacing(7)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:"45px"},fix:{position:"absolute",textAlign:"center",bottom:0,right:0,left:0,color:"#fff"},notFix:{textAlign:"center",color:"#fff"},font:{color:"#fff"}}})),Ut=Object(jt.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderTop:function(e){return"true"===e.top?"":"none"},borderBottom:function(e){return"ture"===e.top?"none":""},borderRadius:function(e){return"true"===e.top?"5px 5px 0 0":"0 0 5px 5px"},position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #fff",fontSize:16,width:"100%",height:"24px",padding:"10px 12px"}}}))(Dt.a);function Ht(e){var t=e.height,a=e.scrollHeight,n=Mt();return r.a.createElement(W.a,{variant:"body2",color:"textSecondary",className:t===a?n.fix:n.notFix},"Copyright \xa9 ",r.a.createElement(Tt.a,{color:"inherit",href:"/logon"},"DevilDI")," ",(new Date).getFullYear(),".")}var Ft=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.user,a=e.dispatch,c=Mt(),i=Object(l.f)(),o=Object(n.useState)(je()),u=Object(s.a)(o,1)[0],m=Object(n.useState)(we()),d=Object(s.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),b=h[0],v=h[1],E=Object(n.useState)(""),y=Object(s.a)(E,2),O=y[0],j=y[1];return Object(n.useEffect)((function(){f(we())}),[p]),Object(n.useEffect)((function(){a({type:"GET_USE_SAGA"})}),[a]),Object(n.useEffect)((function(){t&&i.push("/")}),[t,i]),r.a.createElement(Pt.a,{component:"main",className:c.container,maxWidth:"xs"},r.a.createElement(It.a,null),r.a.createElement("div",{className:c.paper},r.a.createElement("div",{className:c.topBlock},r.a.createElement(qe.a,{className:c.avatarContainer,src:se},r.a.createElement(_t.a,{className:c.avatar})),r.a.createElement(W.a,{component:"h1",variant:"h3",className:c.font},"Sign In")),r.a.createElement("div",{className:c.form,noValidate:!0},r.a.createElement(Ut,{id:"\u7528\u6237\u540d",placeholder:"\u7528\u6237\u540d",type:"text",style:{width:"100%"},top:"true",onChange:function(e){v(e.target.value)}}),r.a.createElement(Ut,{id:"\u5bc6\u7801",placeholder:"\u5bc6\u7801",type:"password",style:{width:"100%"},onChange:function(e){j(e.target.value)}}),r.a.createElement("div",{className:c.block}),r.a.createElement(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,startIcon:r.a.createElement(Gt.a,null),onClick:function(){return function(){if(!b.trim()||!O.trim())return alert("\u6709\u672a\u586b\u7684\u9879\u76ee\uff01");a({type:"LOGIN_SAGA",payload:{name:b.trim(),password:O.trim()}})}()}},"\u767b\u5f55"))),r.a.createElement(Ht,{height:u,scrollHeight:p}),r.a.createElement("video",{proload:"auto",autoPlay:!0,loop:!0,muted:!0,className:c.vedioBackground},r.a.createElement("source",{src:ue,type:"video/mp4"})))})),Wt=Object(m.a)((function(e){return{container:{overflow:"hidden"},vedioBackground:{position:"fixed",right:0,bottom:0,minWidth:"100%",minHeight:"100%",width:"auto",height:"auto",zIndex:-10,backgroundRepeat:"no-repeat",backgroundSize:"cover"},background:{backgroundImage:"url(".concat(le[1],")"),position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-10,backgroundRepeat:"no-repeat",backgroundSize:"cover"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},topBlock:{height:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},block:{height:"45px"},avatarContainer:{margin:e.spacing(1),width:e.spacing(10),height:e.spacing(10),backgroundColor:e.palette.secondary.main},avatar:{width:e.spacing(7),height:e.spacing(7)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:"45px"},fix:{position:"absolute",textAlign:"center",bottom:0,right:0,left:0,color:"#fff"},notFix:{textAlign:"center",color:"#fff"},font:{color:"#fff"}}})),Bt=Object(jt.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderTop:function(e){return"true"===e.top?"":"none"},borderBottom:function(e){return"ture"===e.top?"none":""},borderRadius:function(e){return function(e){return"top"===e.position?"5px 5px 0 0":"bottom"===e.position?"0 0 5px 5px":"0 0 0 0"}(e)},position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #fff",fontSize:16,width:"100%",height:"24px",padding:"10px 12px"}}}))(Dt.a);function zt(e){var t=e.height,a=e.scrollHeight,n=Wt();return r.a.createElement(W.a,{variant:"body2",color:"textSecondary",className:t===a?n.fix:n.notFix},"Copyright \xa9 ",r.a.createElement(Tt.a,{color:"inherit",href:"/signin"},"DevilDI")," ",(new Date).getFullYear(),".")}var Kt=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=Wt(),c=Object(n.useState)(je()),i=Object(s.a)(c,1)[0],o=Object(n.useState)(we()),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(""),b=Object(s.a)(h,2),v=b[0],E=b[1],y=Object(n.useState)(""),O=Object(s.a)(y,2),j=O[0],w=O[1];return Object(n.useEffect)((function(){console.log(je(),we()),m(we())}),[u]),r.a.createElement(Pt.a,{component:"main",maxWidth:"xs",className:a.container},r.a.createElement(It.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement("div",{className:a.topBlock},r.a.createElement(qe.a,{className:a.avatarContainer,src:se},r.a.createElement(_t.a,{className:a.avatar})),r.a.createElement(W.a,{component:"h1",variant:"h3",className:a.font},"Log On")),r.a.createElement("div",{className:a.form,noValidate:!0},r.a.createElement(Bt,{id:"\u7528\u6237\u540d",placeholder:"\u7528\u6237\u540d",type:"text",style:{width:"100%"},position:"top",onChange:function(e){g(e.target.value)}}),r.a.createElement(Bt,{id:"\u5bc6\u7801",placeholder:"\u5bc6\u7801",type:"text",style:{width:"100%"},position:"middle",onChange:function(e){E(e.target.value)}}),r.a.createElement(Bt,{id:"\u6388\u6743\u7801",placeholder:"\u6388\u6743\u7801",type:"password",style:{width:"100%"},position:"bottom",onChange:function(e){w(e.target.value)}}),r.a.createElement("div",{className:a.block}),r.a.createElement(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,startIcon:r.a.createElement(Gt.a,null),onClick:function(){return function(){if(!(f.trim()&&v.trim()&&j.trim()))return alert("\u6709\u672a\u586b\u7684\u9879\u76ee\uff01");t({type:"REGISTER_SAGA_SAGA",payload:{name:f.trim(),password:v.trim(),auth:j.trim()}})}()}},"\u6ce8\u518c\u65b0\u7528\u6237"))),r.a.createElement(zt,{height:i,scrollHeight:u}),r.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,className:a.vedioBackground},r.a.createElement("source",{src:ue,type:"video/mp4"})))})),Vt=a(203),Jt=a.n(Vt),Yt=a(707),Xt=Object(m.a)((function(e){return{root:{width:"100%"},container:{paddingTop:e.spacing(7)},block:{overFlow:"hidden",padding:1},circular:{width:"100%",position:"absolute",bottom:0,top:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}}));var Qt=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.left,a=e.right,c=(e.loading,e.dispatch),i=e.history,o=Xt();Object(n.useEffect)((function(){return window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",(function(){}))}}));var l=function(){we(),Oe(),je()};return Object(n.useEffect)((function(){c({type:"PHOTOS_SAGA",payload:1})}),[c]),r.a.createElement("div",{className:o.root},r.a.createElement(A,{title:"\u7167\u7247",history:i}),r.a.createElement("div",{className:o.container},r.a.createElement(et.a,{container:!0},t.length>0&&a.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{item:!0,xs:6,className:o.block},t.map((function(e,t){return r.a.createElement(Jt.a,{key:t,height:e.height},r.a.createElement("img",{alt:"",src:e.src,width:"100%",height:e.height,onClick:function(){console.log(e)}}))}))),r.a.createElement(et.a,{item:!0,xs:6,className:o.block},a.map((function(e,t){return r.a.createElement(Jt.a,{key:t,height:e.height},r.a.createElement("img",{alt:"",src:e.src,width:"100%",height:e.height,onClick:function(){console.log(e)}}))})))):r.a.createElement("div",{className:o.circular},r.a.createElement(Yt.a,null)))))})),qt=a(4),Zt=a(711),$t=a(708),ea=a(728),ta=a(318),aa=a.n(ta),na=a(709),ra=Object(m.a)((function(e){return{root:{padding:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{margin:e.spacing(6,1,1,1),width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},submit:{width:"100%",margin:e.spacing(1),height:e.spacing(7)},textField:{width:"100%"},input:{width:"100%"}}})),ca=function(e){e.preventDefault()};var ia=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=e.history,c=ra(),i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),b=h[0],v=h[1],E=Object(n.useState)(""),y=Object(s.a)(E,2),O=y[0],j=y[1],x=Object(n.useState)(1),k=Object(s.a)(x,2),S=k[0],C=k[1],N=Object(n.useState)(""),T=Object(s.a)(N,2),I=T[0],D=T[1],R=Object(n.useState)(""),_=Object(s.a)(R,2),P=_[0],L=_[1],G=Object(n.useState)(""),M=Object(s.a)(G,2),U=M[0],H=M[1];return r.a.createElement("div",{className:c.root},r.a.createElement(A,{title:"\u5730\u56fe\u6570\u636e\u7f16\u8f91",history:a}),r.a.createElement(na.a,{className:Object(qt.a)(c.form,c.textField),variant:"outlined"},r.a.createElement(ea.a,{htmlFor:"outlined-adornment-password"},"\u8f93\u5165\u884c\u7a0b\u7f16\u53f7"),r.a.createElement($t.a,{className:c.input,type:"text",onChange:function(e){u(e.target.value)},endAdornment:r.a.createElement(Zt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"visibility",onClick:function(){if(!l)return alert("\u6709\u672a\u586b\u9879\uff01");t(dt(l))},onMouseDown:ca,edge:"end"},r.a.createElement(aa.a,null)))})),"\u6216\u8005",r.a.createElement("form",{className:c.form,noValidate:!0,autoComplete:"off"},r.a.createElement(gt.a,{className:c.submit,id:"number",label:"\u884c\u7a0b\u540d\u5b57",variant:"outlined",onChange:function(e){f(e.target.value)}}),r.a.createElement(gt.a,{className:c.submit,id:"name",label:"\u8bbe\u8ba1\u8005",variant:"outlined",onChange:function(e){v(e.target.value)}}),r.a.createElement(gt.a,{className:c.submit,id:"domestic",label:"\u56fd\u5185\u8fd8\u662f\u56fd\u5916\uff081/0\uff09",variant:"outlined",onChange:function(e){C(e.target.value)}}),r.a.createElement(gt.a,{className:c.submit,id:"sth",label:"\u884c\u7a0b\u7f16\u53f7",variant:"outlined",onChange:function(e){j(e.target.value)}}),r.a.createElement(gt.a,{className:c.submit,id:"city",label:"\u57ce\u5e02",variant:"outlined",onChange:function(e){D(e.target.value)}}),r.a.createElement(gt.a,{className:c.submit,id:"country",label:"\u56fd\u5bb6",variant:"outlined",onChange:function(e){L(e.target.value)}}),r.a.createElement(gt.a,{className:c.submit,id:"tags",label:"\u6807\u7b7e\uff08\u82f1\u6587 / \u5206\u5272\uff09",variant:"outlined",onChange:function(e){H(e.target.value)}}),r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:c.submit,onClick:function(){if(!p||!b||!O||!S||!I||!P||!U)return alert("\u6709\u672a\u586b\u9879\uff01");var e={tripName:p.trim(),designer:b.trim(),uid:O,city:I,country:P,tags:U,domestic:parseInt(S)};t(dt(e))}},"\u65b0\u5efa\u884c\u7a0b")))})),oa=a(26),la=a(22),ua=a.n(la),sa=Object(m.a)((function(e){return{root:{padding:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{margin:e.spacing(7,1,1,1),width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},submit:{width:"100%",margin:e.spacing(1),height:e.spacing(7)},textField:{width:"100%"},input:{width:"100%"}}}));var ma=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=e.item,c=e.history,i=e.location;Object(n.useEffect)((function(){}));var o=i.params,l=sa(),u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(o?o.articleName:a),g=Object(s.a)(f,2),h=g[0],b=g[1],v=Object(n.useState)(o?o.picURL:a),E=Object(s.a)(v,2),y=E[0],O=E[1],j=Object(n.useState)(o?o.articleURL:a),w=Object(s.a)(j,2),x=w[0],k=w[1],S=Object(n.useState)(o&&void 0!==o.width?o.width:0),C=Object(s.a)(S,2),N=C[0],T=C[1],I=Object(n.useState)(o&&void 0!==o.height?o.height:0),D=Object(s.a)(I,2),R=D[0],_=D[1],P=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,ua.a.get("/api/trip/getImgWAH",{params:{url:y}});case 3:t=e.sent,T(t.data.width),_(t.data.height),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(A,{title:o?"\u7011\u5e03\u6d41\u9875\u9762\u6570\u636e\u4fee\u6539\uff1a":"\u7011\u5e03\u6d41\u9875\u9762\u6570\u636e\u65b0\u589e\uff1a",history:c}),r.a.createElement("form",{className:l.form,noValidate:!0,autoComplete:"off"},r.a.createElement(gt.a,{value:h,className:l.submit,id:"number",label:"\u6587\u7ae0\u540d\u5b57",variant:"outlined",onChange:function(e){b(e.target.value)}}),r.a.createElement(gt.a,{value:y,className:l.submit,id:"name",label:"\u56fe\u7247\u5730\u5740",variant:"outlined",onChange:function(e){O(e.target.value)}}),r.a.createElement(gt.a,{value:x,className:l.submit,id:"sth",label:"\u9875\u9762\u5730\u5740",variant:"outlined",onChange:function(e){k(e.target.value)}}),r.a.createElement(gt.a,{value:N,className:l.submit,id:"width",label:"\u56fe\u7247\u5bbd\u5ea6",variant:"outlined",type:"number",onChange:function(e){T(e.target.value)},InputProps:{endAdornment:r.a.createElement(Zt.a,{position:"end"},r.a.createElement(Qe.a,{variant:"contained",color:"secondary",onClick:P,disabled:!y||d},d?"Loading":"\u83b7\u53d6\u5bbd\u5ea6"))}}),r.a.createElement(gt.a,{value:R,className:l.submit,id:"height",label:"\u56fe\u7247\u9ad8\u5ea6",type:"number",variant:"outlined",onChange:function(e){_(e.target.value)},InputProps:{endAdornment:r.a.createElement(Zt.a,{position:"end"},r.a.createElement(Qe.a,{variant:"contained",color:"secondary",onClick:P,disabled:!y||d},d?"Loading":"\u83b7\u53d6\u9ad8\u5ea6"))}}),r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:l.submit,onClick:function(){if(!h||!y||!x)return alert("\u6709\u672a\u586b\u9879\uff01");var e={articleName:h.trim(),picURL:y.trim(),articleURL:x,width:N,height:R};if(o){var n=Object(oa.a)({},o,{},e);console.log(n),ua.a.post("/api/trip/updateItem",n).then((function(e){200===e.status?alert("\u66f4\u6539\u6210\u529f\uff01"):alert("\u7cfb\u7edf\u51fa\u9519\uff0c\u8bf7\u91cd\u8bd5\uff01")})).catch((function(e){alert(e)}))}else t({type:"NEWITEM_SAGA",payload:e}),b(a),O(a),k(a),T(0),_(0)},disabled:!(y&&N>0&&R>0&&h&&x)},o?"\u4fdd\u5b58\u66f4\u6539":"\u63d0\u4ea4")))})),da=Object(m.a)((function(e){return{root:{padding:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{margin:e.spacing(7,1,1,1),width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},submit:{width:"100%",margin:e.spacing(1),height:e.spacing(7)},textField:{width:"100%"},input:{width:"100%"}}}));var pa=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){e.dispatch,e.item;var t=e.history,a=e.location;Object(n.useEffect)((function(){}));var c=a.params,i=da(),o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useState)(c?c.tags:""),p=Object(s.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(c?c.picURL:""),b=Object(s.a)(h,2),v=b[0],E=b[1],y=Object(n.useState)(c?c.des:""),O=Object(s.a)(y,2),j=O[0],w=O[1],x=Object(n.useState)(c&&void 0!==c.width?c.width:0),k=Object(s.a)(x,2),S=k[0],C=k[1],N=Object(n.useState)(c&&void 0!==c.height?c.height:0),T=Object(s.a)(N,2),I=T[0],D=T[1],R=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,ua.a.get("/api/trip/getImgWAH",{params:{url:ve(v)}});case 3:"error"===(t=e.sent).data?alert("\u83b7\u53d6\u56fe\u7247\u5bbd\u9ad8\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\u56fe\u7247URL\uff01"):(C(t.data.width),D(t.data.height)),m(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:i.root},r.a.createElement(A,{title:c?"\u7167\u7247\u4fee\u6539\uff1a":"\u7167\u7247\u6570\u636e\u65b0\u589e\uff1a",history:t}),r.a.createElement("form",{className:i.form,noValidate:!0,autoComplete:"off"},r.a.createElement(gt.a,{value:f,className:i.submit,id:"tags",label:"\u56fe\u7247\u6807\u7b7e\uff0c\u4ee5 | \u5206\u5272",variant:"outlined",onChange:function(e){g(e.target.value)}}),r.a.createElement(gt.a,{value:v,className:i.submit,id:"name",label:"\u56fe\u7247\u5730\u5740",variant:"outlined",onChange:function(e){E(e.target.value)}}),r.a.createElement(gt.a,{value:j,className:i.submit,id:"sth",label:"\u56fe\u7247\u63cf\u8ff0",variant:"outlined",onChange:function(e){w(e.target.value)}}),r.a.createElement(gt.a,{value:S,className:i.submit,id:"width",label:"\u56fe\u7247\u5bbd\u5ea6",variant:"outlined",type:"number",onChange:function(e){C(e.target.value)},InputProps:{endAdornment:r.a.createElement(Zt.a,{position:"end"},r.a.createElement(Qe.a,{variant:"contained",color:"secondary",onClick:R,disabled:!v||u},u?"Loading":"\u83b7\u53d6\u5bbd\u5ea6"))}}),r.a.createElement(gt.a,{value:I,className:i.submit,id:"height",label:"\u56fe\u7247\u9ad8\u5ea6",type:"number",variant:"outlined",onChange:function(e){D(e.target.value)},InputProps:{endAdornment:r.a.createElement(Zt.a,{position:"end"},r.a.createElement(Qe.a,{variant:"contained",color:"secondary",onClick:R,disabled:!v||u},u?"Loading":"\u83b7\u53d6\u9ad8\u5ea6"))}}),r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:i.submit,onClick:function(){if(!v)return alert("\u8bf7\u586b\u5199\u56fe\u7247\u5730\u5740\uff01");if(0===S||0===I)return alert("\u8bf7\u586b\u5199\u56fe\u7247\u5bbd\u9ad8\uff01");var e={tags:f.trim(),picURL:ve(v.trim()),des:j.trim(),width:S,height:I};if(c){var t=Object(oa.a)({},c,{},e);ua.a.post("/api/trip/updatePhoto",t).then((function(e){200===e.status?alert("\u66f4\u6539\u6210\u529f\uff01"):alert("\u7cfb\u7edf\u51fa\u9519\uff0c\u8bf7\u91cd\u8bd5\uff01")})).catch((function(e){alert(e)}))}else ua.a.post("/api/trip/photoInput",Object(oa.a)({},e)).then((function(e){e.data?(alert("\u63d0\u4ea4\u6210\u529f\uff01"),g(""),E(""),w(""),C(0),D(0)):alert("\u56fe\u7247\u63d0\u4ea4\u51fa\u9519\uff01")})).catch((function(e){alert("\u56fe\u7247\u63d0\u4ea4\u51fa\u9519\uff01")}))},disabled:!(v&&S>0&&I>0)},c?"\u4fdd\u5b58\u66f4\u6539":"\u63d0\u4ea4")))})),fa=a(28),ga=a(319),ha=a.n(ga),ba=Object(m.a)((function(e){return{listContainer:{margin:e.spacing(8,0,2,0),display:"flex",flexDirection:"row",flexWrap:"wrap"},btn:{display:"flex",alignItems:"center",justifyContent:"space-around",padding:e.spacing(0,0,1,0)},imgContainer:{margin:e.spacing(1,0,0,1),position:"relative",width:"200px",height:"200px",overflow:"hidden",backgroundColor:"#f0f0f0"},img:{display:"block",maxHeight:"100%",height:"auto"},img2:{display:"block",maxWidth:"100%",width:"auto"},dele:{position:"absolute",right:0,top:0,color:"white"}}}));var va=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=(e.item,e.history),c=e.pageIndex,i=ba(),o=Object(n.useState)(null),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),f=p[0],g=p[1];Object(n.useEffect)((function(){ua.a.get("/api/trip/getPhotos",{params:{page:c}}).then((function(e){g(e.data.items),m(e.data.total)})).catch((function(e){return alert(e)}))}),[c]);var h=function(){var e=Object(ie.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.get("/api/trip/getPhotos",{params:{page:c-1}});case 2:a=e.sent,g(a.data.items),t(ct(c-1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(ie.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.get("/api/trip/getPhotos",{params:{page:c+1}});case 2:a=e.sent,g(a.data.items),t(ct(c+1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(ie.a)(ce.a.mark((function e(t,a,n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.next=3,ua.a.post("/api/trip/deletePhoto",{id:a._id});case 3:e.sent.data?(alert("\u5df2\u5220\u9664\uff01"),f.splice(t,1),g(Object(fa.a)(f))):alert("\u7cfb\u7edf\u9519\u8bef\uff01");case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(A,{title:"\u5168\u90e8\u56fe\u7247\uff1a",history:a}),r.a.createElement("div",{className:i.listContainer},f&&f.length>0?f.map((function(e,t){return r.a.createElement("div",{key:t,className:i.imgContainer,onClick:function(){return function(e){a.push({pathname:"/photosInput",params:e})}(e)}},r.a.createElement("img",{alt:"",className:e.width>e.height?i.img:i.img2,src:e.picURL}),r.a.createElement("div",{className:i.dele,onClick:function(a){return v(t,e,a)}},r.a.createElement(ha.a,null)))})):null),r.a.createElement("div",{className:i.btn},f&&f.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{variant:"contained",color:"primary",disabled:1===c,onClick:h},"\u4e0a\u4e00\u9875"),r.a.createElement(Qe.a,{variant:"contained",color:"primary",disabled:c===u,onClick:b},"\u4e0b\u4e00\u9875")):null))})),Ea=a(715),ya=a(716),Oa=Object(m.a)((function(e){return{container:{overflow:"hidden"},listContainer:{margin:e.spacing(8,0,1,0)},btn:{display:"flex",alignItems:"center",justifyContent:"space-around",margin:e.spacing(0,0,1,0)}}}));var ja=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=(e.item,e.history),c=e.pageIndex,i=Oa(),o=Object(n.useState)(null),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),f=p[0],g=p[1];Object(n.useEffect)((function(){ua.a.get("/api/trip/getStoryByPage",{params:{page:c}}).then((function(e){g(e.data.items),m(e.data.total)})).catch((function(e){return alert(e)}))}),[c]);var h=function(){var e=Object(ie.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.get("/api/trip/getStoryByPage",{params:{page:c-1}});case 2:a=e.sent,g(a.data.items),t(ct(c-1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(ie.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.get("/api/trip/getStoryByPage",{params:{page:c+1}});case 2:a=e.sent,g(a.data.items),t(ct(c+1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:i.container},r.a.createElement(A,{title:"\u5168\u90e8\u7011\u5e03\u6d41\u9875\u9762\u6570\u636e\uff1a",history:a}),r.a.createElement("div",{className:i.listContainer},f&&f.length>0?f.map((function(e,t){return r.a.createElement(Ea.a,{button:!0,key:t,onClick:function(){return function(e){a.push({pathname:"/story",params:e})}(e)}},r.a.createElement(ya.a,{primary:e.articleName}))})):null),r.a.createElement("div",{className:i.btn},f&&f.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{variant:"contained",color:"primary",disabled:1===c,onClick:h},"\u4e0a\u4e00\u9875"),r.a.createElement(Qe.a,{variant:"contained",color:"primary",disabled:c===u,onClick:b},"\u4e0b\u4e00\u9875")):null))})),wa=Object(m.a)((function(e){return{listContainer:{padding:e.spacing(8,0,1,0)},btn:{display:"flex",alignItems:"center",justifyContent:"space-around",margin:e.spacing(0,0,1,0)}}}));var xa=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,a=(e.item,e.history),c=e.pageIndex,i=wa(),o=Object(n.useState)(null),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),f=p[0],g=p[1];Object(n.useEffect)((function(){ua.a.get("/api/trip/getAllTripByPage",{params:{page:c}}).then((function(e){g(e.data.items),m(e.data.total)})).catch((function(e){return alert(e)}))}),[c]);var h=function(){var e=Object(ie.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.get("/api/trip/getAllTripByPage",{params:{page:c-1}});case 2:a=e.sent,g(a.data.items),t(ct(c-1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(ie.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.get("/api/trip/getAllTripByPage",{params:{page:c+1}});case 2:a=e.sent,g(a.data.items),t(ct(c+1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(A,{title:"\u5168\u90e8\u884c\u7a0b\u6570\u636e\uff1a",history:a}),r.a.createElement("div",{className:i.listContainer},f&&f.length>0?f.map((function(e,t){return r.a.createElement(Ea.a,{button:!0,key:t,onClick:function(){return function(e){a.push({pathname:"/edit",params:e})}(e)}},r.a.createElement(ya.a,{primary:"\u884c\u7a0b\u7f16\u53f7\uff1a".concat(e.uid," | ").concat(e.tripName," | ").concat(e.detail.length,"\u5929 | ").concat(e.tags," | ").concat(e.city)}))})):null),r.a.createElement("div",{className:i.btn},f&&f.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{variant:"contained",color:"primary",disabled:1===c,onClick:h},"\u4e0a\u4e00\u9875"),r.a.createElement(Qe.a,{variant:"contained",color:"primary",disabled:c===u,onClick:b},"\u4e0b\u4e00\u9875")):null))})),ka=Object(m.a)((function(e){return{root:{padding:e.spacing(2,2,0,2),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},div:{margin:e.spacing(5,1,1,1)},div1:{width:"100%",height:e.spacing(6),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}}));var Sa=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.history,a=e.dispatch,c=(e.nextstickerUsersIncreased,r.a.useState(0)),i=Object(s.a)(c,2),o=i[0],l=i[1],u=r.a.useState([]),m=Object(s.a)(u,2),d=m[0],p=m[1],f=r.a.useState(!1);Object(n.useEffect)((function(){a({type:"SET_NEXTSTICKERUSERSINCREASED",payload:0})}),[a]),Object(n.useEffect)((function(){b()}),[]),Object(n.useEffect)((function(){return window.addEventListener("scroll",g),function(){window.removeEventListener("scroll",(function(){}))}}));var g=function(){!(we()-Oe()-je()<=20)||f||d.length},h=ka(),b=function(){ua.a.get("/api/users/getClient").then((function(e){200===e.status&&(l(e.data.length),p(e.data))})).catch((function(e){alert(e)}))};return r.a.createElement("div",{className:h.root},r.a.createElement(A,{title:"NextSticker\u7684\u603b\u7528\u6237\u4e3a ".concat(o),history:t}),r.a.createElement("div",{className:h.div}),d.length>0?r.a.createElement(r.a.Fragment,null,d.map((function(e,t){return r.a.createElement("div",{className:h.div1,key:t},r.a.createElement("div",null,"\u76ee\u7684\u5730\uff1a",e.destination),r.a.createElement("div",null,"\u5fae\u4fe1\u53f7\uff1a",e.wechat))}))):r.a.createElement("div",{className:h.div2},"\u6682\u65f6\u65e0\u7528\u6237\uff01"))})),Ca=a(12),Na=a(717),Aa=a(729),Ta=a(724),Ia=a(710),Da=a(323),Ra=a.n(Da),_a=a(321),Pa=a.n(_a),La=a(719),Ga=a(322),Ma=a.n(Ga),Ua=a(320),Ha=a.n(Ua),Fa=(a(293),a(730)),Wa=a(157),Ba=a.n(Wa),za=a(705),Ka=a(718),Va=a(110);var Ja=function(e){var t=e.totalData,a=e.data,c=e.removeItem,i=e.AddOneItem,o=e.changePlan,l=Object(n.useState)(null),u=Object(s.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)([]),f=Object(s.a)(p,2),g=f[0],h=f[1],b=Object(n.useState)([]),v=Object(s.a)(b,2),E=v[0],y=v[1],O=Object(n.useState)(""),j=Object(s.a)(O,2),x=j[0],k=j[1],S=Object(n.useState)(null),C=Object(s.a)(S,2),N=C[0],A=C[1],T=Object(n.useState)([]),I=Object(s.a)(T,2),D=I[0],R=I[1],_=Object(n.useState)(!1),P=Object(s.a)(_,2),L=P[0],G=P[1],M=Object(n.useState)(!1),U=Object(s.a)(M,2),H=U[0],F=U[1],W=Object(n.useState)(new Te),B=Object(s.a)(W,2),z=B[0],K=B[1],V=Object(n.useState)(new Te),J=Object(s.a)(V,2),Y=J[0],X=J[1],Q=Object(n.useState)(0),q=Object(s.a)(Q,2),Z=q[0],$=q[1];Object(n.useEffect)((function(){console.log("\u5730\u56fe\u5f00\u59cb\u6e32\u67d3\uff01",t),Ha.a.load({key:"fbe59813637de60223e3d22805a2486c",version:"2.0",plugins:["AMap.Scale","AMap.Geolocation","AMap.AutoComplete","AMap.PlaceSearch"]}).then((function(e){var t=new e.Map("container",{viewMode:"3D",zoom:15,center:ae(a)});t.addControl(new e.Scale),t.addControl(new e.Geolocation);var n=[],r=[],i=[];a&&a.length>0&&(a.forEach((function(a,o){i.push([parseFloat(a.longitude),parseFloat(a.latitude)]);var l=te(e,a.nameOfScence,a.des,a.picURL,c,re,ce,o);r.push(l);var u=ee(e,parseFloat(a.longitude),parseFloat(a.latitude),a.nameOfScence,o);u.on("click",(function(e){return oe(e,l,t)})),n.push(u)})),t.add(n),r[0].open(t,i[0]),h(n),y(r)),A(e),d(t)})).catch((function(e){console.log(e)}))}),[t,a,null===a||void 0===a?void 0:a.length,c]);var ee=function(e,t,a,n,r){return new e.Marker({position:new e.LngLat(t,a),title:n,extData:r})},te=function(e,t,a,n,r,c,i,o){return new e.InfoWindow({isCustom:!0,content:ne(t,a,n,r,c,i,o),offset:new e.Pixel(0,-30)})},ae=function(e){return e&&e.length>0?[parseFloat(e[0].longitude),parseFloat(e[0].latitude)]:[116.39,39.9]},ne=function(e,t,n,r,c,i,o){var l=document.createElement("div");l.className="windowContainer";var u=document.createElement("div");u.className="title",u.innerHTML=e,l.appendChild(u);var s=document.createElement("div");if(s.className="des",s.innerHTML=t,t&&l.appendChild(s),n){var m=document.createElement("div");m.className="imgContainer";var d=document.createElement("img");d.className="img",d.src=n,m.appendChild(d),l.appendChild(m)}var p=document.createElement("div");p.className="btn",p.innerHTML="\u5220\u9664\u6b64\u70b9",p.onclick=function(){return r(o)};var f=document.createElement("div");f.className="rePlan",f.innerHTML="\u666f\u70b9\u6392\u5e8f",f.onclick=function(){return i(o)};var g=document.createElement("div");return g.className="btn",g.innerHTML="\u6dfb\u52a0\u5230\u5f53\u65e5\u884c\u7a0b",g.onclick=c,le(e,a)?(l.appendChild(p),l.appendChild(f)):l.appendChild(g),l},re=function(){z.nameOfScence=ie().name,z.longitude=ie().lng,z.latitude=ie().lat,G(!0)},ce=function(e){F(!0)},ie=function(){var e=m.getAllOverlays("marker")[0],t={};return t.name=e.getTitle(),t.lng=e.getPosition().lng,t.lat=e.getPosition().lat,t},oe=function(e,t,a){t.getIsOpen()?t.close():(t.open(a,[e.lnglat.lng,e.lnglat.lat]),a.panTo([e.lnglat.lng,e.lnglat.lat]))},le=function(e,t){for(var a=!1,n=0;n<t.length;n++)if(t[n].nameOfScence===e){a=!0;break}return a},ue=function(){G(!1)},se=function(e,t){z[t]="category"===t?parseInt(e):e,z[t]=e,K(Object(oa.a)({},z))},me=function(e){var a=Z+1;Z<t.length&&$(a);var n=e.removedIndex,r=e.addedIndex;if((null!==n||null!==r)&&null!==r){console.log("\u7b2c".concat(Z+1,"\u5929\u7684\u7b2c").concat(r+1,"\u5904\uff01"));var c=JSON.parse(JSON.stringify(t)),i=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(e[n][r].nameOfScence===t){a.push(n),a.push(r);break}return a}(c,Y.nameOfScence);c[i[0]].splice(i[1],1),c[Z].splice(r,0,Y),o(c),X(new Te)}};return r.a.createElement("div",{className:"outerContainer"},r.a.createElement("div",{id:"container",className:"map",style:{height:"".concat(je(),"px")}}),r.a.createElement("div",{className:"textFieldContainer"},r.a.createElement(na.a,{variant:"outlined"},r.a.createElement(ea.a,{htmlFor:"outlined-adornment-password"},"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"),r.a.createElement(Fa.a,{id:"outlined-adornment-password",type:"text",value:x,onChange:function(e){k(e.target.value)},endAdornment:D&&D.length>0?r.a.createElement(Zt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){R([]),k(""),a.length!==m.getAllOverlays("marker").length&&(m.getAllOverlays("marker")[0].remove(),m.clearInfoWindow())},edge:"end"},r.a.createElement(Ke.a,null))):r.a.createElement(Zt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){x.trim()&&""!==x.trim()?(new N.PlaceSearch).search(x.trim(),(function(e,t){"OK"===t.info?R(t.poiList.pois):alert("\u65e0\u641c\u7d22\u7ed3\u679c\uff0c\u8bf7\u7cbe\u786e\u8f93\u5165\u5173\u952e\u5b57\uff01")})):alert("\u65e0\u641c\u7d22\u5185\u5bb9\uff01")},edge:"end"},r.a.createElement(Ba.a,null))),label:"Password"})),r.a.createElement("div",{className:"resultsContainer"},D&&D.length>0?r.a.createElement(Ia.a,null,D.map((function(e,t){return r.a.createElement("div",{key:t,onClick:function(){!function(e){a.length!==m.getAllOverlays("marker").length&&m.getAllOverlays("marker")[0].remove();var t=te(N,e.name,null,null,null,re,ce,m.getAllOverlays("marker").length+1),n=ee(N,e.location.lng,e.location.lat,e.name,m.getAllOverlays("marker").length+1);n.on("click",(function(e){return oe(e,t,m)})),m.add(n),t.open(m,[e.location.lng,e.location.lat]),m.panTo([e.location.lng,e.location.lat])}(e)}},r.a.createElement(Ea.a,null,r.a.createElement(ya.a,{primary:e.name})))}))):null)),r.a.createElement("div",{className:"listContainer",style:{left:document.body.clientWidth<je()?"20px":"220px"}},a&&a.length>0?r.a.createElement(Ia.a,null,a.map((function(e,t){return r.a.createElement("div",{key:e.nameOfScence,onClick:function(){!function(e){E[e].getIsOpen()||E[e].open(m,g[e].getPosition()),m.panTo(g[e].getPosition())}(t)}},r.a.createElement(Ea.a,null,r.a.createElement(ya.a,{primary:e.nameOfScence})),r.a.createElement(Na.a,null))}))):null),r.a.createElement(za.a,{open:L,onClose:ue},r.a.createElement(Ka.a,null,"\u8bf7\u5b8c\u5584\u5982\u4e0b\u4fe1\u606f\uff1a"),r.a.createElement("div",{className:"textContainer"},r.a.createElement(gt.a,{label:"nameOfScence",value:z.nameOfScence,onChange:function(e){se(e.target.value,"nameOfScence")}}),r.a.createElement("div",null,r.a.createElement(gt.a,{label:"longitude",value:z.longitude,onChange:function(e){se(e.target.value,"longitude")}}),r.a.createElement(gt.a,{label:"latitude",value:z.latitude,onChange:function(e){se(e.target.value,"latitude")}})),r.a.createElement(gt.a,{label:"des",multiline:!0,value:z.des,onChange:function(e){se(e.target.value,"des")}}),r.a.createElement(gt.a,{multiline:!0,label:"picURL",value:z.picURL,onChange:function(e){se(e.target.value,"picURL")}}),r.a.createElement(gt.a,{label:"pointOrNot",value:z.pointOrNot,onChange:function(e){se(e.target.value,"pointOrNot")}}),r.a.createElement(gt.a,{label:"category",value:z.category,onChange:function(e){se(e.target.value,"category")}}),r.a.createElement(gt.a,{label:"contructor",value:z.contructor,onChange:function(e){se(e.target.value,"contructor")}}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:function(){if(""===z.des||""===z.picURL)return alert("\u6709\u672a\u586b\u9879\u76ee\uff01");i(z),ue(),K(new Te),R([]),k("")}},"\u4fdd\u5b58\u5230\u5f53\u65e5\u884c\u7a0b")))),r.a.createElement(za.a,{open:H,onClose:function(){F(!1)}},r.a.createElement(Ka.a,null,"\u8bf7\u62d6\u52a8\u6392\u5e8f\uff1a"),r.a.createElement("div",{className:"replanContainer2"},t.map((function(e,a){return r.a.createElement("div",{key:a,className:"replanContainer1"},r.a.createElement("div",{className:"titlereplan"},"\u7b2c".concat(a+1,"\u5929")),r.a.createElement(Va.Container,{orientation:"horizontal",className:"replanContainer",style:Ie,groupName:"1",getChildPayload:function(e){return function(e,a){console.log("\u5c06\u7b2c".concat(a+1,"\u5929\u7684\u7b2c").concat(e+1,"\u4e2a\u666f\u70b9\u79fb\u52a8\u5230\uff1a"));var n=t[a][e];Object.keys(n).forEach((function(e){Y[e]=n[e]})),0!==$&&$(0)}(e,a)},onDrop:me},e.map((function(e,t){return r.a.createElement(Va.Draggable,{key:e.nameOfScence,style:{height:"30px"}},r.a.createElement("div",{className:"itemContainer"},e.nameOfScence))}))))})))))},Ya=a(39),Xa=a(69),Qa=a(70),qa=a(71),Za=a(96);var $a=Object(Za.GoogleApiWrapper)({apiKey:"AIzaSyB5LS2bbGE_Iw1e7Dc3_al7glDliILip_c"})((function(e){var t=e.google,a=e.totalData,c=e.data,i=e.removeItem,o=e.AddOneItem,l=e.changePlan,u=Object(n.useState)(null),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),h=g[0],b=g[1],v=Object(n.useState)([]),E=Object(s.a)(v,2),y=E[0],O=E[1],j=Object(n.useState)(!1),x=Object(s.a)(j,2),k=x[0],S=x[1],C=Object(n.useState)(!1),N=Object(s.a)(C,2),A=N[0],T=N[1],I=Object(n.useState)(new Te),D=Object(s.a)(I,2),R=D[0],_=D[1],P=Object(n.useState)(new Te),L=Object(s.a)(P,2),G=L[0],M=L[1],U=Object(n.useState)(0),H=Object(s.a)(U,2),F=H[0],W=H[1],B=Object(n.useState)(null),z=Object(s.a)(B,2),K=z[0],V=z[1],J=Object(n.useState)(null),Y=Object(s.a)(J,2),X=Y[0],Q=Y[1],q=Object(n.useState)(""),Z=Object(s.a)(q,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(""),ie=Object(s.a)(ce,2),le=ie[0],ue=ie[1],se=Object(n.useState)(!1),me=Object(s.a)(se,2),de=me[0],pe=me[1],fe=Object(n.useState)(null),ge=Object(s.a)(fe,2),he=ge[0],be=ge[1],ve=Object(n.useState)(null),Ee=Object(s.a)(ve,2),ye=Ee[0],Oe=Ee[1];Object(n.useEffect)((function(){console.log("google\u5730\u56fe\u5f00\u59cb\u6e32\u67d3\uff01",a,c),c&&c.length>0&&we(c[0]),de&&pe(!1)}),[a,c,null===c||void 0===c?void 0:c.length,i]);var we=function(e){var t={};t.lat=parseFloat(e.latitude),t.lng=parseFloat(e.longitude),Q(t)},xe=function(e,t,a){var n=document.createElement("div"),r=document.createElement("div");r.innerHTML=e,n.appendChild(r);var c=document.createElement("div");return c.innerHTML="\u6dfb\u52a0\u5230\u5f53\u65e5\u884c\u7a0b",c.onclick=function(){return t(a)},n.appendChild(c),n},ke=function(e){R.nameOfScence=e.name,R.longitude=e.geometry.location.lng(),R.latitude=e.geometry.location.lat(),S(!0)},Se=function(){console.log("\u6392\u5e8f"),T(!0),de&&(V(null),pe(!1))},Ce=function(){S(!1)},Ne=function(e,t){R[t]="category"===t?parseInt(e):e,R[t]=e,_(Object(oa.a)({},R))},Ae=function(e){var t=F+1;F<a.length&&W(t);var n=e.removedIndex,r=e.addedIndex;if((null!==n||null!==r)&&null!==r){console.log("\u7b2c".concat(F+1,"\u5929\u7684\u7b2c").concat(r+1,"\u5904\uff01"));var c=JSON.parse(JSON.stringify(a)),i=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(e[n][r].nameOfScence===t){a.push(n),a.push(r);break}return a}(c,G.nameOfScence);c[i[0]].splice(i[1],1),c[F].splice(r,0,G),l(c),M(new Te)}},De=function(e,t){console.log("\u5730\u56fe\u5b8c\u6210\u521d\u59cb\u5316\uff1a",e);var a=new e.google.maps.places.PlacesService(t);be(a),p(t)},Re=function(e,t){console.log(t);var a=c.filter((function(t){return t.nameOfScence===e.title}));a[0].nameOfScence!==$?(ee(a[0].nameOfScence),re(a[0].des),ue(a[0].picURL),Q(e.position),V(t),pe(!0)):(ee(""),re(""),ue(""),V(null),pe(!1))},_e=function(e){console.log("\u70b9\u51fb\u5730\u56fe",e)},Pe=function(e){de&&(ee(""),re(""),ue(""),V(null),pe(!1));for(var t=0;t<c.length;t++)c[t].nameOfScence===e&&i(t)},Le=function(){ee(""),re(""),ue(""),V(null),pe(!1)};return r.a.createElement("div",{className:"outerContainer"},r.a.createElement("div",{id:"container",className:"map",style:{height:"".concat(je(),"px")}},(c&&c.length,r.a.createElement(Za.Map,{google:t,zoom:15,containerStyle:oe,onReady:De,onClick:_e,center:X},c.map((function(e,t){var a={};return a.lat=parseFloat(e.latitude),a.lng=parseFloat(e.longitude),r.a.createElement(Za.Marker,{key:t,title:e.nameOfScence,onClick:Re,position:a})})),r.a.createElement(en,{marker:K,visible:de,onClose:Le},r.a.createElement("div",{className:"windowContainerForGoogle"},r.a.createElement("p",null,$),r.a.createElement("p",null,ne),r.a.createElement("div",{className:"imgContainer"},r.a.createElement("img",{className:"img",src:le,alt:""})),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("div",{onClick:Se},"\u666f\u70b9\u6392\u5e8f"),r.a.createElement("div",{onClick:function(){return Pe($)}},"\u5220\u9664\u6b64\u70b9"))))))),r.a.createElement("div",{className:"textFieldContainer"},r.a.createElement(na.a,{variant:"outlined"},r.a.createElement(ea.a,{htmlFor:"outlined-adornment-password"},"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"),r.a.createElement(Fa.a,{id:"outlined-adornment-password",type:"text",value:h,onChange:function(e){b(e.target.value)},endAdornment:y&&y.length>0?r.a.createElement(Zt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){O([]),b(""),ye&&(ye.setMap(null),Oe(null))},edge:"end"},r.a.createElement(Ke.a,null))):r.a.createElement(Zt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){if(h.trim()&&""!==h.trim()){var e={query:h.trim(),fields:["name","formatted_address","geometry"]};try{he.findPlaceFromQuery(e,(function(e,a){a===t.maps.places.PlacesServiceStatus.OK&&e&&(console.log(e[0].geometry.location.lat()),O(e))}))}catch(a){alert("\u7cfb\u7edf\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"),console.log(a)}}},edge:"end"},r.a.createElement(Ba.a,null))),label:"Password"})),r.a.createElement("div",{className:"resultsContainer"},y&&y.length>0?r.a.createElement(Ia.a,null,y.map((function(e,a){return r.a.createElement("div",{key:a,onClick:function(){!function(e){ye&&ye.setMap(null);var a=e.geometry.location.lat(),n=e.geometry.location.lng(),r=new t.maps.Marker({position:{lat:a,lng:n},map:d,title:e.name}),c=new t.maps.InfoWindow({content:xe(e.name,ke,e),ariaLabel:e.name});r.addListener("click",(function(){c.open({anchor:r,mapG:d})}));var i={};i.lat=a,i.lng=n,Q(i),Oe(r)}(e)}},r.a.createElement(Ea.a,null,r.a.createElement(ya.a,{primary:e.name})))}))):null)),r.a.createElement("div",{className:"listContainer",style:{left:document.body.clientWidth<je()?"20px":"220px"}},c&&c.length>0?r.a.createElement(Ia.a,null,c.map((function(e,t){return r.a.createElement("div",{key:e.nameOfScence,onClick:function(){!function(e){we(c[e])}(t)}},r.a.createElement(Ea.a,null,r.a.createElement(ya.a,{primary:e.nameOfScence})),r.a.createElement(Na.a,null))}))):null),r.a.createElement(za.a,{open:k,onClose:Ce},r.a.createElement(Ka.a,null,"\u8bf7\u5b8c\u5584\u5982\u4e0b\u4fe1\u606f\uff1a"),r.a.createElement("div",{className:"textContainer"},r.a.createElement(gt.a,{label:"nameOfScence",value:R.nameOfScence,onChange:function(e){Ne(e.target.value,"nameOfScence")}}),r.a.createElement("div",null,r.a.createElement(gt.a,{label:"longitude",value:R.longitude,onChange:function(e){Ne(e.target.value,"longitude")}}),r.a.createElement(gt.a,{label:"latitude",value:R.latitude,onChange:function(e){Ne(e.target.value,"latitude")}})),r.a.createElement(gt.a,{label:"des",multiline:!0,value:R.des,onChange:function(e){Ne(e.target.value,"des")}}),r.a.createElement(gt.a,{multiline:!0,label:"picURL",value:R.picURL,onChange:function(e){Ne(e.target.value,"picURL")}}),r.a.createElement(gt.a,{label:"pointOrNot",value:R.pointOrNot,onChange:function(e){Ne(e.target.value,"pointOrNot")}}),r.a.createElement(gt.a,{label:"category",value:R.category,onChange:function(e){Ne(e.target.value,"category")}}),r.a.createElement(gt.a,{label:"contructor",value:R.contructor,onChange:function(e){Ne(e.target.value,"contructor")}}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:function(){if(""===R.des||""===R.picURL)return alert("\u6709\u672a\u586b\u9879\u76ee\uff01");o(R),Ce(),_(new Te),O([]),b(""),ye&&(ye.setMap(null),Oe(null))}},"\u4fdd\u5b58\u5230\u5f53\u65e5\u884c\u7a0b")))),r.a.createElement(za.a,{open:A,onClose:function(){T(!1)}},r.a.createElement(Ka.a,null,"\u8bf7\u62d6\u52a8\u6392\u5e8f\uff1a"),r.a.createElement("div",{className:"replanContainer2"},a.map((function(e,t){return r.a.createElement("div",{key:t,className:"replanContainer1"},r.a.createElement("div",{className:"titlereplan"},"\u7b2c".concat(t+1,"\u5929")),r.a.createElement(Va.Container,{orientation:"horizontal",className:"replanContainer",style:Ie,groupName:"1",getChildPayload:function(e){return function(e,t){console.log("\u5c06\u7b2c".concat(t+1,"\u5929\u7684\u7b2c").concat(e+1,"\u4e2a\u666f\u70b9\u79fb\u52a8\u5230\uff1a"));var n=a[t][e];Object.keys(n).forEach((function(e){G[e]=n[e]})),0!==W&&W(0)}(e,t)},onDrop:Ae},e.map((function(e,t){return r.a.createElement(Va.Draggable,{key:e.nameOfScence,style:{height:"30px"}},r.a.createElement("div",{className:"itemContainer"},e.nameOfScence))}))))})))))})),en=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(Xa.a)(this,Object(Qa.a)(t).call(this,e))).infoWindowRef=r.a.createRef(),a.contentElement=document.createElement("div"),a}return Object(qa.a)(t,e),Object(Ya.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&(i.a.render(r.a.Children.only(this.props.children),this.contentElement),this.infoWindowRef.current.infowindow.setContent(this.contentElement))}},{key:"render",value:function(){return r.a.createElement(Za.InfoWindow,Object.assign({ref:this.infoWindowRef},this.props))}}]),t}(n.Component),tn=Object(m.a)((function(e){return{root:{display:"flex"},drawer:Object(Ca.a)({},e.breakpoints.up("sm"),{width:200,flexShrink:0}),appBar:Object(Ca.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(200,"px)"),marginLeft:200}),menuButton:Object(Ca.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:200},content:{flexGrow:1},contentMode:{flexGrow:1,padding:e.spacing(3)},drawerTitle:{display:"flex",flexDirection:"column",alignItems:"center"},btn:{marginTop:e.spacing(1)},title:{flexGrow:1},mapContainer:{}}}));var an=Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.window,a=e.trip,n=e.dispatch,c=e.location,i=tn(),o=Object(U.a)(),l=r.a.useState(!1),u=Object(s.a)(l,2),m=u[0],d=u[1],p=r.a.useState(0),f=Object(s.a)(p,2),g=f[0],h=f[1],b=r.a.useState(a||c.params),v=Object(s.a)(b,2),E=v[0],y=v[1],O=r.a.useState(!1),j=Object(s.a)(O,2),x=j[0],k=j[1],N=function(e,t,a){E.detail[g][a][t]="category"===t?parseInt(e.target.value):e.target.value,y(Object(oa.a)({},E))},A=function(e){E.detail[g].splice(e,1),y(Object(oa.a)({},E))},T=function(){d(!m)},I=function(e){var t=JSON.parse(JSON.stringify(E));t.detail=e,console.log("\u7ec8\u6781\u6570\u636e\uff1a",t),y(t)},D=function(e){var t=null;t=e||new Te,E.detail.length>0&&(E.detail[g].push(t),y(Object(oa.a)({},E)))},R=r.a.createElement("div",null,r.a.createElement("div",{className:i.toolbar},r.a.createElement("p",{className:i.drawerTitle},E.tripName),r.a.createElement("p",{className:i.drawerTitle},"by ".concat(E.designer)),r.a.createElement("p",{className:i.drawerTitle},"\u884c\u7a0b\u7f16\u53f7\uff1a".concat(E.uid)),r.a.createElement("p",{className:i.drawerTitle},"\u57ce\u5e02\uff1a".concat(E.city)),r.a.createElement("p",{className:i.drawerTitle},"\u56fd\u5bb6\uff1a".concat(E.country)),r.a.createElement("p",{className:i.drawerTitle},"\u6807\u7b7e\uff1a".concat(E.tags))),r.a.createElement(Na.a,null),r.a.createElement(Ia.a,null,r.a.createElement(Ea.a,{button:!0,onClick:function(){E.detail.push([]),y(Object(oa.a)({},E))}},"\u6dfb\u52a0\u4e00\u65e5\u884c\u7a0b",r.a.createElement(La.a,null,r.a.createElement(Pa.a,null))),null!=E.detail&&E.detail.length>0?E.detail.map((function(e,t){return r.a.createElement(Ea.a,{button:!0,key:t,selected:g===t,onClick:function(){h(t)}},r.a.createElement(ya.a,{primary:"Day".concat(t+1)}),r.a.createElement(La.a,{onClick:function(e){!function(e,t){e.stopPropagation(),E.detail.splice(t,1),y(Object(oa.a)({},E)),t===g&&h(0)}(e,t)}},r.a.createElement(Ma.a,null)))})):null),r.a.createElement(Na.a,null)),_=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:i.root},r.a.createElement(It.a,null),E?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{position:"fixed",className:i.appBar},r.a.createElement(S.a,null,r.a.createElement(w.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:T,className:i.menuButton},r.a.createElement(Ra.a,null)),r.a.createElement(W.a,{variant:"h6",noWrap:!0,className:i.title},r.a.createElement(Tt.a,{color:"inherit",href:"/editinit"},"\u5730\u56fe\u6570\u636e\u7f16\u8f91")),E.detail.length>0&&E.detail[g]&&E.detail[g].length>0?r.a.createElement(Qe.a,{style:{marginRight:"5px"},variant:"outlined",color:"inherit",onClick:function(){k(!x)}},x?"\u5730\u56fe\u6a21\u5f0f":"\u7f16\u8f91\u6a21\u5f0f"):null,x&&E.detail.length>0?r.a.createElement(Qe.a,{style:{marginRight:"5px"},variant:"outlined",color:"inherit",onClick:D},"\u5f53\u5929\u65b0\u589e\u4e00\u70b9"):null,E.detail.length>0&&function(e){for(var t=0;t<e.length;t++)if(0===e[t].length)return!1;return!0}(E.detail)?r.a.createElement(Qe.a,{variant:"outlined",color:"inherit",onClick:function(){for(var e=E.detail,t=0;t<e.length;t++)for(var a=e[t],r=0;r<a.length;r++)if(!Ce(a[r]))return alert("\u6709\u672a\u586b\u7684\u9879\u76ee\uff01");n({type:"SAVETRIP_SAGA",payload:E})}},"SAVE"):null)),r.a.createElement("nav",{className:i.drawer,"aria-label":"mailbox folders"},r.a.createElement(Ta.a,{smUp:!0,implementation:"css"},r.a.createElement(Aa.a,{container:_,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:m,onClose:T,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0}},R)),r.a.createElement(Ta.a,{xsDown:!0,implementation:"css"},r.a.createElement(Aa.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0},R))),r.a.createElement("main",{className:Object(qt.a)(!x&&i.content,x&&i.contentMode)},x&&E.detail[g]&&E.detail[g].length>0?E.detail[g].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("div",{className:i.toolbar}),r.a.createElement("div",null,r.a.createElement(gt.a,{label:"nameOfScence",value:e.nameOfScence,onChange:function(e){N(e,"nameOfScence",t)}})),r.a.createElement("div",null,r.a.createElement(gt.a,{value:e.longitude,label:"longitude",onChange:function(e){N(e,"longitude",t)}}),r.a.createElement(gt.a,{value:e.latitude,label:"latitude",onChange:function(e){N(e,"latitude",t)}})),r.a.createElement("div",null,r.a.createElement(gt.a,{value:e.des,multiline:!0,label:"des",onChange:function(e){N(e,"des",t)}})),r.a.createElement("div",null,r.a.createElement(gt.a,{multiline:!0,label:"picURL",value:e.picURL,onChange:function(e){N(e,"picURL",t)}})),r.a.createElement(gt.a,{value:e.pointOrNot,label:"pointOrNot",onChange:function(e){N(e,"pointOrNot",t)}}),r.a.createElement(gt.a,{value:e.category,label:"category",onChange:function(e){N(e,"category",t)}}),r.a.createElement("div",null,r.a.createElement(gt.a,{value:e.contructor,label:"contructor",onChange:function(e){N(e,"contructor",t)}})),r.a.createElement("div",{className:i.btn},r.a.createElement(Qe.a,{color:"secondary",variant:"contained",onClick:function(){return A(t)}},"\u5220\u9664\u7b2c".concat(g+1,"\u5929\u7b2c").concat(t+1,"\u4e2a\u666f\u70b9"))),r.a.createElement(Na.a,null))})):1===E.domestic?r.a.createElement(Ja,{data:E.detail[g],totalData:E.detail,removeItem:A,AddOneItem:D,selectedIndex:g,changePlan:I}):r.a.createElement($a,{data:E.detail[g],totalData:E.detail,removeItem:A,AddOneItem:D,selectedIndex:g,changePlan:I}))):null)})),nn=Object(l.g)(Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.user,a=(e.path,e.component),n=Object(o.a)(e,["user","path","component"]);return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(l.a,{to:"/signin"})}}))}))),rn=Object(l.g)(Object(u.c)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.trip,a=e.component,n=Object(o.a)(e,["trip","component"]);return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return e.location.params||t?r.a.createElement(a,e):r.a.createElement(l.a,{to:"/editinit"})}}))}))),cn=function(){return r.a.createElement(l.d,null,r.a.createElement(nn,{path:"/",component:ft,exact:!0,key:"main"}),",",r.a.createElement(nn,{path:"/submit",component:Ct,exact:!0,key:"submit"}),",",r.a.createElement(nn,{path:"/submitArrange",component:At,exact:!0,key:"submitArrange"}),",",r.a.createElement(l.b,{path:"/signin",component:Ft,exact:!0,key:"signin"}),",",r.a.createElement(l.b,{path:"/logon",component:Kt,exact:!0,key:"logon"}),",",r.a.createElement(l.b,{path:"/photos",component:Qt,exact:!0,key:"photos"}),",",r.a.createElement(nn,{path:"/photosInput",component:pa,exact:!0,key:"photosInput"}),",",r.a.createElement(nn,{path:"/photosEdit",component:va,exact:!0,key:"photosEdit"}),",",r.a.createElement(nn,{path:"/story",component:ma,exact:!0,key:"story"}),",",r.a.createElement(nn,{path:"/totalStorys",component:ja,exact:!0,key:"totalstorys"}),",",r.a.createElement(nn,{path:"/client",component:Sa,exact:!0,key:"client"}),",",r.a.createElement(nn,{path:"/editinit",component:ia,exact:!0,key:"editinit"}),",",r.a.createElement(nn,{path:"/totalTrips",component:xa,exact:!0,key:"totalTrips"}),",",r.a.createElement(rn,{path:"/edit",component:an,exact:!0,key:"edit"}),",")},on=a(123),ln=a(73),un=a(324),sn=a(294),mn=a(64),dn={chartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_CHART_DATA":return n}return e},tableData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_TABLE_DATA":return n}return e},left:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_LEFT":return n}return e},right:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_RIGHT":return n}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_USER":return n}return e},trip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_TRIP":return n}return e},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ITEM":return n}return e},all:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALL":return n}return e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_LOADING":return n}return e},whichPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_PAGE":return n}return e},fenye:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_FENYE":return n}return e},nextstickerUsersIncreased:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_NEXTSTICKERUSERSINCREASED":return n}return e},workers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he(be),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_WORKERS":var r=Object(fa.a)(e);return r.forEach((function(e){e.forEach((function(e,t){n&&e.name===n?e.isChoosed=!e.isChoosed:n||(e.isChoosed=!1)}))})),r}return e},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_WORKERS":if(!n)return[];var r=Object(fa.a)(e);if(r.length>0){var c=r.findIndex((function(e){return e===n}));c>-1?r.splice(c,1):r.push(n)}else r.push(n);return r}return e},arrangeData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ARRANGEDATA":var r=n.date,c=n.list,i={date:r,list:c},o=Object(fa.a)(e),l=o.findIndex((function(e){return e.date===r}));return l>-1?o.splice(l,1,i):(o.push(i),o.sort((function(e,t){return e.date-t.date}))),me("ARRANGEDATA",o,3e3),o;case"SET_ARRANGEDATA_ARRAY":var u=Object(fa.a)(n);return u;case"SET_ARRANGEDATA_DELETE":var s=Object(fa.a)(e);return s.splice(n,1),me("ARRANGEDATA",s,3e3),s}return e},pageIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_PAGEINDEX":return n}return e}},pn=a(34),fn=a(16),gn=ce.a.mark(Nn),hn=ce.a.mark(An),bn=ce.a.mark(Tn),vn=ce.a.mark(In),En=ce.a.mark(Dn),yn=ce.a.mark(Rn),On=ce.a.mark(_n),jn=ce.a.mark(Pn),wn=ce.a.mark(Ln),xn=ce.a.mark(Gn),kn=ce.a.mark(Mn),Sn=ce.a.mark(Un),Cn=ce.a.mark(Hn);function Nn(e){var t;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,!(be.findIndex((function(e){return e.name===t}))>-1)){a.next=7;break}return a.next=5,Object(fn.b)(ut(t));case 5:a.next=8;break;case 7:return a.abrupt("return");case 8:case"end":return a.stop()}}),gn)}function An(){var e;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=de("ARRANGEDATA"))&&Date.now()<e.expires)){t.next=7;break}return t.next=4,Object(fn.b)({type:"SET_ARRANGEDATA_ARRAY",payload:e.data});case 4:return t.abrupt("return");case 7:if(!e){t.next=11;break}pe("ARRANGEDATA"),t.next=12;break;case 11:return t.abrupt("return");case 12:case"end":return t.stop()}}),hn)}function Tn(){var e;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=de("USER"))&&Date.now()<e.expires)){t.next=7;break}return t.next=4,Object(fn.b)(ot(e.data));case 4:return t.abrupt("return");case 7:if(!e){t.next=11;break}pe("USER"),t.next=12;break;case 11:return t.abrupt("return");case 12:case"end":return t.stop()}}),bn)}function In(e){var t;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ua.a.post("/api/users/login",Object(oa.a)({},e.payload));case 3:if(!(t=a.sent).data){a.next=13;break}return a.next=7,Object(fn.b)(ot(t.data.name));case 7:return me("USER",t.data.name,3e3),me("TOKEN",t.data.token,3e3),a.next=11,Object(fn.b)(Object(pn.d)("/"));case 11:a.next=14;break;case 13:alert("\u67e5\u65e0\u6b64\u4eba\uff01");case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),alert(a.t0);case 19:case"end":return a.stop()}}),vn,null,[[0,16]])}function Dn(e){var t;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ua.a.post("/api/users",Object(oa.a)({},e.payload));case 3:(t=a.sent).data&&"string"===typeof t.data?alert("\u7528\u6237\u5df2\u5b58\u5728\uff0c\u8bf7\u76f4\u63a5\u767b\u5f55\uff01"):t.data&&"object"===typeof t.data?alert("\u6ce8\u518c\u6210\u529f\uff01\uff01"):alert("\u7cfb\u7edf\u51fa\u9519\uff0c\u7a0d\u540e\u518d\u8bd5\uff01"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),alert(a.t0);case 10:case"end":return a.stop()}}),En,null,[[0,7]])}function Rn(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.a.post("/api/users/logout");case 2:return e.next=4,Object(fn.b)(ot(null));case 4:return pe("USER"),pe("TOKEN"),e.next=8,Object(fn.b)(lt(0));case 8:case"end":return e.stop()}}),yn)}function _n(e){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ua.a.post("/api/work/submit",Object(oa.a)({},e.payload),{headers:{Authorization:"Bearer "+de("TOKEN").data}});case 2:if(!t.sent.data){t.next=6;break}return t.next=6,Object(fn.b)(Object(pn.d)("/"));case 6:case"end":return t.stop()}}),On)}function Pn(e){var t,a;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(fn.b)(rt(!0));case 2:return n.next=4,ua.a.get("/api/work/count",{params:{page:e.payload}});case 4:return t=n.sent,n.next=7,Object(fn.b)({type:"SET_CHART_DATA",payload:t.data.output});case 7:return n.next=9,Object(fn.b)({type:"SET_TABLE_DATA",payload:t.data.arrWork});case 9:return n.next=11,Object(fn.b)({type:"SET_ALL",payload:t.data.total});case 11:return n.next=13,Object(fn.b)(rt(!1));case 13:return a=e.payload+1,n.next=16,Object(fn.b)(it(a));case 16:case"end":return n.stop()}}),jn)}function Ln(e){var t,a,n,r,c,i,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0,n=0,r=[],c=[],i=0;case 6:if(!(i<Ne.length)){e.next=15;break}return e.next=9,ke(Ne[i],Se);case 9:o=e.sent,t.push(o),a>=n?(r.push(t[i]),n+=t[i].height):(c.push(t[i]),a+=t[i].height);case 12:i++,e.next=6;break;case 15:return e.next=17,Object(fn.b)({type:"SET_LEFT",payload:c});case 17:return e.next=19,Object(fn.b)(st(r));case 19:case"end":return e.stop()}}),wn)}function Gn(e){var t,a,n,r,c,i,o,l,u,s,m;return ce.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if("object"!==typeof e.payload){d.next=28;break}return console.log(e.payload),t=e.payload,a=t.tripName,n=t.designer,r=t.uid,c=t.domestic,i=t.city,o=t.country,l=t.tags,d.prev=3,d.next=6,ua.a.get("/api/trip/get",{params:{uid:r}});case 6:if(!(u=d.sent).data){d.next=15;break}return alert("\u8be5\u884c\u7a0b\u7f16\u53f7\u5bf9\u5e94\u7684\u884c\u7a0b\u5df2\u5b58\u5728\uff01"),d.next=11,Object(fn.b)(nt(u.data));case 11:return d.next=13,Object(fn.b)(Object(pn.d)("/edit"));case 13:d.next=21;break;case 15:return s=new Ae(r,a,n,c,i,o,l,[[]]),console.log(s),d.next=19,Object(fn.b)(nt(s));case 19:return d.next=21,Object(fn.b)(Object(pn.d)("/edit"));case 21:d.next=26;break;case 23:d.prev=23,d.t0=d.catch(3),alert(d.t0);case 26:d.next=45;break;case 28:return d.prev=28,d.next=31,ua.a.get("/api/trip/get",{params:{uid:e.payload}});case 31:if(!(m=d.sent).data){d.next=39;break}return d.next=35,Object(fn.b)(nt(m.data));case 35:return d.next=37,Object(fn.b)(Object(pn.d)("/edit"));case 37:d.next=40;break;case 39:alert("\u65e0\u5bf9\u5e94\u7684\u884c\u7a0b\uff01");case 40:d.next=45;break;case 42:d.prev=42,d.t1=d.catch(28),alert(d.t1);case 45:case"end":return d.stop()}}),xn,null,[[3,23],[28,42]])}function Mn(e){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ua.a.post("/api/trip/new",Object(oa.a)({},e.payload));case 3:if(!t.sent.data){t.next=8;break}return alert("\u4fdd\u5b58\u6210\u529f\uff01"),t.next=8,Object(fn.b)(Object(pn.d)("/editinit"));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),kn,null,[[0,10]])}function Un(e){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ua.a.post("/api/trip/newItem",Object(oa.a)({},e.payload));case 3:if(!t.sent.data){t.next=10;break}return alert("\u6dfb\u52a0\u6210\u529f\uff01"),t.next=8,Object(fn.b)({type:"SET_ITEM",payload:""});case 8:t.next=11;break;case 10:alert("\u4e0d\u53ef\u6dfb\u52a0\u91cd\u590d\u7684\u6587\u7ae0\uff01\uff01");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),alert(t.t0);case 16:case"end":return t.stop()}}),Sn,null,[[0,13]])}function Hn(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fn.a)([Object(fn.c)("SET_LIST_SAGA",Nn),Object(fn.c)("GET_ARRANGEDATA_SAGA",An),Object(fn.c)("GET_USE_SAGA",Tn),Object(fn.c)("LOGIN_SAGA",In),Object(fn.c)("REGISTER_SAGA_SAGA",Dn),Object(fn.c)("LOGOUT_SAGA",Rn),Object(fn.c)("SUBMIT_SAGA",_n),Object(fn.c)("COUNT_SAGA",Pn),Object(fn.c)("PHOTOS_SAGA",Ln),Object(fn.c)("NEWTRIP_SAGA",Gn),Object(fn.c)("NEWITEM_SAGA",Un),Object(fn.c)("SAVETRIP_SAGA",Mn)]);case 2:case"end":return e.stop()}}),Cn)}var Fn=Object(mn.a)(),Wn=Object(sn.a)(Fn),Bn=Object(un.a)(),zn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ln.d,Kn=Object(ln.e)(Object(ln.c)(Object(oa.a)({},dn,{router:Object(on.b)(Fn)})),{fenye:1,all:0,loading:!1,user:null,chartData:null,tableData:null,whichPage:0,workers:he(be),list:[],arrangeData:[],left:[],right:[],trip:null,item:"",pageIndex:1,nextstickerUsersIncreased:0},zn(Object(ln.a)(Wn,Bn)));Bn.run(Hn);var Vn=Kn;var Jn=function(){return r.a.createElement(u.a,{store:Vn},r.a.createElement(on.a,{history:Fn},r.a.createElement(cn,null)))},Yn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(Jn,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Yn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Xn(t,e)}))}}()}},[[370,1,2]]]);
//# sourceMappingURL=main.0b25685d.chunk.js.map